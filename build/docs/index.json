[
  {
    "__docId__": 1,
    "kind": "external",
    "name": "Infinity",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Infinity",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Infinity",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 2,
    "kind": "external",
    "name": "NaN",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/NaN",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~NaN",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 3,
    "kind": "external",
    "name": "undefined",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~undefined",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 4,
    "kind": "external",
    "name": "null",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~null",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 5,
    "kind": "external",
    "name": "Object",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Object",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 6,
    "kind": "external",
    "name": "object",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~object",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 7,
    "kind": "external",
    "name": "Function",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Function",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 8,
    "kind": "external",
    "name": "function",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~function",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 9,
    "kind": "external",
    "name": "Boolean",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Boolean",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 10,
    "kind": "external",
    "name": "boolean",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~boolean",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 11,
    "kind": "external",
    "name": "Symbol",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Symbol",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 12,
    "kind": "external",
    "name": "Error",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Error",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 13,
    "kind": "external",
    "name": "EvalError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/EvalError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~EvalError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 14,
    "kind": "external",
    "name": "InternalError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/InternalError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~InternalError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 15,
    "kind": "external",
    "name": "RangeError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RangeError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~RangeError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 16,
    "kind": "external",
    "name": "ReferenceError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ReferenceError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~ReferenceError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 17,
    "kind": "external",
    "name": "SyntaxError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SyntaxError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~SyntaxError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 18,
    "kind": "external",
    "name": "TypeError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypeError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~TypeError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 19,
    "kind": "external",
    "name": "URIError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/URIError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~URIError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 20,
    "kind": "external",
    "name": "Number",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Number",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 21,
    "kind": "external",
    "name": "number",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~number",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 22,
    "kind": "external",
    "name": "Date",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Date",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 23,
    "kind": "external",
    "name": "String",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~String",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 24,
    "kind": "external",
    "name": "string",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~string",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 25,
    "kind": "external",
    "name": "RegExp",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~RegExp",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 26,
    "kind": "external",
    "name": "Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 27,
    "kind": "external",
    "name": "Int8Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Int8Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Int8Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 28,
    "kind": "external",
    "name": "Uint8Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Uint8Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 29,
    "kind": "external",
    "name": "Uint8ClampedArray",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8ClampedArray",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Uint8ClampedArray",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 30,
    "kind": "external",
    "name": "Int16Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Int16Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Int16Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 31,
    "kind": "external",
    "name": "Uint16Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint16Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Uint16Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 32,
    "kind": "external",
    "name": "Int32Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Int32Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Int32Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 33,
    "kind": "external",
    "name": "Uint32Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint32Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Uint32Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 34,
    "kind": "external",
    "name": "Float32Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Float32Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Float32Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 35,
    "kind": "external",
    "name": "Float64Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Float64Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Float64Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 36,
    "kind": "external",
    "name": "Map",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Map",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 37,
    "kind": "external",
    "name": "Set",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Set",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 38,
    "kind": "external",
    "name": "WeakMap",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakMap",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~WeakMap",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 39,
    "kind": "external",
    "name": "WeakSet",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakSet",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~WeakSet",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 40,
    "kind": "external",
    "name": "ArrayBuffer",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~ArrayBuffer",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 41,
    "kind": "external",
    "name": "DataView",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~DataView",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 42,
    "kind": "external",
    "name": "JSON",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~JSON",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 43,
    "kind": "external",
    "name": "Promise",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Promise",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 44,
    "kind": "external",
    "name": "Generator",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Generator",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Generator",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 45,
    "kind": "external",
    "name": "GeneratorFunction",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/GeneratorFunction",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~GeneratorFunction",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 46,
    "kind": "external",
    "name": "Reflect",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Reflect",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Reflect",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 47,
    "kind": "external",
    "name": "Proxy",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Proxy",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 48,
    "kind": "file",
    "name": "src/generics.js",
    "content": "\"use strict\";\n/**\n * Base class element for building custom router elements (e.g. {@link HereTransitRouter}).\n *\n * @abstract\n */\nclass BaseRouter extends HTMLElement {\n//    static getType() { return \"abstract\"; };\n\n    constructor() {\n        super();\n        /**\n         * Returns \"abstract\" for this router.\n         * @type {string}\n         */\n        this.type = \"abstract\";\n        /**\n         * Type of the router.\n         * @type {string}\n         */\n        this.id     = this.getAttribute(\"id\") || this.tagName;\n        /** @type {string} */\n        this.name   = this.getAttribute(\"name\") || this.type;\n        /** @type {Address} */\n        this.start  = parseCoordString(this.getAttribute(\"start\"));\n        /** @type {Address} */\n        this.dest   = parseCoordString(this.getAttribute(\"dest\"));\n        /** @type {Date} */\n        this.time   = this.getAttribute(\"time\");\n\n        /** @type {Request|undefined} */\n        this.currentRequest = undefined;\n        /** @type {Route[]|undefined} */\n        this.currentRoutes  = undefined;\n        /** @type {Error|undefined} */\n        this.currentError   = undefined;\n    }\n\n    connectedCallback() {\n        setTimeout(() => {\n            this.update(this.start, this.dest, this.time);\n        }, 50);\n    }\n\n    buildRequest() {\n        console.warn(\"Need to implement router.buildRequest() method\");\n    }\n\n    /**\n     * @fires GenericRouter#request\n     */\n    update(start, dest, time=undefined) {\n        // update\n        if (start) this.start = Address.enforce(start);\n        if (dest) this.dest = Address.enforce(dest);\n        if (time) this.time = time;\n\n        // perform request if possivle\n        if (this.start && this.dest && this.time) {\n            let request = this.buildRequest(this.start, this.dest, this.time);\n            this.currentRequest = request;\n            this.dispatchEvent(new CustomEvent('request', { detail: request }));\n            this.route(request).then(response => {\n                this.currentRoutes = response.routes;\n                this.currentError = undefined;\n                this.dispatchEvent(new CustomEvent('response', { detail: response }));\n                this.dispatchEvent(new CustomEvent('routes', { detail: { routes: response.routes }}));\n            }, error => {\n                this.currentRoutes = undefined;\n                this.currentError = error;\n                this.dispatchEvent(new CustomEvent('response', { detail: response }));\n                this.dispatchEvent(new CustomEvent('error', { detail: error }));\n                throw error;\n            });\n        } else {\n            console.warn(this.id, \"doesn't have all request data\");\n        }\n    }\n}\n\n\n/**\n * Router Request class.\n */\nclass Request {\n    /**\n     * create instance.\n     * @param {{start:Location, dest:Location, time:Date, others:Object}} options - xxx\n     **/\n    constructor(router, start, dest, time, others={}) {\n        /** @type {BaseRouter} */\n        this.router = router;\n        /** @type {Location} */\n        this.start = start;\n        /** @type {Location} */\n        this.dest = dest;\n        /** @type {Date} */\n        this.time = time;\n\n        Object.assign(this, others);\n\n        this._constructTime = new Date();\n    }\n\n    /**\n     * Calculates current elapsed time in seconds\n     * @return {float} - seconds elapsed\n     */\n    _elapsedTime() {\n        return (new Date() - this._constructTime) / 1000;\n    }\n}\n\n\n/**\n * Router Response class.\n */\nclass Response {\n    /**\n     * create instance.\n     * @param {Request} request - related request.\n     * @param {Array<Route>} routes - response routes\n     */\n    constructor(request, ...routes) {\n        /** @type {Request} */\n        this.request = request;\n        /** @type {Array<Route>} */\n        this.routes = routes;\n        /** @type {Object} */\n        this.error = undefined;\n        /** @type {float} */\n        this.elapsed = request._elapsedTime();\n//        console.log(\"Request took\", this.elapsed, \"secs:\", this.request);\n    }\n\n    setError(error) {\n        this.error = error;\n        return this;\n    }\n}\n\n\n/**\n * generic Location object\n */\nclass Location {\n    /**\n     * this is object destructuring.\n     * @param {Object} param - this is object param.\n     * @param {number} param.foo - this is property param.\n     * @param {string} param.bar - this is property param.\n     */\n    /**\n     * create instance.\n     * @param {{lat:float, lng:float, ?lon:float}} param\n     * @param {float} param.lng - latitude\n     * @param {float} param.lng - longitude\n     * @param {float} [param.lon] - alias for longitude (will be used when not given .lng)\n     **/\n     constructor({lat, lng, lon}) {\n        /** @type {float} */\n        this.lat  = lat;\n        /** @type {float} */\n        this.lng  = lng || lon;\n        /** @type {string} */\n        this.type = \"location\";\n    }\n\n    /**\n     * Alias for {@link Location.lng}\n     * @type {float}\n     */\n    get lon() { return this.lng; }\n}\n\n\n/**\n * generic Address object\n */\nclass Address extends Location {\n    /**\n     * create instance.\n     * @param {{lat:float,lng:float,name:string}} object\n     **/\n    constructor({lat, lng, lon, name, time}) {\n        super({lat:lat,lng:lng,lon:lon});\n\n        this.type = \"address\";\n\n        this._name = name;\n        /** @type {Date} */\n        this.time = time;\n    }\n\n    /**\n     * Returns {name} or Address.\n     * @type {string}\n     */\n    get name() { return this._name || [this.lat, this.lon].map(val => Math.round(val, 2)).join(\",\"); }\n\n    /**\n     * Returns the date as HH:MM\n     * @type {string}\n     */\n    get timeString() { return this.time.getHours() + \":\" + (\"0\"+this.time.getMinutes()).slice(-2); }\n}\n\n/**\n * Returns Address object if not already Address.\n * @param {object|Address} addr\n * @return {Address} addr as Address\n */\nAddress.enforce = (addr) => (addr instanceof Address) ? addr : new Address(addr);\n\n\n/**\n * generic Stop object\n */\nclass Stop extends Address {\n    constructor(data) {\n        super(data);\n        /** @type {string} */\n        this.type = \"location\";\n\n        /** @type {string} */\n        self.id     = data.id;\n\n        /** @type {string} */\n        self.platform = data.platform;\n        /**\n         * data source of this stop\n         * @type {object}\n         */\n        self.source = data.source;\n    }\n}\n\n\n/**\n * Transport object for {@link Leg}\n */\nclass Transport {\n    /**\n     * create instance.\n     * @param {{type:string,name:string,color:Color,headsign:string}} params - foo\n     */\n    constructor({type, name, color, headsign}) {\n        /** @type {string} */\n        this.type = type;\n        /** @type {string} */\n        this.name = name;\n        /** @type {Color} */\n        this.color = color;\n        /** @type {string} */\n        this.headsign = headsign;\n    }\n\n    isSame(other) { return this.type === other.type && this.name === other.name; }\n}\n\n\nclass Route {\n    constructor(id, router, departure, arrival, legs=[]) {\n        /** @type {string} */\n        this.id = id;\n        /** @type {BaseRouter} */\n        this.router = router;\n        /** @type {Location} */\n        this.departure = departure;\n        /** @type {Location} */\n        this.arrival = arrival;\n        /** @type {Leg[]} */\n        this.legs = legs;\n    }\n\n    /**\n     * @deprecated use {Route#id} instead of this.\n     * @type {string} */\n    get uid() { return this.id; }\n\n    get duration() {\n        const FOO = [[60*60*1000, \"hr\", \"hrs\"], [60*1000, \"min\", \"mins\"], [1000, \"sec\", \"secs\"]];\n        let ms = this.arrival.time - this.departure.time;\n        let parts = [];\n        for (let [factor, sn, pl] of FOO) {\n            let val = Math.floor(ms/factor);\n            if (val) {\n                let unit = val==1 ? sn : pl;\n                parts.push(`${val} ${unit}`);\n                ms -= val * factor;\n            }\n        }\n        return parts.join(\" \");\n    }\n}\n\n\nclass Leg {\n    /**\n     * create instance.\n     * @param {Location} departure - start location\n     * @param {Location} arrival - dest location\n     * @param {Transport} transport - transport definition\n     * @param {CoordinatePair[]} [geometry] - the geometry points excluding start, dest\n     * @param {{id:string,distance:number,summary:string,steps:Location[]}} params - Optional parameters.\n     */\n    constructor(departure, arrival, transport, geometry=[], {id,distance,summary,steps}={}) {\n        /** @type {string} */\n        this.id = id;\n        /** @type {Location} */\n        this.departure = departure;\n        /** @type {Location} */\n        this.arrival = arrival;\n        /** @type {Transport} */\n        this.transport = transport;\n        /** @type {CoordinatePair[]} */\n        this.geometry = geometry;\n        /** @type {number} */\n        this.distance = distance;\n        /** @type {string} */\n        this.summary = summary;\n        /** @type {location[]} */\n        this.steps = steps || [];\n    }\n\n    /**\n     * Extends this Leg with the `other` Leg\n     * @param {Leg} other - The other Leg to be added.\n     */\n    extendLeg(other) {\n        // TODO: check this.arrival == other.departure\n        this.geometry.push([this.arrival.lat, this.arrival.lng]);\n        this.geometry = this.geometry.concat(other.geometry);\n        this.arrival = other.arrival;\n        this.distance += other.distance;\n        this.steps = this.steps.concat([other.departure]).concat(other.steps);\n//        this.steps = this.steps.conat([other.departure]).concat(other.steps);\n    }\n}\n\n/**\n * @typedef {[lat:float, lng:float]} CoordinatePair\n * @example\n * let pair = [52.5, 13.2];\n */\n\n/**\n * @typedef {string<#rrggbb>} Color\n * @example\n * let color = \"#ccbbaa\";\n */\n\n/**\n * @external {HTMLElement} https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement\n */\n\n/**\n * @external {DOMNode} https://developer.mozilla.org/en-US/docs/Web/API/Element\n */\n\n/**\n * @external {DOMSelector} https://developer.mozilla.org/en-US/docs/Learn/CSS/Introduction_to_CSS/Selectors\n */\n\n\n/**\n * Return coordinate-object for coordinte-string\n * @param {string} s - A string like `\"52.432,13.254\"`\n * @returns {CoordinatePair} - The object representation.\n */\nfunction parseCoordString(s) {\n    if (!s) return null;\n    var coords = s.split(\",\").map(parseFloat);\n    return { lat: coords[1], lng: coords[0], }\n}\n\n\n/**\n * Find a DOMElement. It has various ways:\n * - try finding {@link DOMNode} by {@link DOMSelector} including a class check\n * - iterate over parent-nodes to find a {@link DOMNode} of the specified class\n * - find a {@link DOMNode} by querying by tag-name. Fails if not exactly one node found.\n * - return default if specified or throw error.\n *\n * @param {DOMNode} node - The node to start lookup.\n * @param {DOMSelector|undefined} selector - The dom selector to find the element.\n * @param {HTMLElement} Element - The required type.\n * @param {Object|string|number} [defaultValue] - Returned value if not found. NEED TO BE DIFFERENT THAN `undefined`!!\n * @return {DOMNode|undefined} - The node or undefined if not found.\n * @throws Exception when no {DOMNode} was found and no defaultValue was provided.\n */\nfunction findRootElement(node, selector, Element, defaultValue=undefined) {\n    let found;\n    // return node by selector\n    if (selector) {\n        found = document.querySelectorAll(selector);\n        if (found.length == 1) return verifyClass(found[0], Element, defaultValue);\n        if (defaultValue !== undefined) return defaultValue;\n        console.error(\"Reference in node\", node, `(${selector}) points to ${found} and no default provided.`);\n        throw `One reference target for ${node}(${selector}) is required but returned: ${found}`\n    }\n\n    // return when it's a parent (nesting)\n    found = node;\n    while (found = found.parentNode) {\n        if (found instanceof Element) return found;\n    }\n\n    // last option .. global search\n    found = document.querySelectorAll(Element.tagName);\n    if (found.length == 1) return verifyClass(found[0], Element, defaultValue);\n\n    // nope\n    if (defaultValue !== undefined) return defaultValue;\n    console.error(\"Fallback reference in node\", node, `(${Element.tagName}) points to ${found} and no default provided.`);\n    throw `Could not find node type \"${Element.tagName}\" (${node})`;\n}\n\n\nfunction verifyClass(instance, Klass, defaultValue, message=\"Check console!\") {\n    if (instance instanceof Klass) return instance;\n    if (defaultValue !== undefined) return defaultValue;\n    console.error(instance, \"isn't of type\", Klass, \"Did you forget to include html-tag support?\");\n    throw message;\n}\n\n/**\n * Builds a URI from a base-url and params. Empty values gets filteres.\n * @param {string} url - Base url\n * @param {Object} params - Parameters to be encoded in the url.\n * @returns {string}\n */\nfunction buildURI(url, params) {\n    let p = Object.keys(params)\n        .map(key => [key, params[key]])\n        .filter(([ley, value]) => (value !== undefined) && (value !== null))\n        .map(([key, value]) => `${key}=${encodeURIComponent(value)}`);\n    return url + (p.length > 0 ? \"?\" + p.join(\"&\") : \"\");\n}\n\n\nfunction parseString(markup, scope) {\n    if (!markup) return markup;\n    return new Function(\"return `\" + markup + \"`\").call(scope);\n}\n\n/**\n * Creates a unique string-identifier\n * @param {string} [template] - The template for the identifier.\n * @param {string} [salt] - The salt.\n * @return {string} - The unique string identifier\n */\nfunction createUID(template=\"uid-{uid}\", salt=\"\") {\n    return (template\n        .replace(\"{uid}\", _uidCounter[template] = (_uidCounter[template] || 0) + 1)\n        .replace(\"{salt}\", salt));\n}\nconst _uidCounter = {};\n\n\n/**\n * Create a Promise that can be resolved later.\n * @return {Promise}\n */\nfunction deferredPromise() {\n    let _resolve, _reject;\n    let promise = new Promise((resolve, reject) => [_resolve, _reject] = [resolve, reject]);\n    promise.resolve = _resolve;\n    promise.reject = _reject;\n    return promise;\n}\n\n\n/**\n * Loads scripts asyncronously\n * @async\n * @param {...SRC} srcs - Sourcs to load.\n * @return {Promise<DOMNode[]|Error>}\n */\nfunction loadScript(...srcs) {\n    return Promise.all(srcs.map(src => new Promise((resolve, reject) => {\n        let script = document.createElement('script');\n        script.onload = function() {\n            resolve(script);\n        }\n        script.type = \"text/javascript\";\n        script.src = src;\n        script.async = true;\n        document.head.append(script);\n    })));\n}\n\n\n/**\n * Loads styles asyncronously\n * @async\n * @param {...HREF} hrefs - Styles to load.\n * @return {Promise<DOMNode[]|Error>}\n */\nfunction loadStyle(...hrefs) {\n    return Promise.all(hrefs.map(href => new Promise((resolve, reject) => {\n        let link = document.createElement('link');\n        link.rel  = 'stylesheet';\n        link.type = 'text/css';\n        link.href = href;\n        link.media = 'all';\n        document.head.append(link);\n        resolve(link);\n    })));\n}\n\n\nexport {\n    BaseRouter,\n    Request, Response, Route, Leg, Transport, Address, Stop,\n    parseCoordString, findRootElement, buildURI, deferredPromise, parseString, createUID,\n    loadScript, loadStyle\n}\n",
    "static": true,
    "longname": "/src/src/generics.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 49,
    "kind": "class",
    "name": "Location",
    "memberof": "src/generics.js",
    "static": true,
    "longname": "src/generics.js~Location",
    "access": "public",
    "export": false,
    "importPath": "@proddi/map-components/src/generics.js",
    "importStyle": null,
    "description": "generic Location object",
    "lineNumber": 146,
    "interface": false,
    "ignore": true
  },
  {
    "__docId__": 50,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/generics.js~Location",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/generics.js~Location#constructor",
    "access": "public",
    "description": "create instance.",
    "lineNumber": 160,
    "params": [
      {
        "nullable": null,
        "types": [
          "{lat:float, lng:float, ?lon:float}"
        ],
        "spread": false,
        "optional": false,
        "name": "param",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "float"
        ],
        "spread": false,
        "optional": false,
        "name": "param.lng",
        "description": "latitude"
      },
      {
        "nullable": null,
        "types": [
          "float"
        ],
        "spread": false,
        "optional": false,
        "name": "param.lng",
        "description": "longitude"
      },
      {
        "nullable": null,
        "types": [
          "float"
        ],
        "spread": false,
        "optional": true,
        "name": "param.lon",
        "description": "alias for longitude (will be used when not given .lng)"
      }
    ]
  },
  {
    "__docId__": 51,
    "kind": "member",
    "name": "lat",
    "memberof": "src/generics.js~Location",
    "static": false,
    "longname": "src/generics.js~Location#lat",
    "access": "public",
    "description": null,
    "lineNumber": 162,
    "type": {
      "nullable": null,
      "types": [
        "float"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 52,
    "kind": "member",
    "name": "lng",
    "memberof": "src/generics.js~Location",
    "static": false,
    "longname": "src/generics.js~Location#lng",
    "access": "public",
    "description": null,
    "lineNumber": 164,
    "type": {
      "nullable": null,
      "types": [
        "float"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 53,
    "kind": "member",
    "name": "type",
    "memberof": "src/generics.js~Location",
    "static": false,
    "longname": "src/generics.js~Location#type",
    "access": "public",
    "description": null,
    "lineNumber": 166,
    "type": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 54,
    "kind": "get",
    "name": "lon",
    "memberof": "src/generics.js~Location",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/generics.js~Location#lon",
    "access": "public",
    "description": "Alias for {@link Location.lng}",
    "lineNumber": 173,
    "type": {
      "nullable": null,
      "types": [
        "float"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 55,
    "kind": "function",
    "name": "verifyClass",
    "memberof": "src/generics.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/generics.js~verifyClass",
    "access": "public",
    "export": false,
    "importPath": "@proddi/map-components/src/generics.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 420,
    "undocument": true,
    "params": [
      {
        "name": "instance",
        "types": [
          "*"
        ]
      },
      {
        "name": "Klass",
        "types": [
          "*"
        ]
      },
      {
        "name": "defaultValue",
        "types": [
          "*"
        ]
      },
      {
        "name": "message",
        "optional": true,
        "types": [
          "string"
        ],
        "defaultRaw": "Check console!",
        "defaultValue": "Check console!"
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 56,
    "kind": "variable",
    "name": "_uidCounter",
    "memberof": "src/generics.js",
    "static": true,
    "longname": "src/generics.js~_uidCounter",
    "access": "private",
    "export": false,
    "importPath": "@proddi/map-components/src/generics.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 458,
    "undocument": true,
    "type": {
      "types": [
        "{}"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 57,
    "kind": "class",
    "name": "BaseRouter",
    "memberof": "src/generics.js",
    "static": true,
    "longname": "src/generics.js~BaseRouter",
    "access": "public",
    "export": true,
    "importPath": "@proddi/map-components/src/generics.js",
    "importStyle": "{BaseRouter}",
    "description": "Base class element for building custom router elements (e.g. {@link HereTransitRouter}).",
    "lineNumber": 7,
    "abstract": true,
    "interface": false,
    "extends": [
      "HTMLElement"
    ]
  },
  {
    "__docId__": 58,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/generics.js~BaseRouter",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/generics.js~BaseRouter#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 10,
    "undocument": true
  },
  {
    "__docId__": 59,
    "kind": "member",
    "name": "type",
    "memberof": "src/generics.js~BaseRouter",
    "static": false,
    "longname": "src/generics.js~BaseRouter#type",
    "access": "public",
    "description": "Returns \"abstract\" for this router.",
    "lineNumber": 16,
    "type": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 60,
    "kind": "member",
    "name": "id",
    "memberof": "src/generics.js~BaseRouter",
    "static": false,
    "longname": "src/generics.js~BaseRouter#id",
    "access": "public",
    "description": "Type of the router.",
    "lineNumber": 21,
    "type": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 61,
    "kind": "member",
    "name": "name",
    "memberof": "src/generics.js~BaseRouter",
    "static": false,
    "longname": "src/generics.js~BaseRouter#name",
    "access": "public",
    "description": null,
    "lineNumber": 23,
    "type": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 62,
    "kind": "member",
    "name": "start",
    "memberof": "src/generics.js~BaseRouter",
    "static": false,
    "longname": "src/generics.js~BaseRouter#start",
    "access": "public",
    "description": null,
    "lineNumber": 25,
    "type": {
      "nullable": null,
      "types": [
        "Address"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 63,
    "kind": "member",
    "name": "dest",
    "memberof": "src/generics.js~BaseRouter",
    "static": false,
    "longname": "src/generics.js~BaseRouter#dest",
    "access": "public",
    "description": null,
    "lineNumber": 27,
    "type": {
      "nullable": null,
      "types": [
        "Address"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 64,
    "kind": "member",
    "name": "time",
    "memberof": "src/generics.js~BaseRouter",
    "static": false,
    "longname": "src/generics.js~BaseRouter#time",
    "access": "public",
    "description": null,
    "lineNumber": 29,
    "type": {
      "nullable": null,
      "types": [
        "Date"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 65,
    "kind": "member",
    "name": "currentRequest",
    "memberof": "src/generics.js~BaseRouter",
    "static": false,
    "longname": "src/generics.js~BaseRouter#currentRequest",
    "access": "public",
    "description": null,
    "lineNumber": 32,
    "type": {
      "nullable": null,
      "types": [
        "Request",
        "undefined"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 66,
    "kind": "member",
    "name": "currentRoutes",
    "memberof": "src/generics.js~BaseRouter",
    "static": false,
    "longname": "src/generics.js~BaseRouter#currentRoutes",
    "access": "public",
    "description": null,
    "lineNumber": 34,
    "type": {
      "nullable": null,
      "types": [
        "Route[]",
        "undefined"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 67,
    "kind": "member",
    "name": "currentError",
    "memberof": "src/generics.js~BaseRouter",
    "static": false,
    "longname": "src/generics.js~BaseRouter#currentError",
    "access": "public",
    "description": null,
    "lineNumber": 36,
    "type": {
      "nullable": null,
      "types": [
        "Error",
        "undefined"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 68,
    "kind": "method",
    "name": "connectedCallback",
    "memberof": "src/generics.js~BaseRouter",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/generics.js~BaseRouter#connectedCallback",
    "access": "public",
    "description": null,
    "lineNumber": 39,
    "undocument": true,
    "params": [],
    "return": null
  },
  {
    "__docId__": 69,
    "kind": "method",
    "name": "buildRequest",
    "memberof": "src/generics.js~BaseRouter",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/generics.js~BaseRouter#buildRequest",
    "access": "public",
    "description": null,
    "lineNumber": 45,
    "undocument": true,
    "params": [],
    "return": null
  },
  {
    "__docId__": 70,
    "kind": "method",
    "name": "update",
    "memberof": "src/generics.js~BaseRouter",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/generics.js~BaseRouter#update",
    "access": "public",
    "description": "",
    "lineNumber": 52,
    "unknown": [
      {
        "tagName": "@fires",
        "tagValue": "GenericRouter#request"
      }
    ],
    "params": [
      {
        "name": "start",
        "types": [
          "*"
        ]
      },
      {
        "name": "dest",
        "types": [
          "*"
        ]
      },
      {
        "name": "time",
        "optional": true,
        "types": [
          "*"
        ],
        "defaultRaw": "undefined",
        "defaultValue": "undefined"
      }
    ],
    "return": null
  },
  {
    "__docId__": 79,
    "kind": "class",
    "name": "Request",
    "memberof": "src/generics.js",
    "static": true,
    "longname": "src/generics.js~Request",
    "access": "public",
    "export": true,
    "importPath": "@proddi/map-components/src/generics.js",
    "importStyle": "{Request}",
    "description": "Router Request class.",
    "lineNumber": 85,
    "interface": false
  },
  {
    "__docId__": 80,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/generics.js~Request",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/generics.js~Request#constructor",
    "access": "public",
    "description": "create instance.",
    "lineNumber": 90,
    "params": [
      {
        "nullable": null,
        "types": [
          "{start:Location, dest:Location, time:Date, others:Object}"
        ],
        "spread": false,
        "optional": false,
        "name": "options",
        "description": "xxx"
      }
    ]
  },
  {
    "__docId__": 81,
    "kind": "member",
    "name": "router",
    "memberof": "src/generics.js~Request",
    "static": false,
    "longname": "src/generics.js~Request#router",
    "access": "public",
    "description": null,
    "lineNumber": 92,
    "type": {
      "nullable": null,
      "types": [
        "BaseRouter"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 82,
    "kind": "member",
    "name": "start",
    "memberof": "src/generics.js~Request",
    "static": false,
    "longname": "src/generics.js~Request#start",
    "access": "public",
    "description": null,
    "lineNumber": 94,
    "type": {
      "nullable": null,
      "types": [
        "Location"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 83,
    "kind": "member",
    "name": "dest",
    "memberof": "src/generics.js~Request",
    "static": false,
    "longname": "src/generics.js~Request#dest",
    "access": "public",
    "description": null,
    "lineNumber": 96,
    "type": {
      "nullable": null,
      "types": [
        "Location"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 84,
    "kind": "member",
    "name": "time",
    "memberof": "src/generics.js~Request",
    "static": false,
    "longname": "src/generics.js~Request#time",
    "access": "public",
    "description": null,
    "lineNumber": 98,
    "type": {
      "nullable": null,
      "types": [
        "Date"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 85,
    "kind": "member",
    "name": "_constructTime",
    "memberof": "src/generics.js~Request",
    "static": false,
    "longname": "src/generics.js~Request#_constructTime",
    "access": "private",
    "description": null,
    "lineNumber": 102,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 86,
    "kind": "method",
    "name": "_elapsedTime",
    "memberof": "src/generics.js~Request",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/generics.js~Request#_elapsedTime",
    "access": "private",
    "description": "Calculates current elapsed time in seconds",
    "lineNumber": 109,
    "return": {
      "nullable": null,
      "types": [
        "float"
      ],
      "spread": false,
      "description": "seconds elapsed"
    },
    "params": []
  },
  {
    "__docId__": 87,
    "kind": "class",
    "name": "Response",
    "memberof": "src/generics.js",
    "static": true,
    "longname": "src/generics.js~Response",
    "access": "public",
    "export": true,
    "importPath": "@proddi/map-components/src/generics.js",
    "importStyle": "{Response}",
    "description": "Router Response class.",
    "lineNumber": 118,
    "interface": false
  },
  {
    "__docId__": 88,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/generics.js~Response",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/generics.js~Response#constructor",
    "access": "public",
    "description": "create instance.",
    "lineNumber": 124,
    "params": [
      {
        "nullable": null,
        "types": [
          "Request"
        ],
        "spread": false,
        "optional": false,
        "name": "request",
        "description": "related request."
      },
      {
        "nullable": null,
        "types": [
          "Array<Route>"
        ],
        "spread": false,
        "optional": false,
        "name": "routes",
        "description": "response routes"
      }
    ]
  },
  {
    "__docId__": 89,
    "kind": "member",
    "name": "request",
    "memberof": "src/generics.js~Response",
    "static": false,
    "longname": "src/generics.js~Response#request",
    "access": "public",
    "description": null,
    "lineNumber": 126,
    "type": {
      "nullable": null,
      "types": [
        "Request"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 90,
    "kind": "member",
    "name": "routes",
    "memberof": "src/generics.js~Response",
    "static": false,
    "longname": "src/generics.js~Response#routes",
    "access": "public",
    "description": null,
    "lineNumber": 128,
    "type": {
      "nullable": null,
      "types": [
        "Array<Route>"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 91,
    "kind": "member",
    "name": "error",
    "memberof": "src/generics.js~Response",
    "static": false,
    "longname": "src/generics.js~Response#error",
    "access": "public",
    "description": null,
    "lineNumber": 130,
    "type": {
      "nullable": null,
      "types": [
        "Object"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 92,
    "kind": "member",
    "name": "elapsed",
    "memberof": "src/generics.js~Response",
    "static": false,
    "longname": "src/generics.js~Response#elapsed",
    "access": "public",
    "description": null,
    "lineNumber": 132,
    "type": {
      "nullable": null,
      "types": [
        "float"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 93,
    "kind": "method",
    "name": "setError",
    "memberof": "src/generics.js~Response",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/generics.js~Response#setError",
    "access": "public",
    "description": null,
    "lineNumber": 136,
    "undocument": true,
    "params": [
      {
        "name": "error",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 95,
    "kind": "class",
    "name": "Route",
    "memberof": "src/generics.js",
    "static": true,
    "longname": "src/generics.js~Route",
    "access": "public",
    "export": true,
    "importPath": "@proddi/map-components/src/generics.js",
    "importStyle": "{Route}",
    "description": null,
    "lineNumber": 262,
    "undocument": true,
    "interface": false
  },
  {
    "__docId__": 96,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/generics.js~Route",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/generics.js~Route#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 263,
    "undocument": true
  },
  {
    "__docId__": 97,
    "kind": "member",
    "name": "id",
    "memberof": "src/generics.js~Route",
    "static": false,
    "longname": "src/generics.js~Route#id",
    "access": "public",
    "description": null,
    "lineNumber": 265,
    "type": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 98,
    "kind": "member",
    "name": "router",
    "memberof": "src/generics.js~Route",
    "static": false,
    "longname": "src/generics.js~Route#router",
    "access": "public",
    "description": null,
    "lineNumber": 267,
    "type": {
      "nullable": null,
      "types": [
        "BaseRouter"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 99,
    "kind": "member",
    "name": "departure",
    "memberof": "src/generics.js~Route",
    "static": false,
    "longname": "src/generics.js~Route#departure",
    "access": "public",
    "description": null,
    "lineNumber": 269,
    "type": {
      "nullable": null,
      "types": [
        "Location"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 100,
    "kind": "member",
    "name": "arrival",
    "memberof": "src/generics.js~Route",
    "static": false,
    "longname": "src/generics.js~Route#arrival",
    "access": "public",
    "description": null,
    "lineNumber": 271,
    "type": {
      "nullable": null,
      "types": [
        "Location"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 101,
    "kind": "member",
    "name": "legs",
    "memberof": "src/generics.js~Route",
    "static": false,
    "longname": "src/generics.js~Route#legs",
    "access": "public",
    "description": null,
    "lineNumber": 273,
    "type": {
      "nullable": null,
      "types": [
        "Leg[]"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 102,
    "kind": "get",
    "name": "uid",
    "memberof": "src/generics.js~Route",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/generics.js~Route#uid",
    "access": "public",
    "description": "",
    "lineNumber": 279,
    "deprecated": "use {Route#id} instead of this.",
    "type": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 103,
    "kind": "get",
    "name": "duration",
    "memberof": "src/generics.js~Route",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/generics.js~Route#duration",
    "access": "public",
    "description": null,
    "lineNumber": 281,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 104,
    "kind": "class",
    "name": "Leg",
    "memberof": "src/generics.js",
    "static": true,
    "longname": "src/generics.js~Leg",
    "access": "public",
    "export": true,
    "importPath": "@proddi/map-components/src/generics.js",
    "importStyle": "{Leg}",
    "description": null,
    "lineNumber": 298,
    "undocument": true,
    "interface": false
  },
  {
    "__docId__": 105,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/generics.js~Leg",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/generics.js~Leg#constructor",
    "access": "public",
    "description": "create instance.",
    "lineNumber": 307,
    "params": [
      {
        "nullable": null,
        "types": [
          "Location"
        ],
        "spread": false,
        "optional": false,
        "name": "departure",
        "description": "start location"
      },
      {
        "nullable": null,
        "types": [
          "Location"
        ],
        "spread": false,
        "optional": false,
        "name": "arrival",
        "description": "dest location"
      },
      {
        "nullable": null,
        "types": [
          "Transport"
        ],
        "spread": false,
        "optional": false,
        "name": "transport",
        "description": "transport definition"
      },
      {
        "nullable": null,
        "types": [
          "CoordinatePair[]"
        ],
        "spread": false,
        "optional": true,
        "name": "geometry",
        "description": "the geometry points excluding start, dest"
      },
      {
        "nullable": null,
        "types": [
          "{id:string,distance:number,summary:string,steps:Location[]}"
        ],
        "spread": false,
        "optional": false,
        "name": "params",
        "description": "Optional parameters."
      }
    ]
  },
  {
    "__docId__": 106,
    "kind": "member",
    "name": "id",
    "memberof": "src/generics.js~Leg",
    "static": false,
    "longname": "src/generics.js~Leg#id",
    "access": "public",
    "description": null,
    "lineNumber": 309,
    "type": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 107,
    "kind": "member",
    "name": "departure",
    "memberof": "src/generics.js~Leg",
    "static": false,
    "longname": "src/generics.js~Leg#departure",
    "access": "public",
    "description": null,
    "lineNumber": 311,
    "type": {
      "nullable": null,
      "types": [
        "Location"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 108,
    "kind": "member",
    "name": "arrival",
    "memberof": "src/generics.js~Leg",
    "static": false,
    "longname": "src/generics.js~Leg#arrival",
    "access": "public",
    "description": null,
    "lineNumber": 313,
    "type": {
      "nullable": null,
      "types": [
        "Location"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 109,
    "kind": "member",
    "name": "transport",
    "memberof": "src/generics.js~Leg",
    "static": false,
    "longname": "src/generics.js~Leg#transport",
    "access": "public",
    "description": null,
    "lineNumber": 315,
    "type": {
      "nullable": null,
      "types": [
        "Transport"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 110,
    "kind": "member",
    "name": "geometry",
    "memberof": "src/generics.js~Leg",
    "static": false,
    "longname": "src/generics.js~Leg#geometry",
    "access": "public",
    "description": null,
    "lineNumber": 317,
    "type": {
      "nullable": null,
      "types": [
        "CoordinatePair[]"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 111,
    "kind": "member",
    "name": "distance",
    "memberof": "src/generics.js~Leg",
    "static": false,
    "longname": "src/generics.js~Leg#distance",
    "access": "public",
    "description": null,
    "lineNumber": 319,
    "type": {
      "nullable": null,
      "types": [
        "number"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 112,
    "kind": "member",
    "name": "summary",
    "memberof": "src/generics.js~Leg",
    "static": false,
    "longname": "src/generics.js~Leg#summary",
    "access": "public",
    "description": null,
    "lineNumber": 321,
    "type": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 113,
    "kind": "member",
    "name": "steps",
    "memberof": "src/generics.js~Leg",
    "static": false,
    "longname": "src/generics.js~Leg#steps",
    "access": "public",
    "description": null,
    "lineNumber": 323,
    "type": {
      "nullable": null,
      "types": [
        "location[]"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 114,
    "kind": "method",
    "name": "extendLeg",
    "memberof": "src/generics.js~Leg",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/generics.js~Leg#extendLeg",
    "access": "public",
    "description": "Extends this Leg with the `other` Leg",
    "lineNumber": 330,
    "params": [
      {
        "nullable": null,
        "types": [
          "Leg"
        ],
        "spread": false,
        "optional": false,
        "name": "other",
        "description": "The other Leg to be added."
      }
    ],
    "return": null
  },
  {
    "__docId__": 119,
    "kind": "class",
    "name": "Transport",
    "memberof": "src/generics.js",
    "static": true,
    "longname": "src/generics.js~Transport",
    "access": "public",
    "export": true,
    "importPath": "@proddi/map-components/src/generics.js",
    "importStyle": "{Transport}",
    "description": "Transport object for {@link Leg}",
    "lineNumber": 242,
    "interface": false
  },
  {
    "__docId__": 120,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/generics.js~Transport",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/generics.js~Transport#constructor",
    "access": "public",
    "description": "create instance.",
    "lineNumber": 247,
    "params": [
      {
        "nullable": null,
        "types": [
          "{type:string,name:string,color:Color,headsign:string}"
        ],
        "spread": false,
        "optional": false,
        "name": "params",
        "description": "foo"
      }
    ]
  },
  {
    "__docId__": 121,
    "kind": "member",
    "name": "type",
    "memberof": "src/generics.js~Transport",
    "static": false,
    "longname": "src/generics.js~Transport#type",
    "access": "public",
    "description": null,
    "lineNumber": 249,
    "type": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 122,
    "kind": "member",
    "name": "name",
    "memberof": "src/generics.js~Transport",
    "static": false,
    "longname": "src/generics.js~Transport#name",
    "access": "public",
    "description": null,
    "lineNumber": 251,
    "type": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 123,
    "kind": "member",
    "name": "color",
    "memberof": "src/generics.js~Transport",
    "static": false,
    "longname": "src/generics.js~Transport#color",
    "access": "public",
    "description": null,
    "lineNumber": 253,
    "type": {
      "nullable": null,
      "types": [
        "Color"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 124,
    "kind": "member",
    "name": "headsign",
    "memberof": "src/generics.js~Transport",
    "static": false,
    "longname": "src/generics.js~Transport#headsign",
    "access": "public",
    "description": null,
    "lineNumber": 255,
    "type": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 125,
    "kind": "method",
    "name": "isSame",
    "memberof": "src/generics.js~Transport",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/generics.js~Transport#isSame",
    "access": "public",
    "description": null,
    "lineNumber": 258,
    "undocument": true,
    "params": [
      {
        "name": "other",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 126,
    "kind": "class",
    "name": "Address",
    "memberof": "src/generics.js",
    "static": true,
    "longname": "src/generics.js~Address",
    "access": "public",
    "export": true,
    "importPath": "@proddi/map-components/src/generics.js",
    "importStyle": "{Address}",
    "description": "generic Address object",
    "lineNumber": 180,
    "interface": false,
    "extends": [
      "Location"
    ]
  },
  {
    "__docId__": 127,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/generics.js~Address",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/generics.js~Address#constructor",
    "access": "public",
    "description": "create instance.",
    "lineNumber": 185,
    "params": [
      {
        "nullable": null,
        "types": [
          "{lat:float,lng:float,name:string}"
        ],
        "spread": false,
        "optional": false,
        "name": "object",
        "description": ""
      }
    ]
  },
  {
    "__docId__": 128,
    "kind": "member",
    "name": "type",
    "memberof": "src/generics.js~Address",
    "static": false,
    "longname": "src/generics.js~Address#type",
    "access": "public",
    "description": null,
    "lineNumber": 188,
    "undocument": true,
    "type": {
      "types": [
        "string"
      ]
    }
  },
  {
    "__docId__": 129,
    "kind": "member",
    "name": "_name",
    "memberof": "src/generics.js~Address",
    "static": false,
    "longname": "src/generics.js~Address#_name",
    "access": "private",
    "description": null,
    "lineNumber": 190,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 130,
    "kind": "member",
    "name": "time",
    "memberof": "src/generics.js~Address",
    "static": false,
    "longname": "src/generics.js~Address#time",
    "access": "public",
    "description": null,
    "lineNumber": 192,
    "type": {
      "nullable": null,
      "types": [
        "Date"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 131,
    "kind": "get",
    "name": "name",
    "memberof": "src/generics.js~Address",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/generics.js~Address#name",
    "access": "public",
    "description": "Returns {name} or Address.",
    "lineNumber": 199,
    "type": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 132,
    "kind": "get",
    "name": "timeString",
    "memberof": "src/generics.js~Address",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/generics.js~Address#timeString",
    "access": "public",
    "description": "Returns the date as HH:MM",
    "lineNumber": 205,
    "type": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 133,
    "kind": "class",
    "name": "Stop",
    "memberof": "src/generics.js",
    "static": true,
    "longname": "src/generics.js~Stop",
    "access": "public",
    "export": true,
    "importPath": "@proddi/map-components/src/generics.js",
    "importStyle": "{Stop}",
    "description": "generic Stop object",
    "lineNumber": 219,
    "interface": false,
    "extends": [
      "Address"
    ]
  },
  {
    "__docId__": 134,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/generics.js~Stop",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/generics.js~Stop#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 220,
    "undocument": true
  },
  {
    "__docId__": 135,
    "kind": "member",
    "name": "type",
    "memberof": "src/generics.js~Stop",
    "static": false,
    "longname": "src/generics.js~Stop#type",
    "access": "public",
    "description": null,
    "lineNumber": 223,
    "type": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 136,
    "kind": "typedef",
    "name": "CoordinatePair",
    "memberof": "src/generics.js",
    "static": true,
    "longname": "src/generics.js~CoordinatePair",
    "access": "public",
    "description": "",
    "examples": [
      "let pair = [52.5, 13.2];"
    ],
    "type": {
      "types": [
        "[lat:float, lng:float]"
      ],
      "optional": false,
      "name": "CoordinatePair"
    }
  },
  {
    "__docId__": 137,
    "kind": "typedef",
    "name": "Color",
    "memberof": "src/generics.js",
    "static": true,
    "longname": "src/generics.js~Color",
    "access": "public",
    "description": "",
    "examples": [
      "let color = \"#ccbbaa\";"
    ],
    "type": {
      "types": [
        "string<#rrggbb>"
      ],
      "optional": false,
      "name": "Color"
    }
  },
  {
    "__docId__": 138,
    "kind": "external",
    "name": "HTMLElement",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement",
    "memberof": "src/generics.js",
    "static": true,
    "longname": "src/generics.js~HTMLElement",
    "access": "public",
    "description": ""
  },
  {
    "__docId__": 139,
    "kind": "external",
    "name": "DOMNode",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/API/Element",
    "memberof": "src/generics.js",
    "static": true,
    "longname": "src/generics.js~DOMNode",
    "access": "public",
    "description": ""
  },
  {
    "__docId__": 140,
    "kind": "external",
    "name": "DOMSelector",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Learn/CSS/Introduction_to_CSS/Selectors",
    "memberof": "src/generics.js",
    "static": true,
    "longname": "src/generics.js~DOMSelector",
    "access": "public",
    "description": ""
  },
  {
    "__docId__": 141,
    "kind": "function",
    "name": "parseCoordString",
    "memberof": "src/generics.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/generics.js~parseCoordString",
    "access": "public",
    "export": true,
    "importPath": "@proddi/map-components/src/generics.js",
    "importStyle": "{parseCoordString}",
    "description": "Return coordinate-object for coordinte-string",
    "lineNumber": 371,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{CoordinatePair} - The object representation."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "s",
        "description": "A string like `\"52.432,13.254\"`"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "CoordinatePair"
      ],
      "spread": false,
      "description": "The object representation."
    }
  },
  {
    "__docId__": 142,
    "kind": "function",
    "name": "findRootElement",
    "memberof": "src/generics.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/generics.js~findRootElement",
    "access": "public",
    "export": true,
    "importPath": "@proddi/map-components/src/generics.js",
    "importStyle": "{findRootElement}",
    "description": "Find a DOMElement. It has various ways:\n- try finding {@link DOMNode} by {@link DOMSelector} including a class check\n- iterate over parent-nodes to find a {@link DOMNode} of the specified class\n- find a {@link DOMNode} by querying by tag-name. Fails if not exactly one node found.\n- return default if specified or throw error.",
    "lineNumber": 392,
    "params": [
      {
        "nullable": null,
        "types": [
          "DOMNode"
        ],
        "spread": false,
        "optional": false,
        "name": "node",
        "description": "The node to start lookup."
      },
      {
        "nullable": null,
        "types": [
          "DOMSelector",
          "undefined"
        ],
        "spread": false,
        "optional": false,
        "name": "selector",
        "description": "The dom selector to find the element."
      },
      {
        "nullable": null,
        "types": [
          "HTMLElement"
        ],
        "spread": false,
        "optional": false,
        "name": "Element",
        "description": "The required type."
      },
      {
        "nullable": null,
        "types": [
          "Object",
          "string",
          "number"
        ],
        "spread": false,
        "optional": true,
        "name": "defaultValue",
        "description": "Returned value if not found. NEED TO BE DIFFERENT THAN `undefined`!!"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "DOMNode",
        "undefined"
      ],
      "spread": false,
      "description": "The node or undefined if not found."
    },
    "throws": [
      {
        "types": [
          "*"
        ],
        "description": "Exception when no {DOMNode} was found and no defaultValue was provided."
      }
    ]
  },
  {
    "__docId__": 143,
    "kind": "function",
    "name": "buildURI",
    "memberof": "src/generics.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/generics.js~buildURI",
    "access": "public",
    "export": true,
    "importPath": "@proddi/map-components/src/generics.js",
    "importStyle": "{buildURI}",
    "description": "Builds a URI from a base-url and params. Empty values gets filteres.",
    "lineNumber": 433,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{string}"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "url",
        "description": "Base url"
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "params",
        "description": "Parameters to be encoded in the url."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 144,
    "kind": "function",
    "name": "deferredPromise",
    "memberof": "src/generics.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/generics.js~deferredPromise",
    "access": "public",
    "export": true,
    "importPath": "@proddi/map-components/src/generics.js",
    "importStyle": "{deferredPromise}",
    "description": "Create a Promise that can be resolved later.",
    "lineNumber": 465,
    "return": {
      "nullable": null,
      "types": [
        "Promise"
      ],
      "spread": false,
      "description": ""
    },
    "params": []
  },
  {
    "__docId__": 145,
    "kind": "function",
    "name": "parseString",
    "memberof": "src/generics.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/generics.js~parseString",
    "access": "public",
    "export": true,
    "importPath": "@proddi/map-components/src/generics.js",
    "importStyle": "{parseString}",
    "description": null,
    "lineNumber": 442,
    "undocument": true,
    "params": [
      {
        "name": "markup",
        "types": [
          "*"
        ]
      },
      {
        "name": "scope",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 146,
    "kind": "function",
    "name": "createUID",
    "memberof": "src/generics.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/generics.js~createUID",
    "access": "public",
    "export": true,
    "importPath": "@proddi/map-components/src/generics.js",
    "importStyle": "{createUID}",
    "description": "Creates a unique string-identifier",
    "lineNumber": 453,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": true,
        "name": "template",
        "description": "The template for the identifier."
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": true,
        "name": "salt",
        "description": "The salt."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": "The unique string identifier"
    }
  },
  {
    "__docId__": 147,
    "kind": "function",
    "name": "loadScript",
    "memberof": "src/generics.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/generics.js~loadScript",
    "access": "public",
    "export": true,
    "importPath": "@proddi/map-components/src/generics.js",
    "importStyle": "{loadScript}",
    "description": "Loads scripts asyncronously",
    "lineNumber": 480,
    "params": [
      {
        "nullable": null,
        "types": [
          "...SRC"
        ],
        "spread": true,
        "optional": false,
        "name": "srcs",
        "description": "Sourcs to load."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<DOMNode[]|Error>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 148,
    "kind": "function",
    "name": "loadStyle",
    "memberof": "src/generics.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/generics.js~loadStyle",
    "access": "public",
    "export": true,
    "importPath": "@proddi/map-components/src/generics.js",
    "importStyle": "{loadStyle}",
    "description": "Loads styles asyncronously",
    "lineNumber": 500,
    "params": [
      {
        "nullable": null,
        "types": [
          "...HREF"
        ],
        "spread": true,
        "optional": false,
        "name": "hrefs",
        "description": "Styles to load."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<DOMNode[]|Error>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 149,
    "kind": "file",
    "name": "src/google/index.js",
    "content": "import {GooglePlatform} from './platform.js';\nimport {GoogleDirectionsRouter} from './router.js';\nimport {GoogleMap} from './map.js';\n\nexport {\n    GooglePlatform,\n    GoogleDirectionsRouter,\n    GoogleMap\n}\n",
    "static": true,
    "longname": "/src/src/google/index.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 150,
    "kind": "file",
    "name": "src/google/map.js",
    "content": "\"use strict\";\nimport {parseCoordString, findRootElement, deferredPromise} from '../generics.js';\nimport {GooglePlatform} from './platform.js';\n\n\n/**\n * Shows a Google map. This is the base canvas for other visualisation elements.\n * It requires a {@link GooglePlatform} component to handle credentials.\n *\n * @example\n * <google-platform key=\"...\"></google-platform>\n *\n * <google-map platform=\"google-platform\" center=\"13.5,52.5\" zoom=\"11\">\n * </google-map>\n *\n * @see https://developers.google.com/maps/documentation/javascript/\n **/\nclass GoogleMap extends HTMLElement {\n\n    constructor() {\n        super();\n        this._ensureBaseStyles();\n        this.center = parseCoordString(this.getAttribute(\"center\"));\n        this.zoom = parseInt(this.getAttribute(\"zoom\"));\n        /** @type {GooglePlatform} */\n        this.platform = findRootElement(this, this.getAttribute(\"platform\"), GooglePlatform);\n        /** @type {Promise<{map:google.maps.Map}|Error>} */\n        this.whenReady = deferredPromise();\n    }\n\n    connectedCallback() {\n        this.platform.whenReady.then(_ => {\n            let map = new google.maps.Map(this, {\n              center: this.center,\n              zoom: this.zoom,\n            });\n\n            this.whenReady.resolve({map:map});\n        }).catch(error => this.whenReady.reject(error));\n    }\n\n    _ensureBaseStyles() {\n        GoogleMap.prototype._ensureBaseStyles = () => {};\n        let style = document.createElement('style');\n        style.textContent=`google-map { display: block; }`;\n        document.head.appendChild(style);\n    }\n}\n\n\n/**\n * @external {google.maps.Map} https://developers.google.com/maps/documentation/javascript/reference/map\n */\n\n\ncustomElements.define(\"google-map\", GoogleMap);\n\n\nexport { GoogleMap }\n",
    "static": true,
    "longname": "/src/src/google/map.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 151,
    "kind": "external",
    "name": "google.maps.Map",
    "externalLink": "https://developers.google.com/maps/documentation/javascript/reference/map",
    "memberof": "src/google/map.js",
    "static": true,
    "longname": "src/google/map.js~google.maps.Map",
    "access": "public",
    "description": "",
    "lineNumber": 56
  },
  {
    "__docId__": 152,
    "kind": "class",
    "name": "GoogleMap",
    "memberof": "src/google/map.js",
    "static": true,
    "longname": "src/google/map.js~GoogleMap",
    "access": "public",
    "export": true,
    "importPath": "@proddi/map-components/src/google/map.js",
    "importStyle": "{GoogleMap}",
    "description": "Shows a Google map. This is the base canvas for other visualisation elements.\nIt requires a {@link GooglePlatform} component to handle credentials.",
    "examples": [
      "<google-platform key=\"...\"></google-platform>\n\n<google-map platform=\"google-platform\" center=\"13.5,52.5\" zoom=\"11\">\n</google-map>"
    ],
    "see": [
      "https://developers.google.com/maps/documentation/javascript/"
    ],
    "lineNumber": 18,
    "interface": false,
    "extends": [
      "HTMLElement"
    ]
  },
  {
    "__docId__": 153,
    "kind": "external",
    "name": "google.maps.Map",
    "externalLink": "https://developers.google.com/maps/documentation/javascript/reference/map",
    "memberof": "src/google/map.js",
    "static": true,
    "longname": "src/google/map.js~google.maps.Map",
    "access": "public",
    "description": ""
  },
  {
    "__docId__": 154,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/google/map.js~GoogleMap",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/google/map.js~GoogleMap#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 20,
    "undocument": true
  },
  {
    "__docId__": 155,
    "kind": "member",
    "name": "center",
    "memberof": "src/google/map.js~GoogleMap",
    "static": false,
    "longname": "src/google/map.js~GoogleMap#center",
    "access": "public",
    "description": null,
    "lineNumber": 23,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 156,
    "kind": "member",
    "name": "zoom",
    "memberof": "src/google/map.js~GoogleMap",
    "static": false,
    "longname": "src/google/map.js~GoogleMap#zoom",
    "access": "public",
    "description": null,
    "lineNumber": 24,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 157,
    "kind": "member",
    "name": "platform",
    "memberof": "src/google/map.js~GoogleMap",
    "static": false,
    "longname": "src/google/map.js~GoogleMap#platform",
    "access": "public",
    "description": null,
    "lineNumber": 26,
    "type": {
      "nullable": null,
      "types": [
        "GooglePlatform"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 158,
    "kind": "member",
    "name": "whenReady",
    "memberof": "src/google/map.js~GoogleMap",
    "static": false,
    "longname": "src/google/map.js~GoogleMap#whenReady",
    "access": "public",
    "description": null,
    "lineNumber": 28,
    "type": {
      "nullable": null,
      "types": [
        "Promise<{map:google.maps.Map}|Error>"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 159,
    "kind": "method",
    "name": "connectedCallback",
    "memberof": "src/google/map.js~GoogleMap",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/google/map.js~GoogleMap#connectedCallback",
    "access": "public",
    "description": null,
    "lineNumber": 31,
    "undocument": true,
    "params": [],
    "return": null
  },
  {
    "__docId__": 160,
    "kind": "method",
    "name": "_ensureBaseStyles",
    "memberof": "src/google/map.js~GoogleMap",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/google/map.js~GoogleMap#_ensureBaseStyles",
    "access": "private",
    "description": null,
    "lineNumber": 42,
    "undocument": true,
    "params": [],
    "return": null
  },
  {
    "__docId__": 161,
    "kind": "file",
    "name": "src/google/platform.js",
    "content": "import {loadScript, parseString} from '../generics.js';\n\n\n/**\n * The platform element is required to handle credentials for GOOGLE services.\n *\n * @example\n * <google-platform key=\"...\"></google-platform>\n *\n * <google-router platform=\"google-platform\"\n *      start=\"lat,lon\"\n *      dest=\"lat,lon\">\n * </google-router>\n *\n * @see https://developers.google.com/maps/documentation/\n **/\nclass GooglePlatform extends HTMLElement {\n    constructor() {\n        super();\n\n        /** @type {string} */\n        this.key = parseString(this.getAttribute(\"key\"), window);\n\n        /** @type {Promise<{service:google.maps.DirectionsService}>} */\n        this.whenReady = loadScript(\n                \"https://maps.googleapis.com/maps/api/js?key=\" + this.key\n            ).then(_ => {\n                return Promise.resolve({ service: new google.maps.DirectionsService() });\n            });\n    }\n}\n\n\n/**\n * @external {google.maps.DirectionsService} https://developers.google.com/maps/documentation/directions/start\n */\n\n\ncustomElements.define(\"google-platform\", GooglePlatform);\n\n\nexport { GooglePlatform }\n",
    "static": true,
    "longname": "/src/src/google/platform.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 162,
    "kind": "external",
    "name": "google.maps.DirectionsService",
    "externalLink": "https://developers.google.com/maps/documentation/directions/start",
    "memberof": "src/google/platform.js",
    "static": true,
    "longname": "src/google/platform.js~google.maps.DirectionsService",
    "access": "public",
    "description": "",
    "lineNumber": 39
  },
  {
    "__docId__": 163,
    "kind": "class",
    "name": "GooglePlatform",
    "memberof": "src/google/platform.js",
    "static": true,
    "longname": "src/google/platform.js~GooglePlatform",
    "access": "public",
    "export": true,
    "importPath": "@proddi/map-components/src/google/platform.js",
    "importStyle": "{GooglePlatform}",
    "description": "The platform element is required to handle credentials for GOOGLE services.",
    "examples": [
      "<google-platform key=\"...\"></google-platform>\n\n<google-router platform=\"google-platform\"\n     start=\"lat,lon\"\n     dest=\"lat,lon\">\n</google-router>"
    ],
    "see": [
      "https://developers.google.com/maps/documentation/"
    ],
    "lineNumber": 17,
    "interface": false,
    "extends": [
      "HTMLElement"
    ]
  },
  {
    "__docId__": 164,
    "kind": "external",
    "name": "google.maps.DirectionsService",
    "externalLink": "https://developers.google.com/maps/documentation/directions/start",
    "memberof": "src/google/platform.js",
    "static": true,
    "longname": "src/google/platform.js~google.maps.DirectionsService",
    "access": "public",
    "description": ""
  },
  {
    "__docId__": 165,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/google/platform.js~GooglePlatform",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/google/platform.js~GooglePlatform#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 18,
    "undocument": true
  },
  {
    "__docId__": 166,
    "kind": "member",
    "name": "key",
    "memberof": "src/google/platform.js~GooglePlatform",
    "static": false,
    "longname": "src/google/platform.js~GooglePlatform#key",
    "access": "public",
    "description": null,
    "lineNumber": 22,
    "type": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 167,
    "kind": "member",
    "name": "whenReady",
    "memberof": "src/google/platform.js~GooglePlatform",
    "static": false,
    "longname": "src/google/platform.js~GooglePlatform#whenReady",
    "access": "public",
    "description": null,
    "lineNumber": 25,
    "type": {
      "nullable": null,
      "types": [
        "Promise<{service:google.maps.DirectionsService}>"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 168,
    "kind": "file",
    "name": "src/google/router.js",
    "content": "import {BaseRouter, Request, Response, Route, Leg, Transport, Address, findRootElement, parseString, buildURI, createUID} from '../generics.js';\nimport {GooglePlatform} from './platform.js';\n\n\n/**\n * Provides an router element for google directions. It can be referenced in map components.\n *\n * @example\n * <google-router id=\"google-router\"\n *     platform=\"google-platform\"\n *     start=\"13.30,52.43\"\n *     dest=\"13.76,52.51\"\n *     time=\"2018-12-22T19:17:07\">\n * </google-router>\n *\n * @see https://developers.google.com/maps/documentation/directions/start\n **/\nclass GoogleDirectionsRouter extends BaseRouter {\n    constructor() {\n        super();\n        this.type = \"google\";\n\n        /** @type {GooglePlatform} */\n        this.platform = undefined;\n    }\n\n    connectedCallback() {\n        this.platform = findRootElement(this, this.getAttribute(\"platform\"), GooglePlatform);\n        super.connectedCallback();\n    }\n\n    /**\n     * returns a Request object\n     * @return {Request}\n     */\n    buildRequest(start, dest, time=undefined) {\n        return new Request(this, start, dest, time, {\n                mode: this.getAttribute(\"mode\") || \"DRIVING\",\n                alternatives: Boolean(this.getAttribute(\"max\")),\n            });\n    }\n\n    /**\n     * Perform a route request.\n     * @async\n     * @param {Request} request - route request.\n     * @return {Promise<Response|Error>} - route response\n     */\n    async route(request) {\n        return this.platform.whenReady.then(({ service }) => {\n            return new Promise((resolve, reject) => {\n                service.route({\n                    origin: `${request.start.lat},${request.start.lng}`,\n                    destination: `${request.dest.lat},${request.dest.lng}`,\n                    travelMode: request.mode,\n                    transitOptions: {\n                        departureTime: new Date(),\n                    },\n                    provideRouteAlternatives: request.alternatives,\n                }, function(res, status) {\n                    if (status === 'OK') {\n                        resolve(res);\n                    } else {\n                        reject(status);\n                    }\n                });\n            }).then(res => {\n                let routes = res.routes.map((route, index) => {\n                    let leg = route.legs[0];\n                    let departure = new Address({lat: leg.start_location.lat(), lng: leg.start_location.lng(), name: leg.start_address, type: \"addr\", time: (leg.departure_time || {}).value || new Date()});\n                    let routeArr = new Address({lat: leg.end_location.lat(), lng: leg.end_location.lng(), name: leg.end_address, type: \"addr\", time: (leg.arrival_time || {}).value || new Date(departure.time.getTime() + leg.duration.value*1000)});\n                    let lastTime = new Date(departure.time.getTime());\n                    let legs = leg.steps.map((step, index) => {\n                        let transit = step.transit || {};\n                        let departure = new Address({lat:step.start_location.lat(), lon:step.start_location.lng(), name: step.instructions, time: (transit.departure_time || {}).value || lastTime});\n                        lastTime = new Date(lastTime.getTime() + step.duration.value*1000);\n                        let arrival = new Address({lat:step.end_location.lat(), lon:step.end_location.lng(), time: (transit.arrival_time || {}).value || lastTime});\n                        let transport = buildTransport(step);\n                        let geometry = step.path.map(point => [point.lat(), point.lng()]);\n                        return new Leg(departure, arrival, transport, geometry, {\n                                id:       createUID(\"g-leg-{uid}\"),\n                                distance: step.distance.value,\n                                summary:  step.instructions,\n                            });\n                    });\n                    return new Route(createUID(\"g-route-{uid}\"), this, departure, routeArr, removeConsecModes(legs));\n                });\n                return new Response(request, ...routes);\n            }).catch(error => new Response(request).setError(error));\n        });\n    }\n}\n\n\nconst LINE_MODE_MAP = {\n    WALKING:                \"walk\",\n    COMMUTER_TRAIN:         \"metro\",\n    SUBWAY:                 \"subway\",\n    HEAVY_RAIL:             \"train\",\n    HIGH_SPEED_TRAIN:       \"train\",\n    LONG_DISTANCE_TRAIN:    \"train\",\n    BUS:                    \"bus\",\n}\n\nconst TRAVEL_MODE_MAP = {\n    BICYCLING:  \"bike\",\n    DRIVING:    \"car\",\n    WALKING:    \"walk\",\n    TRANSIT:    \"transit\"\n}\n\nfunction buildTransport(step) {\n    let tm = TRAVEL_MODE_MAP[step.travel_mode] || step.travel_mode;\n    if (tm === \"transit\") {\n        let transit = step.transit || {};\n        let line = transit.line || {};\n        return new Transport({\n                type: LINE_MODE_MAP[step.transit.line.vehicle.type] || step.transit.line.vehicle.type,\n                name: line.short_name,\n                color: line.color,\n                headsign: transit.headsign,\n            });\n    } else {\n        return new Transport({\n                type: tm,\n                name: tm,\n            });\n    }\n}\n\nfunction removeConsecModes(legs) {\n    let dedup = [legs[0]];\n    for (let prev=legs[0], index=1, curr; (curr=legs[index]); index++ ) {\n        if (curr.transport.isSame(prev.transport)) {\n            prev.extendLeg(curr);\n        } else {\n            dedup.push(curr);\n            prev = curr;\n        }\n    }\n    return dedup;\n}\n\n\ncustomElements.define(\"google-router\", GoogleDirectionsRouter);\n\n\nexport { GoogleDirectionsRouter }\n",
    "static": true,
    "longname": "/src/src/google/router.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 169,
    "kind": "variable",
    "name": "LINE_MODE_MAP",
    "memberof": "src/google/router.js",
    "static": true,
    "longname": "src/google/router.js~LINE_MODE_MAP",
    "access": "public",
    "export": false,
    "importPath": "@proddi/map-components/src/google/router.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 95,
    "undocument": true,
    "type": {
      "types": [
        "{\"WALKING\": string, \"COMMUTER_TRAIN\": string, \"SUBWAY\": string, \"HEAVY_RAIL\": string, \"HIGH_SPEED_TRAIN\": string, \"LONG_DISTANCE_TRAIN\": string, \"BUS\": string}"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 170,
    "kind": "variable",
    "name": "TRAVEL_MODE_MAP",
    "memberof": "src/google/router.js",
    "static": true,
    "longname": "src/google/router.js~TRAVEL_MODE_MAP",
    "access": "public",
    "export": false,
    "importPath": "@proddi/map-components/src/google/router.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 105,
    "undocument": true,
    "type": {
      "types": [
        "{\"BICYCLING\": string, \"DRIVING\": string, \"WALKING\": string, \"TRANSIT\": string}"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 171,
    "kind": "function",
    "name": "buildTransport",
    "memberof": "src/google/router.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/google/router.js~buildTransport",
    "access": "public",
    "export": false,
    "importPath": "@proddi/map-components/src/google/router.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 112,
    "undocument": true,
    "params": [
      {
        "name": "step",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 172,
    "kind": "function",
    "name": "removeConsecModes",
    "memberof": "src/google/router.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/google/router.js~removeConsecModes",
    "access": "public",
    "export": false,
    "importPath": "@proddi/map-components/src/google/router.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 131,
    "undocument": true,
    "params": [
      {
        "name": "legs",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 173,
    "kind": "class",
    "name": "GoogleDirectionsRouter",
    "memberof": "src/google/router.js",
    "static": true,
    "longname": "src/google/router.js~GoogleDirectionsRouter",
    "access": "public",
    "export": true,
    "importPath": "@proddi/map-components/src/google/router.js",
    "importStyle": "{GoogleDirectionsRouter}",
    "description": "Provides an router element for google directions. It can be referenced in map components.",
    "examples": [
      "<google-router id=\"google-router\"\n    platform=\"google-platform\"\n    start=\"13.30,52.43\"\n    dest=\"13.76,52.51\"\n    time=\"2018-12-22T19:17:07\">\n</google-router>"
    ],
    "see": [
      "https://developers.google.com/maps/documentation/directions/start"
    ],
    "lineNumber": 18,
    "interface": false,
    "extends": [
      "src/generics.js~BaseRouter"
    ]
  },
  {
    "__docId__": 174,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/google/router.js~GoogleDirectionsRouter",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/google/router.js~GoogleDirectionsRouter#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 19,
    "undocument": true
  },
  {
    "__docId__": 175,
    "kind": "member",
    "name": "type",
    "memberof": "src/google/router.js~GoogleDirectionsRouter",
    "static": false,
    "longname": "src/google/router.js~GoogleDirectionsRouter#type",
    "access": "public",
    "description": null,
    "lineNumber": 21,
    "undocument": true,
    "type": {
      "types": [
        "string"
      ]
    }
  },
  {
    "__docId__": 176,
    "kind": "member",
    "name": "platform",
    "memberof": "src/google/router.js~GoogleDirectionsRouter",
    "static": false,
    "longname": "src/google/router.js~GoogleDirectionsRouter#platform",
    "access": "public",
    "description": null,
    "lineNumber": 24,
    "type": {
      "nullable": null,
      "types": [
        "GooglePlatform"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 177,
    "kind": "method",
    "name": "connectedCallback",
    "memberof": "src/google/router.js~GoogleDirectionsRouter",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/google/router.js~GoogleDirectionsRouter#connectedCallback",
    "access": "public",
    "description": null,
    "lineNumber": 27,
    "undocument": true,
    "params": [],
    "return": null
  },
  {
    "__docId__": 179,
    "kind": "method",
    "name": "buildRequest",
    "memberof": "src/google/router.js~GoogleDirectionsRouter",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/google/router.js~GoogleDirectionsRouter#buildRequest",
    "access": "public",
    "description": "returns a Request object",
    "lineNumber": 36,
    "return": {
      "nullable": null,
      "types": [
        "Request"
      ],
      "spread": false,
      "description": ""
    },
    "params": [
      {
        "name": "start",
        "types": [
          "*"
        ]
      },
      {
        "name": "dest",
        "types": [
          "*"
        ]
      },
      {
        "name": "time",
        "optional": true,
        "types": [
          "*"
        ],
        "defaultRaw": "undefined",
        "defaultValue": "undefined"
      }
    ]
  },
  {
    "__docId__": 180,
    "kind": "method",
    "name": "route",
    "memberof": "src/google/router.js~GoogleDirectionsRouter",
    "generator": false,
    "async": true,
    "static": false,
    "longname": "src/google/router.js~GoogleDirectionsRouter#route",
    "access": "public",
    "description": "Perform a route request.",
    "lineNumber": 49,
    "params": [
      {
        "nullable": null,
        "types": [
          "Request"
        ],
        "spread": false,
        "optional": false,
        "name": "request",
        "description": "route request."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Response|Error>"
      ],
      "spread": false,
      "description": "route response"
    }
  },
  {
    "__docId__": 181,
    "kind": "file",
    "name": "src/here/index.js",
    "content": "import {HerePlatform} from './platform.js';\nimport {HereRouter} from './router.js';\nimport {HereTransitRouter} from './transit-router.js';\nimport {HereMap} from './map.js';\nimport {HereMapRoutes} from './map-routes.js';\nimport {HereMapRoutePicker} from './map-route-picker.js';\n\n\nexport {\n    HerePlatform,\n    HereRouter,\n    HereTransitRouter,\n    HereMap,\n    HereMapRoutes,\n    HereMapRoutePicker\n}\n",
    "static": true,
    "longname": "/src/src/here/index.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 182,
    "kind": "file",
    "name": "src/here/map-route-picker.js",
    "content": "import {findRootElement} from '../generics.js';\n\n\n/**\n * Adds start+stop map-marker to map and bind them to the router. When markers dragged the router gets updated.\n *\n * @example\n * <here-platform app-id=\"...\" app-code=\"...\"></here-platform>\n * <router id=\"router\"></router>\n *\n * <here-map platform=\"here-platform\" center=\"13.5,52.5\" zoom=\"11\">\n *   <here-map-route-picker router=\"#router\"></here-map-route-picker>\n * </here-map>\n **/\nclass HereMapRoutePicker extends HTMLElement {\n    /**\n     * create instance\n     */\n    constructor() {\n        super();\n        let mapComp = findRootElement(this, this.getAttribute(\"map\"), customElements.get(\"here-map\"));\n        let router = document.querySelector(this.getAttribute(\"router\"));\n\n        mapComp.whenReady.then(({map, behavior}) => {\n            let startMarker = new H.map.Marker({lat:0,lng:0}, {icon:new H.map.Icon(TRIP_START_SVG, {anchor: new H.math.Point(21, 50)})});\n            startMarker.draggable = true;\n            let destMarker = new H.map.Marker({lat:0,lng:0}, {icon:new H.map.Icon(TRIP_DEST_SVG, {anchor: new H.math.Point(21, 50)})});\n            destMarker.draggable = true;\n\n            function _dragStartHandler() {\n                behavior.disable();\n            }\n\n            function _dragEndHandler(ev) {\n                let target = ev.target,\n                    data = target.getData(),\n                    position = target.getPosition();\n                behavior.enable();\n                router.update(startMarker.getPosition(), destMarker.getPosition());\n            }\n\n            function _dragHandler(ev) {\n                let marker = ev.target,\n                    pointer = ev.currentPointer,\n                    newPosition = map.screenToGeo(pointer.viewportX, pointer.viewportY);\n                marker.setPosition(newPosition);\n            }\n\n            let draggableLayer = new H.map.Group();\n            draggableLayer.addEventListener(\"dragstart\", _dragStartHandler, true);\n            draggableLayer.addEventListener(\"drag\", _dragHandler, true);\n            draggableLayer.addEventListener(\"dragend\", _dragEndHandler, true);\n            draggableLayer.addObjects([startMarker, destMarker]);\n            map.addObject(draggableLayer);\n\n            // Router\n            router.addEventListener(\"request\", ev => {\n                let request = ev.detail;\n                startMarker.setPosition(request.start);\n                destMarker.setPosition(request.dest);\n                map.setViewBounds(draggableLayer.getBounds());\n            });\n            if (router.currentRequest) {\n                startMarker.setPosition(router.currentRequest.start);\n                destMarker.setPosition(router.currentRequest.dest);\n                map.setViewBounds(draggableLayer.getBounds());\n            }\n        });\n    }\n}\n\n\nconst TRIP_START_SVG = `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"40\" height=\"50\" viewBox=\"0 0 40 50\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"><defs><path id=\"b\" d=\"M34.25 31.652A19.015 19.015 0 0 0 39 19.06C39 8.549 30.478 0 20 0S1 8.55 1 19.059c0 4.823 1.795 9.233 4.75 12.593L19.975 46 34.25 31.652z\"/><path id=\"a\" d=\"M34.25 31.652A19.015 19.015 0 0 0 39 19.06C39 8.549 30.478 0 20 0S1 8.55 1 19.059c0 4.823 1.795 9.233 4.75 12.593L19.975 46 34.25 31.652z\"/><mask id=\"c\" width=\"38\" height=\"46\" x=\"0\" y=\"0\" fill=\"#fff\"><use xlink:href=\"#a\"/></mask></defs><g fill=\"none\" fill-rule=\"evenodd\"><ellipse cx=\"20\" cy=\"45.16\" fill=\"#FFF\" stroke=\"#979797\" stroke-width=\".25\" rx=\"3.5\" ry=\"3.5\"/><use fill=\"#01B6B2\" xlink:href=\"#b\"/><path fill=\"#323232\" fill-opacity=\".5\" d=\"M11.81 37.66h16.38l-8.2 8z\"/><use stroke=\"#416A86\" stroke-width=\".5\" mask=\"url(#c)\" xlink:href=\"#a\"/><ellipse cx=\"19.81\" cy=\"19.19\" fill=\"#FFF\" rx=\"4.81\" ry=\"4.81\"/></g></svg>`;\nconst TRIP_DEST_SVG = `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"40\" height=\"50\" viewBox=\"0 0 40 50\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"><defs><path id=\"a\" d=\"M34.25 31.652A19.015 19.015 0 0 0 39 19.06C39 8.549 30.478 0 20 0S1 8.55 1 19.059c0 4.823 1.795 9.233 4.75 12.593L19.975 46 32.83 33.104c.407-.374 1.419-1.452 1.419-1.452z\"/><mask id=\"c\" width=\"38\" height=\"46\" x=\"0\" y=\"0\" fill=\"#fff\"><use xlink:href=\"#a\"/></mask><ellipse id=\"b\" cx=\"19.807\" cy=\"19.168\" rx=\"12.363\" ry=\"12.197\"/><mask id=\"d\" width=\"25.725\" height=\"25.394\" x=\"-.5\" y=\"-.5\"><path fill=\"#fff\" d=\"M6.944 6.471h25.725v25.394H6.944z\"/><use xlink:href=\"#b\"/></mask></defs><g fill=\"none\" fill-rule=\"evenodd\"><ellipse cx=\"20\" cy=\"45.16\" fill=\"#FFF\" stroke=\"#979797\" stroke-width=\".25\" rx=\"3.5\" ry=\"3.5\"/><use fill=\"#323232\" xlink:href=\"#a\"/><path fill=\"#7D7D7D\" d=\"M12.011 37.805h15.978l-7.916 8z\"/><use stroke=\"#7C7C7C\" stroke-width=\".5\" mask=\"url(#e)\" xlink:href=\"#a\"/><use stroke=\"#FFF\" stroke-width=\".5\" mask=\"url(#c)\" xlink:href=\"#a\"/><ellipse fill=\"#FFF\" cx=\"19.807\" cy=\"19.168\" rx=\"12.363\" ry=\"12.197\"/><path fill=\"#323232\" d=\"M6.812 6.948h6.45v6.364h-6.45zm0 12.727h6.45v6.364h-6.45zm6.45-6.363h6.45v6.364h-6.45zm0 12.727h6.45v6.364h-6.45zm6.45-19.091h6.45v6.364h-6.45zm0 12.727h6.45v6.364h-6.45zm6.45-6.363h6.45v6.364h-6.45zm0 12.727h6.45v6.364h-6.45z\"/><use stroke=\"#FFF\" mask=\"url(#d)\" xlink:href=\"#b\" stroke-linecap=\"square\"/></g></svg>`;\n\n\ncustomElements.define(\"here-map-route-picker\", HereMapRoutePicker);\n\n\nexport { HereMapRoutePicker }\n",
    "static": true,
    "longname": "/src/src/here/map-route-picker.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 183,
    "kind": "variable",
    "name": "TRIP_START_SVG",
    "memberof": "src/here/map-route-picker.js",
    "static": true,
    "longname": "src/here/map-route-picker.js~TRIP_START_SVG",
    "access": "public",
    "export": false,
    "importPath": "@proddi/map-components/src/here/map-route-picker.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 73,
    "undocument": true,
    "type": {
      "types": [
        "string"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 184,
    "kind": "variable",
    "name": "TRIP_DEST_SVG",
    "memberof": "src/here/map-route-picker.js",
    "static": true,
    "longname": "src/here/map-route-picker.js~TRIP_DEST_SVG",
    "access": "public",
    "export": false,
    "importPath": "@proddi/map-components/src/here/map-route-picker.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 74,
    "undocument": true,
    "type": {
      "types": [
        "string"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 185,
    "kind": "class",
    "name": "HereMapRoutePicker",
    "memberof": "src/here/map-route-picker.js",
    "static": true,
    "longname": "src/here/map-route-picker.js~HereMapRoutePicker",
    "access": "public",
    "export": true,
    "importPath": "@proddi/map-components/src/here/map-route-picker.js",
    "importStyle": "{HereMapRoutePicker}",
    "description": "Adds start+stop map-marker to map and bind them to the router. When markers dragged the router gets updated.",
    "examples": [
      "<here-platform app-id=\"...\" app-code=\"...\"></here-platform>\n<router id=\"router\"></router>\n\n<here-map platform=\"here-platform\" center=\"13.5,52.5\" zoom=\"11\">\n  <here-map-route-picker router=\"#router\"></here-map-route-picker>\n</here-map>"
    ],
    "lineNumber": 15,
    "interface": false,
    "extends": [
      "HTMLElement"
    ]
  },
  {
    "__docId__": 186,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/here/map-route-picker.js~HereMapRoutePicker",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/here/map-route-picker.js~HereMapRoutePicker#constructor",
    "access": "public",
    "description": "create instance",
    "lineNumber": 19
  },
  {
    "__docId__": 187,
    "kind": "file",
    "name": "src/here/map-routes.js",
    "content": "import {findRootElement} from '../generics.js';\n\n\nfunction mergeColor(color, merging, weight) {\n    if (!color.startsWith(\"#\") || !merging.startsWith(\"#\")) return color;\n\n    let _merge = [1,3,5].map(ofs => merging.slice(ofs, ofs+2))               // hex pieces\n                        .map(hex => parseInt(hex, 16));                    // to dec\n\n    return \"#\" +  [1,3,5].map(ofs => color.slice(ofs, ofs+2))               // hex pieces\n                         .map(hex => parseInt(hex, 16))                     // to dec and add delta\n                         .map((val, idx) => val+(_merge[idx]-val)*weight)        // apply limits\n                         .map(val => (\"0\" + Math.round(val).toString(16)).slice(-2))    // to hex\n                         .join(\"\");\n}\n\nfunction adoptColor(color, delta) {\n    if (!color.startsWith(\"#\")) return color;\n    return \"#\" +  [1,3,5].map(ofs => color.slice(ofs, ofs+2))               // hex pieces\n                         .map(hex => parseInt(hex, 16) + delta)             // to dec and add delta\n                         .map(val => Math.min(255, Math.max(0, val)))       // apply limits\n                         .map(val => (\"0\" + val.toString(16)).slice(-2))    // to hex\n                         .join(\"\");\n}\n\nfunction addToColor(delta) {\n    return (color) => adoptColor(color, delta);\n}\n\n\nfunction mergeWithColor(color, weight) {\n    return function(prev) {\n        if (!prev) return color;\n        return mergeColor(prev, color, weight);\n    }\n}\n\n\nconst _ROUTE_STYLES_OUTLINE = {\n    name:           \"outline\",\n    selected: {\n        default:    { strokeColor: \"#777777\", lineWidth: 8 },\n    },\n    passive: {\n        default:    { strokeColor: \"#888888\", lineWidth: 7 },\n        walk:       { strokeColor: \"#888888\", lineWidth: 7, lineDash: [3, 10] },\n        bus:        { strokeColor: \"#804080\", lineWidth: 7 },\n    },\n    highlighed: {\n        default:    { strokeColor: \"#666666\", lineWidth: 8 },\n//        default:    mergeColor(\"strokeColor\", \"#222222\", .5, { lineWidth: 8 }),\n//        default:    addToColor(\"strokeColor\", -16, { strokeColor: addToColor(-16), lineWidth: 8 },\n    },\n}\n\nconst _ROUTE_STYLES = {\n    name:           \"line\",\n    selected: {\n        default:    { strokeColor: \"#dddddd\", lineWidth: 5, x:1 },\n//        default:    foo({ strokeColor: \"#dddddd\", lineWidth: 5, x:1 }),\n//        metro:      { strokeColor: \"red\",    lineWidth: 5, x:1 },\n    },\n    passive: {\n        default:    { strokeColor: \"#cccccc\", lineWidth: 5 },\n//        walk:       { strokeColor: \"#cccccc\", lineWidth: 5, lineDash: [3, 10] },\n//        bus:        { strokeColor: \"#a36aa3\", lineWidth: 5 },\n    },\n    highlighed: {\n        default:    { strokeColor: \"#dddddd\", l_ineWidth: 4 },\n    },\n}\n\n\nclass HereMapRoutes extends HTMLElement {\n    constructor() {\n        super();\n        this._routeUi = {}\n    }\n\n    connectedCallback() {\n        let mapComp = findRootElement(this, this.getAttribute(\"map\"), customElements.get(\"here-map\"));\n        let router = document.querySelector(this.getAttribute(\"router\"));\n        let styler = document.querySelector(this.getAttribute(\"styler\"));\n\n        mapComp.whenReady.then(({map}) => {\n            router.addEventListener(\"request\", (ev) => {\n                this.clearRoutes(map);\n            });\n            router.addEventListener(\"routes\", (ev) => {\n                this.addRoutes(map, ev.detail.routes);\n            });\n            if (styler) {\n                styler.addEventListener(\"styles\", (ev) => {\n                    let styles = ev.detail;\n                    for (let id in styles) {\n                        this._applyRouteStyleUi(this._routeUi[id], styles[id]);\n                    }\n                });\n            }\n            router.currentRoutes && this.addRoutes(map, router.currentRoutes);\n        });\n        this._router = router;\n    }\n\n    clearRoutes(map) {\n        for (let id in this._routeUi) {\n            map.removeObject(this._routeUi[id]);\n        }\n        this._routeUi = {};\n    }\n\n    addRoutes(map, routes, style=undefined) {\n        for (let route of routes) {\n            this.showRoute(map, route);\n        }\n    }\n\n    showRoute(map, route, styles=[]) {\n        let ui = new H.map.Group();\n        for (let leg of route.legs) {\n            this._addLegUI(ui, leg);\n        }\n        this._routeUi[route.uid] = ui;\n        this._applyRouteStyleUi(ui, styles);\n        map.addObject(ui);\n    }\n\n    _addLegUI(uiRoot, leg) {\n        let path = new H.geo.LineString();\n        path.pushLatLngAlt(leg.departure.lat, leg.departure.lng);\n        for (let point of leg.geometry) {\n            path.pushLatLngAlt(point[0], point[1]);\n        }\n        path.pushLatLngAlt(leg.arrival.lat, leg.arrival.lng);\n\n        uiRoot.addObject(new H.map.Polyline(path, { data: leg, }));\n        uiRoot.addObject(new H.map.Polyline(path, { data: leg, }));\n    }\n\n    _applyRouteStyle(route, styleName) {\n        this._applyRouteStyleUi(this._routeUi[route.uid], styleName);\n    }\n\n    _applyRouteStyleUi(uiRoot, styleNames) {\n        let state = styleNames.length > 0 ? styleNames[styleNames.length-1] : \"passive\";\n        uiRoot.setZIndex(ROUTE_ZINDICES[state] || 0);\n        uiRoot.getObjects().forEach((ui, index) => {\n            let cycle = [\"outline\", \"inline\"][index%2];\n            let leg = ui.getData();\n            let transport = leg.transport;\n            let style = combineStyles(\n                { color: transport.color || \"#888888\", outline: transport.color || \"#888888\", lineJoin: \"round\", },   // color layer\n                TRANSPORT_STYLES[transport.type] || TRANSPORT_STYLES.default,\n                STATE_STYLES[state] || STATE_STYLES.default,\n            );\n            ui.setStyle(CYCLE_FINISHER[index%2](style));\n        });\n    }\n}\n\n\nconst ROUTE_ZINDICES = {\n    \"passive\": 0,\n    \"selected\": 5,\n    \"highlighted\": 10,\n}\n\n\nfunction combineStyles(...styles) {\n    return styles.reduce((style, add) => {\n        let computed = {};\n        for (let key in add) {\n            let val = add[key];\n            computed[key] = val.call ? val(style[key]) : val;\n        }\n        return Object.assign({}, style, computed);\n    }, {});\n}\n\nconst TRANSPORT_STYLES = {\n    default:    {},\n    walk:       { dash: [3, 10], },\n}\n\nconst STATE_STYLES = {\n    default:    { width: 5, border: 2, },\n    passive:    { color: mergeWithColor(\"#cccccc\", .9), outline: mergeWithColor(\"#888888\", .4), width: 5, border: 2, },\n    selected:   { color: mergeWithColor(\"#cccccc\", .2), outline: mergeWithColor(\"#444444\", .4), width: 5, border: 3, },\n    highlighted:{ color: mergeWithColor(\"#cccccc\", .6), outline: mergeWithColor(\"#666666\", .4), width: 5, border: 3, },\n}\n\nconst CYCLE_FINISHER = [\n    function(style) {  // outline\n        style.lineWidth = (style.width || 0) + (style.border || 0);\n        style.strokeColor = style.outline;\n        return style;\n    },\n    function(style) {  // inline\n        style.lineWidth = style.width;\n        style.strokeColor = style.color;\n        return style;\n    },\n];\n\n\ncustomElements.define(\"here-map-routes\", HereMapRoutes);\n\n\nexport { HereMapRoutes }\n",
    "static": true,
    "longname": "/src/src/here/map-routes.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 188,
    "kind": "function",
    "name": "mergeColor",
    "memberof": "src/here/map-routes.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/here/map-routes.js~mergeColor",
    "access": "public",
    "export": false,
    "importPath": "@proddi/map-components/src/here/map-routes.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 4,
    "undocument": true,
    "params": [
      {
        "name": "color",
        "types": [
          "*"
        ]
      },
      {
        "name": "merging",
        "types": [
          "*"
        ]
      },
      {
        "name": "weight",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 189,
    "kind": "function",
    "name": "adoptColor",
    "memberof": "src/here/map-routes.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/here/map-routes.js~adoptColor",
    "access": "public",
    "export": false,
    "importPath": "@proddi/map-components/src/here/map-routes.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 17,
    "undocument": true,
    "params": [
      {
        "name": "color",
        "types": [
          "*"
        ]
      },
      {
        "name": "delta",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 190,
    "kind": "function",
    "name": "addToColor",
    "memberof": "src/here/map-routes.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/here/map-routes.js~addToColor",
    "access": "public",
    "export": false,
    "importPath": "@proddi/map-components/src/here/map-routes.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 26,
    "undocument": true,
    "params": [
      {
        "name": "delta",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 191,
    "kind": "function",
    "name": "mergeWithColor",
    "memberof": "src/here/map-routes.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/here/map-routes.js~mergeWithColor",
    "access": "public",
    "export": false,
    "importPath": "@proddi/map-components/src/here/map-routes.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 31,
    "undocument": true,
    "params": [
      {
        "name": "color",
        "types": [
          "*"
        ]
      },
      {
        "name": "weight",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 192,
    "kind": "variable",
    "name": "_ROUTE_STYLES_OUTLINE",
    "memberof": "src/here/map-routes.js",
    "static": true,
    "longname": "src/here/map-routes.js~_ROUTE_STYLES_OUTLINE",
    "access": "private",
    "export": false,
    "importPath": "@proddi/map-components/src/here/map-routes.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 39,
    "undocument": true,
    "type": {
      "types": [
        "{\"name\": string, \"selected\": *, \"passive\": *, \"highlighed\": *}"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 193,
    "kind": "variable",
    "name": "_ROUTE_STYLES",
    "memberof": "src/here/map-routes.js",
    "static": true,
    "longname": "src/here/map-routes.js~_ROUTE_STYLES",
    "access": "private",
    "export": false,
    "importPath": "@proddi/map-components/src/here/map-routes.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 56,
    "undocument": true,
    "type": {
      "types": [
        "{\"name\": string, \"selected\": *, \"passive\": *, \"highlighed\": *}"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 194,
    "kind": "variable",
    "name": "ROUTE_ZINDICES",
    "memberof": "src/here/map-routes.js",
    "static": true,
    "longname": "src/here/map-routes.js~ROUTE_ZINDICES",
    "access": "public",
    "export": false,
    "importPath": "@proddi/map-components/src/here/map-routes.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 162,
    "undocument": true,
    "type": {
      "types": [
        "{\"passive\": *, \"selected\": number, \"highlighted\": number}"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 195,
    "kind": "function",
    "name": "combineStyles",
    "memberof": "src/here/map-routes.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/here/map-routes.js~combineStyles",
    "access": "public",
    "export": false,
    "importPath": "@proddi/map-components/src/here/map-routes.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 169,
    "undocument": true,
    "params": [
      {
        "name": "styles",
        "types": [
          "...*"
        ],
        "spread": true
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 196,
    "kind": "variable",
    "name": "TRANSPORT_STYLES",
    "memberof": "src/here/map-routes.js",
    "static": true,
    "longname": "src/here/map-routes.js~TRANSPORT_STYLES",
    "access": "public",
    "export": false,
    "importPath": "@proddi/map-components/src/here/map-routes.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 180,
    "undocument": true,
    "type": {
      "types": [
        "{\"default\": *, \"walk\": *}"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 197,
    "kind": "variable",
    "name": "STATE_STYLES",
    "memberof": "src/here/map-routes.js",
    "static": true,
    "longname": "src/here/map-routes.js~STATE_STYLES",
    "access": "public",
    "export": false,
    "importPath": "@proddi/map-components/src/here/map-routes.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 185,
    "undocument": true,
    "type": {
      "types": [
        "{\"default\": *, \"passive\": *, \"selected\": *, \"highlighted\": *}"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 198,
    "kind": "variable",
    "name": "CYCLE_FINISHER",
    "memberof": "src/here/map-routes.js",
    "static": true,
    "longname": "src/here/map-routes.js~CYCLE_FINISHER",
    "access": "public",
    "export": false,
    "importPath": "@proddi/map-components/src/here/map-routes.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 192,
    "undocument": true,
    "type": {
      "types": [
        "undefined[]"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 199,
    "kind": "class",
    "name": "HereMapRoutes",
    "memberof": "src/here/map-routes.js",
    "static": true,
    "longname": "src/here/map-routes.js~HereMapRoutes",
    "access": "public",
    "export": true,
    "importPath": "@proddi/map-components/src/here/map-routes.js",
    "importStyle": "{HereMapRoutes}",
    "description": null,
    "lineNumber": 74,
    "undocument": true,
    "interface": false,
    "extends": [
      "HTMLElement"
    ]
  },
  {
    "__docId__": 200,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/here/map-routes.js~HereMapRoutes",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/here/map-routes.js~HereMapRoutes#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 75,
    "undocument": true
  },
  {
    "__docId__": 201,
    "kind": "member",
    "name": "_routeUi",
    "memberof": "src/here/map-routes.js~HereMapRoutes",
    "static": false,
    "longname": "src/here/map-routes.js~HereMapRoutes#_routeUi",
    "access": "private",
    "description": null,
    "lineNumber": 77,
    "undocument": true,
    "type": {
      "types": [
        "{}"
      ]
    }
  },
  {
    "__docId__": 202,
    "kind": "method",
    "name": "connectedCallback",
    "memberof": "src/here/map-routes.js~HereMapRoutes",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/here/map-routes.js~HereMapRoutes#connectedCallback",
    "access": "public",
    "description": null,
    "lineNumber": 80,
    "undocument": true,
    "params": [],
    "return": null
  },
  {
    "__docId__": 203,
    "kind": "member",
    "name": "_router",
    "memberof": "src/here/map-routes.js~HereMapRoutes",
    "static": false,
    "longname": "src/here/map-routes.js~HereMapRoutes#_router",
    "access": "private",
    "description": null,
    "lineNumber": 102,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 204,
    "kind": "method",
    "name": "clearRoutes",
    "memberof": "src/here/map-routes.js~HereMapRoutes",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/here/map-routes.js~HereMapRoutes#clearRoutes",
    "access": "public",
    "description": null,
    "lineNumber": 105,
    "undocument": true,
    "params": [
      {
        "name": "map",
        "types": [
          "*"
        ]
      }
    ],
    "return": null
  },
  {
    "__docId__": 206,
    "kind": "method",
    "name": "addRoutes",
    "memberof": "src/here/map-routes.js~HereMapRoutes",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/here/map-routes.js~HereMapRoutes#addRoutes",
    "access": "public",
    "description": null,
    "lineNumber": 112,
    "undocument": true,
    "params": [
      {
        "name": "map",
        "types": [
          "*"
        ]
      },
      {
        "name": "routes",
        "types": [
          "*"
        ]
      },
      {
        "name": "style",
        "optional": true,
        "types": [
          "*"
        ],
        "defaultRaw": "undefined",
        "defaultValue": "undefined"
      }
    ],
    "return": null
  },
  {
    "__docId__": 207,
    "kind": "method",
    "name": "showRoute",
    "memberof": "src/here/map-routes.js~HereMapRoutes",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/here/map-routes.js~HereMapRoutes#showRoute",
    "access": "public",
    "description": null,
    "lineNumber": 118,
    "undocument": true,
    "params": [
      {
        "name": "map",
        "types": [
          "*"
        ]
      },
      {
        "name": "route",
        "types": [
          "*"
        ]
      },
      {
        "name": "styles",
        "optional": true,
        "types": [
          "*[]"
        ],
        "defaultRaw": [],
        "defaultValue": "[]"
      }
    ],
    "return": null
  },
  {
    "__docId__": 208,
    "kind": "method",
    "name": "_addLegUI",
    "memberof": "src/here/map-routes.js~HereMapRoutes",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/here/map-routes.js~HereMapRoutes#_addLegUI",
    "access": "private",
    "description": null,
    "lineNumber": 128,
    "undocument": true,
    "params": [
      {
        "name": "uiRoot",
        "types": [
          "*"
        ]
      },
      {
        "name": "leg",
        "types": [
          "*"
        ]
      }
    ],
    "return": null
  },
  {
    "__docId__": 209,
    "kind": "method",
    "name": "_applyRouteStyle",
    "memberof": "src/here/map-routes.js~HereMapRoutes",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/here/map-routes.js~HereMapRoutes#_applyRouteStyle",
    "access": "private",
    "description": null,
    "lineNumber": 140,
    "undocument": true,
    "params": [
      {
        "name": "route",
        "types": [
          "*"
        ]
      },
      {
        "name": "styleName",
        "types": [
          "*"
        ]
      }
    ],
    "return": null
  },
  {
    "__docId__": 210,
    "kind": "method",
    "name": "_applyRouteStyleUi",
    "memberof": "src/here/map-routes.js~HereMapRoutes",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/here/map-routes.js~HereMapRoutes#_applyRouteStyleUi",
    "access": "private",
    "description": null,
    "lineNumber": 144,
    "undocument": true,
    "params": [
      {
        "name": "uiRoot",
        "types": [
          "*"
        ]
      },
      {
        "name": "styleNames",
        "types": [
          "*"
        ]
      }
    ],
    "return": null
  },
  {
    "__docId__": 211,
    "kind": "file",
    "name": "src/here/map.js",
    "content": "\"use strict\";\nimport {parseCoordString, findRootElement, deferredPromise} from '../generics.js';\nimport {HerePlatform} from './platform.js';\n\n\n/**\n * Shows HERE map. This is the base canvas for other visualisation elements.\n * It requires a {@link HerePlatform} component to handle credentials.\n *\n * @example\n * <here-platform app-id=\"...\" app-code=\"...\"></here-platform>\n *\n * <here-map platform=\"here-platform\" center=\"13.5,52.5\" zoom=\"11\">\n * </here-map>\n *\n * @see https://developer.here.com/documentation/maps/\n **/\nclass HereMap extends HTMLElement {\n\n    constructor() {\n        super();\n        this.center = parseCoordString(this.getAttribute(\"center\"));\n        this.zoom = this.getAttribute(\"zoom\");\n        /** @type {HerePlatform */\n        this.platform = findRootElement(this, this.getAttribute(\"platform\"), HerePlatform);\n        /** @type {Promise<{map:H.Map, behavior: H.mapevents.Behavior, platform:H.service.Platform, maptypes:object}|Error>} */\n        this.whenReady = deferredPromise();\n    }\n\n    connectedCallback() {\n        this.platform.whenReady.then(({platform, maptypes}) => {\n            let map = new H.Map(this, maptypes.terrain.map, {\n                center: this.center,\n                zoom: this.zoom,\n                margin: 150,\n                renderBaseBackground: {lower: 1, higher: 1},\n    //            pixelRatio: pixelRatio\n            });\n\n            // add behavior\n            let mapevents = new H.mapevents.MapEvents(map);\n            let behavior = new H.mapevents.Behavior(mapevents);\n\n            // add resize support\n            window.addEventListener('resize', function() { map.getViewPort().resize(); });\n\n            let ui = new H.ui.UI(map, {});\n\n            this.whenReady.resolve({map:map, behavior:behavior, platform:platform, maptypes:maptypes});\n        }).catch(error => this.whenReady.reject(error));\n    }\n}\n\n\n/**\n * @external {H.Map} https://developer.here.com/documentation/maps/topics_api/h-map.html\n */\n\n\n/**\n * @external {H.service.Platform} https://developer.here.com/documentation/maps/topics_api/h-service-platform.html\n */\n\n\n/**\n * @external {H.mapevents.Behavior} https://developer.here.com/documentation/maps/topics_api/h-mapevents-behavior.html\n */\n\n\ncustomElements.define(\"here-map\", HereMap);\n\n\nexport { HereMap }\n",
    "static": true,
    "longname": "/src/src/here/map.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 212,
    "kind": "external",
    "name": "H.Map",
    "externalLink": "https://developer.here.com/documentation/maps/topics_api/h-map.html",
    "memberof": "src/here/map.js",
    "static": true,
    "longname": "src/here/map.js~H.Map",
    "access": "public",
    "description": ""
  },
  {
    "__docId__": 213,
    "kind": "external",
    "name": "H.service.Platform",
    "externalLink": "https://developer.here.com/documentation/maps/topics_api/h-service-platform.html",
    "memberof": "src/here/map.js",
    "static": true,
    "longname": "src/here/map.js~H.service.Platform",
    "access": "public",
    "description": ""
  },
  {
    "__docId__": 214,
    "kind": "external",
    "name": "H.mapevents.Behavior",
    "externalLink": "https://developer.here.com/documentation/maps/topics_api/h-mapevents-behavior.html",
    "memberof": "src/here/map.js",
    "static": true,
    "longname": "src/here/map.js~H.mapevents.Behavior",
    "access": "public",
    "description": "",
    "lineNumber": 70
  },
  {
    "__docId__": 215,
    "kind": "class",
    "name": "HereMap",
    "memberof": "src/here/map.js",
    "static": true,
    "longname": "src/here/map.js~HereMap",
    "access": "public",
    "export": true,
    "importPath": "@proddi/map-components/src/here/map.js",
    "importStyle": "{HereMap}",
    "description": "Shows HERE map. This is the base canvas for other visualisation elements.\nIt requires a {@link HerePlatform} component to handle credentials.",
    "examples": [
      "<here-platform app-id=\"...\" app-code=\"...\"></here-platform>\n\n<here-map platform=\"here-platform\" center=\"13.5,52.5\" zoom=\"11\">\n</here-map>"
    ],
    "see": [
      "https://developer.here.com/documentation/maps/"
    ],
    "lineNumber": 18,
    "interface": false,
    "extends": [
      "HTMLElement"
    ]
  },
  {
    "__docId__": 216,
    "kind": "external",
    "name": "H.Map",
    "externalLink": "https://developer.here.com/documentation/maps/topics_api/h-map.html",
    "memberof": "src/here/map.js",
    "static": true,
    "longname": "src/here/map.js~H.Map",
    "access": "public",
    "description": ""
  },
  {
    "__docId__": 217,
    "kind": "external",
    "name": "H.service.Platform",
    "externalLink": "https://developer.here.com/documentation/maps/topics_api/h-service-platform.html",
    "memberof": "src/here/map.js",
    "static": true,
    "longname": "src/here/map.js~H.service.Platform",
    "access": "public",
    "description": ""
  },
  {
    "__docId__": 218,
    "kind": "external",
    "name": "H.mapevents.Behavior",
    "externalLink": "https://developer.here.com/documentation/maps/topics_api/h-mapevents-behavior.html",
    "memberof": "src/here/map.js",
    "static": true,
    "longname": "src/here/map.js~H.mapevents.Behavior",
    "access": "public",
    "description": ""
  },
  {
    "__docId__": 219,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/here/map.js~HereMap",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/here/map.js~HereMap#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 20,
    "undocument": true
  },
  {
    "__docId__": 220,
    "kind": "member",
    "name": "center",
    "memberof": "src/here/map.js~HereMap",
    "static": false,
    "longname": "src/here/map.js~HereMap#center",
    "access": "public",
    "description": null,
    "lineNumber": 22,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 221,
    "kind": "member",
    "name": "zoom",
    "memberof": "src/here/map.js~HereMap",
    "static": false,
    "longname": "src/here/map.js~HereMap#zoom",
    "access": "public",
    "description": null,
    "lineNumber": 23,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 222,
    "kind": "member",
    "name": "platform",
    "memberof": "src/here/map.js~HereMap",
    "static": false,
    "longname": "src/here/map.js~HereMap#platform",
    "access": "public",
    "description": null,
    "lineNumber": 25,
    "type": {
      "nullable": null,
      "types": [
        "*"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 223,
    "kind": "member",
    "name": "whenReady",
    "memberof": "src/here/map.js~HereMap",
    "static": false,
    "longname": "src/here/map.js~HereMap#whenReady",
    "access": "public",
    "description": null,
    "lineNumber": 27,
    "type": {
      "nullable": null,
      "types": [
        "Promise<{map:H.Map, behavior: H.mapevents.Behavior, platform:H.service.Platform, maptypes:object}|Error>"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 224,
    "kind": "method",
    "name": "connectedCallback",
    "memberof": "src/here/map.js~HereMap",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/here/map.js~HereMap#connectedCallback",
    "access": "public",
    "description": null,
    "lineNumber": 30,
    "undocument": true,
    "params": [],
    "return": null
  },
  {
    "__docId__": 225,
    "kind": "file",
    "name": "src/here/platform.js",
    "content": "\"use strict\";\nimport {loadScript, parseString} from '../generics.js';\n\n\n// singleton: load here-maps javascript resources\nconst hereResources = loadScript(\n            \"https://js.api.here.com/v3/3.0/mapsjs-core.js\"\n    ).then(_ => {\n        return loadScript(\n            \"https://js.api.here.com/v3/3.0/mapsjs-mapevents.js\",\n            \"https://js.api.here.com/v3/3.0/mapsjs-service.js\",\n            \"https://js.api.here.com/v3/3.0/mapsjs-ui.js\"\n        );\n    });\n\n\n/**\n * The platform element is required to handle credentials for HERE services.\n *\n * Attributes:\n * - app_id - credentials\n * - app_code - credentials\n *\n * @example\n * <here-platform app-id=\"...\" app-code=\"...\"></here-platform>\n *\n * <here-map platform=\"here-platform\" center=\"13.5,52.5\" zoom=\"11\">\n * </here-map>\n *\n * @see https://developer.here.com/documentation/maps/\n **/\nclass HerePlatform extends HTMLElement {\n    constructor() {\n        super();\n\n        this.app_id   = parseString(this.getAttribute(\"app-id\"), window);\n        this.app_code = parseString(this.getAttribute(\"app-code\"), window);\n\n        /** @type {Promise<{platform:H.service.Platform, maptypes:object}>} */\n        this.whenReady = hereResources.then(_ => {\n            let platform = new H.service.Platform({\n                useCIT: true,\n                useHTTPS: true,\n                app_id: this.app_id,\n                app_code: this.app_code,\n            });\n            let maptypes = platform.createDefaultLayers();\n            return Promise.resolve({ platform: platform, maptypes: maptypes });\n        });\n    }\n}\n\n\ncustomElements.define(\"here-platform\", HerePlatform);\n\n\nexport { HerePlatform }\n",
    "static": true,
    "longname": "/src/src/here/platform.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 226,
    "kind": "variable",
    "name": "hereResources",
    "memberof": "src/here/platform.js",
    "static": true,
    "longname": "src/here/platform.js~hereResources",
    "access": "public",
    "export": false,
    "importPath": "@proddi/map-components/src/here/platform.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 6,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 227,
    "kind": "class",
    "name": "HerePlatform",
    "memberof": "src/here/platform.js",
    "static": true,
    "longname": "src/here/platform.js~HerePlatform",
    "access": "public",
    "export": true,
    "importPath": "@proddi/map-components/src/here/platform.js",
    "importStyle": "{HerePlatform}",
    "description": "The platform element is required to handle credentials for HERE services.\n\nAttributes:\n- app_id - credentials\n- app_code - credentials",
    "examples": [
      "<here-platform app-id=\"...\" app-code=\"...\"></here-platform>\n\n<here-map platform=\"here-platform\" center=\"13.5,52.5\" zoom=\"11\">\n</here-map>"
    ],
    "see": [
      "https://developer.here.com/documentation/maps/"
    ],
    "lineNumber": 32,
    "interface": false,
    "extends": [
      "HTMLElement"
    ]
  },
  {
    "__docId__": 228,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/here/platform.js~HerePlatform",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/here/platform.js~HerePlatform#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 33,
    "undocument": true
  },
  {
    "__docId__": 229,
    "kind": "member",
    "name": "app_id",
    "memberof": "src/here/platform.js~HerePlatform",
    "static": false,
    "longname": "src/here/platform.js~HerePlatform#app_id",
    "access": "public",
    "description": null,
    "lineNumber": 36,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 230,
    "kind": "member",
    "name": "app_code",
    "memberof": "src/here/platform.js~HerePlatform",
    "static": false,
    "longname": "src/here/platform.js~HerePlatform#app_code",
    "access": "public",
    "description": null,
    "lineNumber": 37,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 231,
    "kind": "member",
    "name": "whenReady",
    "memberof": "src/here/platform.js~HerePlatform",
    "static": false,
    "longname": "src/here/platform.js~HerePlatform#whenReady",
    "access": "public",
    "description": null,
    "lineNumber": 40,
    "type": {
      "nullable": null,
      "types": [
        "Promise<{platform:H.service.Platform, maptypes:object}>"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 232,
    "kind": "file",
    "name": "src/here/router.js",
    "content": "import {BaseRouter, Request, Response, Route, Leg, Transport, Address, Stop, parseString, findRootElement, createUID, buildURI} from '../generics.js';\nimport {HerePlatform} from './platform.js';\n\n\n/**\n * Provides an router element for generic HERE routing. It can be referenced in map components.\n *\n * @example\n * <here-router id=\"here-router\"\n *     platform=\"#platform\"\n *     start=\"13.30,52.43\"\n *     dest=\"13.76,52.51\"\n *     time=\"2018-12-22T19:17:07\">\n * </here-router>\n *\n * @see https://developer.here.com/documentation/routing/topics/resource-calculate-route.html\n **/\nclass HereRouter extends BaseRouter {\n    /**\n     * create instance\n     */\n    constructor() {\n        super();\n        /**\n         * Returns \"here\" for this router.\n         * @type {string}\n         */\n        this.type = \"here\";\n    }\n\n    connectedCallback() {\n        this.platform = findRootElement(this, this.getAttribute(\"platform\"), HerePlatform, null);\n        this.app_id   = this.platform ? this.platform.app_id   : parseString(this.getAttribute(\"app-id\"), window);\n        this.app_code = this.platform ? this.platform.app_code : parseString(this.getAttribute(\"app-code\"), window);\n        super.connectedCallback();\n    }\n\n    /**\n     * returns a Request object\n     * @returns {Request}\n     */\n    buildRequest(start, dest, time=undefined) {\n        let modes = (this.getAttribute(\"modes\") || \"transit\").split(\",\");\n        let max = this.getAttribute(\"max\");\n        return new Request(this, start, dest, time, { modes: modes.map(mode => REQ_MODES[mode] || mode), max: max });\n    }\n\n    /**\n     * Perform a route request.\n     * @async\n     * @param {Request} request - route request.\n     * @returns {Promise<Response, Error>} - route response\n     */\n    async route(request) {\n        let url = buildURI(\"https://route.api.here.com/routing/7.2/calculateroute.json\", {\n                waypoint0:          `geo!${request.start.lat},${request.start.lng}`,\n                waypoint1:          `geo!${request.dest.lat},${request.dest.lng}`,\n                time:               request.time,\n                mode:               `fastest;${request.modes.join(\",\")}`,\n                alternatives:       request.max || 3,\n                representation:     `display`,\n                legAttributdes:     `travelTime,shape`,\n                maneuverAttributes: `position,publicTransportLine`,\n                routeAttributes:    `legs,shape,lines,groups`,\n                app_id:             this.app_id,\n                app_code:           this.app_code,\n            });\n\n        return fetch(url).then(res => res.json()).then(res => {\n            if (res.details) return Promise.reject(res.details);\n\n            let routes = res.response.route.map((route, index) => {\n//                console.log(\"ROUTE\", index, route);\n                // extract lines index\n                let lines = {};\n                for (let e of route.publicTransportLine || []) lines[e.id] = e;\n                // build route\n                let departure = new Address({\n                    lat: route.waypoint[0].mappedPosition.latitude,\n                    lng: route.waypoint[0].mappedPosition.longitude,\n                    name: route.waypoint[0].label,\n                    type: \"addr\",\n                    time: new Date(),\n                });\n                let arrival = new Address({\n                    lat: route.waypoint[1].mappedPosition.latitude,\n                    lng: route.waypoint[1].mappedPosition.longitude,\n                    name: route.waypoint[1].label,\n                    type: \"addr\",\n                    time: new Date(),\n                });\n                let legs = route.leg[0].maneuver.filter(leg => leg.shape.length > 1).map((leg, index) => {\n//                    console.log(\"LEG\", index, leg);\n                    let geometry = route.shape.slice(1).map(s => s.split(\",\").map(v => parseFloat(v)));\n                    let departure = buildLocation(leg);\n                    leg = new Leg(departure, arrival, buildTransport(leg, lines[leg.line]), geometry);\n                    leg.id = index;\n                    return leg;\n                });\n                // fix arrivals\n                legs.reduce((prev, curr) => {\n                    prev.arrival = curr.departure;\n                    return curr;\n                });\n//                legs.forEach(leg => console.log(index, leg.id, leg.departure, \"->\", leg.arrival));\n                return new Route(createUID(\"h-route-{uid}\"), this, departure, arrival, legs);\n            });\n            return new Response(request, ...routes);\n        }).catch(error => new Response(request).setError(error));\n    }\n}\n\n\nconst REQ_MODES = {\n    \"walk\":     \"pedestrian\",\n    \"car\":      \"car\",\n    \"transit\":  \"publicTransportTimeTable\",\n    \"bike\":     \"bicycle\",\n}\n\n\nfunction buildTransport(leg, line) {\n    line = line || {};\n    let type = ROUTER_MODES[line.lineName || leg._type];\n    return new Transport({\n            type: type || leg._type,\n            name: line.lineName || type || leg._type,\n//            color: leg.color\n        });\n}\n\n\nconst ROUTER_MODES = {\n    \"railMetro\":                     \"subway\",\n    \"railMetroRegional\":             \"metro\",\n    \"PrivateTransportManeuverType\":  \"car\",\n    \"PublicTransportManeuverType\":   \"bus\",\n}\n\n\nfunction buildLocation(leg) {\n    if (leg.stopName) {\n        return new Stop({lat: leg.position.latitude, lng: leg.position.longitude, name: leg.stopName, time: leg.time});\n    }\n    return new Address({lat: leg.position.latitude, lng: leg.position.longitude, name: leg.instruction, time: leg.time});\n}\n\n\ncustomElements.define(\"here-router\", HereRouter);\n\n\nexport { HereRouter }\n",
    "static": true,
    "longname": "/src/src/here/router.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 233,
    "kind": "variable",
    "name": "REQ_MODES",
    "memberof": "src/here/router.js",
    "static": true,
    "longname": "src/here/router.js~REQ_MODES",
    "access": "public",
    "export": false,
    "importPath": "@proddi/map-components/src/here/router.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 114,
    "undocument": true,
    "type": {
      "types": [
        "{\"walk\": string, \"car\": string, \"transit\": string, \"bike\": string}"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 234,
    "kind": "function",
    "name": "buildTransport",
    "memberof": "src/here/router.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/here/router.js~buildTransport",
    "access": "public",
    "export": false,
    "importPath": "@proddi/map-components/src/here/router.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 122,
    "undocument": true,
    "params": [
      {
        "name": "leg",
        "types": [
          "*"
        ]
      },
      {
        "name": "line",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 235,
    "kind": "variable",
    "name": "ROUTER_MODES",
    "memberof": "src/here/router.js",
    "static": true,
    "longname": "src/here/router.js~ROUTER_MODES",
    "access": "public",
    "export": false,
    "importPath": "@proddi/map-components/src/here/router.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 133,
    "undocument": true,
    "type": {
      "types": [
        "{\"railMetro\": string, \"railMetroRegional\": string, \"PrivateTransportManeuverType\": string, \"PublicTransportManeuverType\": string}"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 236,
    "kind": "function",
    "name": "buildLocation",
    "memberof": "src/here/router.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/here/router.js~buildLocation",
    "access": "public",
    "export": false,
    "importPath": "@proddi/map-components/src/here/router.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 141,
    "undocument": true,
    "params": [
      {
        "name": "leg",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 237,
    "kind": "class",
    "name": "HereRouter",
    "memberof": "src/here/router.js",
    "static": true,
    "longname": "src/here/router.js~HereRouter",
    "access": "public",
    "export": true,
    "importPath": "@proddi/map-components/src/here/router.js",
    "importStyle": "{HereRouter}",
    "description": "Provides an router element for generic HERE routing. It can be referenced in map components.",
    "examples": [
      "<here-router id=\"here-router\"\n    platform=\"#platform\"\n    start=\"13.30,52.43\"\n    dest=\"13.76,52.51\"\n    time=\"2018-12-22T19:17:07\">\n</here-router>"
    ],
    "see": [
      "https://developer.here.com/documentation/routing/topics/resource-calculate-route.html"
    ],
    "lineNumber": 18,
    "interface": false,
    "extends": [
      "src/generics.js~BaseRouter"
    ]
  },
  {
    "__docId__": 238,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/here/router.js~HereRouter",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/here/router.js~HereRouter#constructor",
    "access": "public",
    "description": "create instance",
    "lineNumber": 22
  },
  {
    "__docId__": 239,
    "kind": "member",
    "name": "type",
    "memberof": "src/here/router.js~HereRouter",
    "static": false,
    "longname": "src/here/router.js~HereRouter#type",
    "access": "public",
    "description": "Returns \"here\" for this router.",
    "lineNumber": 28,
    "type": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 240,
    "kind": "method",
    "name": "connectedCallback",
    "memberof": "src/here/router.js~HereRouter",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/here/router.js~HereRouter#connectedCallback",
    "access": "public",
    "description": null,
    "lineNumber": 31,
    "undocument": true,
    "params": [],
    "return": null
  },
  {
    "__docId__": 241,
    "kind": "member",
    "name": "platform",
    "memberof": "src/here/router.js~HereRouter",
    "static": false,
    "longname": "src/here/router.js~HereRouter#platform",
    "access": "public",
    "description": null,
    "lineNumber": 32,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 242,
    "kind": "member",
    "name": "app_id",
    "memberof": "src/here/router.js~HereRouter",
    "static": false,
    "longname": "src/here/router.js~HereRouter#app_id",
    "access": "public",
    "description": null,
    "lineNumber": 33,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 243,
    "kind": "member",
    "name": "app_code",
    "memberof": "src/here/router.js~HereRouter",
    "static": false,
    "longname": "src/here/router.js~HereRouter#app_code",
    "access": "public",
    "description": null,
    "lineNumber": 34,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 244,
    "kind": "method",
    "name": "buildRequest",
    "memberof": "src/here/router.js~HereRouter",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/here/router.js~HereRouter#buildRequest",
    "access": "public",
    "description": "returns a Request object",
    "lineNumber": 42,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Request}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Request"
      ],
      "spread": false,
      "description": ""
    },
    "params": [
      {
        "name": "start",
        "types": [
          "*"
        ]
      },
      {
        "name": "dest",
        "types": [
          "*"
        ]
      },
      {
        "name": "time",
        "optional": true,
        "types": [
          "*"
        ],
        "defaultRaw": "undefined",
        "defaultValue": "undefined"
      }
    ]
  },
  {
    "__docId__": 245,
    "kind": "method",
    "name": "route",
    "memberof": "src/here/router.js~HereRouter",
    "generator": false,
    "async": true,
    "static": false,
    "longname": "src/here/router.js~HereRouter#route",
    "access": "public",
    "description": "Perform a route request.",
    "lineNumber": 54,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Response, Error>} - route response"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Request"
        ],
        "spread": false,
        "optional": false,
        "name": "request",
        "description": "route request."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Response, Error>"
      ],
      "spread": false,
      "description": "route response"
    }
  },
  {
    "__docId__": 246,
    "kind": "file",
    "name": "src/here/transit-router.js",
    "content": "import {BaseRouter, Request, Response, Route, Leg, Transport, Address, Stop, parseString, findRootElement, buildURI, createUID} from '../generics.js';\nimport {HerePlatform} from './platform.js';\n\n\n/**\n * Router element to perform transit routing. Results can be displayed at a Map (e.g. {@link HereMap})\n *\n * Requires `platform` or `_app_id_`+`app_code` attributes.\n *\n * @example\n * <here-transit-router\n *     platform=\"...\"                 # requires platform\n *     app-id=\"...\" app_code=\"...\"    #     -or- app-id + appcode\n *     start=\"lat,lng\"\n *     dest=\"lat,lng\"\n *     time=\"2019-01-12T14:30:00\">\n * </here-transit-router>\n *\n * @see https://developer.here.com/documentation/transit/\n */\nclass HereTransitRouter extends BaseRouter {\n    constructor() {\n        super();\n        /**\n         * Returns \"here\" for this router.\n         * @const\n         * @type {string}\n         */\n        this.type   = \"here-transit\";\n        /** @type {string} */\n        this.server = this.getAttribute(\"server\") || \"https://transit.api.here.com\";\n    }\n\n    buildRequest(start, dest, time=undefined) {\n        let platform = findRootElement(this, this.getAttribute(\"platform\"), HerePlatform, null);\n\n        let url = buildURI(`${this.server}/v3/route.json`, {\n                dep:        `${start.lat},${start.lng}`,\n                arr:        `${dest.lat},${dest.lng}`,\n                time:       time,\n                client:     \"webcomponents\",\n                graph:      1,\n                modes:      this.getAttribute(\"modes\"),\n                max:        this.getAttribute(\"max\"),\n                app_id:     platform ? platform.app_id : parseString(this.getAttribute(\"app-id\"), window),\n                app_code:   platform ? platform.app_code : parseString(this.getAttribute(\"app-code\"), window),\n            });\n\n        return new Request(this, start, dest, time, {url:url});\n    }\n\n    /**\n     * Perform a route request.\n     * @async\n     * @param {Request} request - route request.\n     * @returns {Promise<Response, Error>} - route response\n     */\n    async route(request) {\n        return fetch(request.url).then(res => res.json()).then(res => {\n                if (res.Res.Message) {\n                    throw res.Res.Message.text;\n                }\n                let routes = res.Res.Connections.Connection.map((conn) => {\n                    let departure = buildLocation(conn.Dep);\n                    let arrival = buildLocation(conn.Arr);\n                    let legs = conn.Sections.Sec.map(sec => {\n                        let departure = buildLocation(sec.Dep);\n                        let arrival = buildLocation(sec.Arr);\n                        let transport = buildTransport(sec.Dep.Transport);\n                        let geometry = sec.graph ? sec.graph.split(\" \").map(coord => coord.split(\",\").map(parseFloat)) : [];\n                        let steps = (sec.Journey.Stop || []).map(e => buildLocation(e, {time:\"dep\"}));\n                        return new Leg(departure, arrival, transport, geometry, {\n                                id:       createUID(\"g-leg-{uid}\"),\n                                distance: sec.Journey.distance,\n                                summary:  `Go to ${arrival.name}`,\n                                steps:    steps,\n                            });\n                    });\n                    return new Route(createUID(\"h-t-route-{uid}-{salt}\", conn.id), this, departure, arrival, legs);\n                });\n                return new Response(request, ...routes);\n            }).catch(error => new Response(request).setError(error));\n    }\n\n}\n\n\nfunction buildTransport(transport) {\n    let t = Object.assign({}, transport.At || {}, transport);\n    return new Transport({\n            type:       ROUTER_MODES[t.mode] || t.mode,\n            name:       t.name || \"walk\",\n            color:      t.color,\n            headsign:   t.dir,\n        });\n}\n\n\nconst ROUTER_MODES = {\n    0:  \"highspeed_train\",\n    3:  \"train\",\n    4:  \"metro\",\n    5:  \"bus\",\n    7:  \"subway\",\n    8:  \"tram\",\n    12: \"bus_rapid\",\n    20: \"walk\",\n}\n\n\nfunction buildLocation(loc, {time=\"time\"}={}) {\n    let stn = loc.Stn,\n        addr = loc.Addr;\n\n    if (stn) return new Stop({\n            lat:  stn.y,\n            lng:  stn.x,\n            name: stn.name,\n            type: \"stop\",\n            time: new Date(loc.time || loc.arr || loc.dep),\n            id:   stn.id,\n        });\n\n    return new Address({\n            lat:  addr.y,\n            lng:  addr.x,\n            type: \"address\",\n            time: new Date(loc.time || loc.arr || loc.dep),\n        });\n}\n\n\ncustomElements.define(\"here-transit-router\", HereTransitRouter);\n\n\nexport { HereTransitRouter }\n",
    "static": true,
    "longname": "/src/src/here/transit-router.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 247,
    "kind": "function",
    "name": "buildTransport",
    "memberof": "src/here/transit-router.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/here/transit-router.js~buildTransport",
    "access": "public",
    "export": false,
    "importPath": "@proddi/map-components/src/here/transit-router.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 88,
    "undocument": true,
    "params": [
      {
        "name": "transport",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 248,
    "kind": "variable",
    "name": "ROUTER_MODES",
    "memberof": "src/here/transit-router.js",
    "static": true,
    "longname": "src/here/transit-router.js~ROUTER_MODES",
    "access": "public",
    "export": false,
    "importPath": "@proddi/map-components/src/here/transit-router.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 99,
    "undocument": true,
    "type": {
      "types": [
        "{\"0\": string, \"3\": string, \"4\": string, \"5\": string, \"7\": string, \"8\": string, \"12\": string, \"20\": string}"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 249,
    "kind": "function",
    "name": "buildLocation",
    "memberof": "src/here/transit-router.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/here/transit-router.js~buildLocation",
    "access": "public",
    "export": false,
    "importPath": "@proddi/map-components/src/here/transit-router.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 111,
    "undocument": true,
    "params": [
      {
        "name": "loc",
        "types": [
          "*"
        ]
      },
      {
        "name": "objectPattern1",
        "optional": true,
        "types": [
          "{\"time\": *}"
        ],
        "defaultRaw": {},
        "defaultValue": "{}"
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 250,
    "kind": "class",
    "name": "HereTransitRouter",
    "memberof": "src/here/transit-router.js",
    "static": true,
    "longname": "src/here/transit-router.js~HereTransitRouter",
    "access": "public",
    "export": true,
    "importPath": "@proddi/map-components/src/here/transit-router.js",
    "importStyle": "{HereTransitRouter}",
    "description": "Router element to perform transit routing. Results can be displayed at a Map (e.g. {@link HereMap})\n\nRequires `platform` or `_app_id_`+`app_code` attributes.",
    "examples": [
      "<here-transit-router\n    platform=\"...\"                 # requires platform\n    app-id=\"...\" app_code=\"...\"    #     -or- app-id + appcode\n    start=\"lat,lng\"\n    dest=\"lat,lng\"\n    time=\"2019-01-12T14:30:00\">\n</here-transit-router>"
    ],
    "see": [
      "https://developer.here.com/documentation/transit/"
    ],
    "lineNumber": 21,
    "interface": false,
    "extends": [
      "src/generics.js~BaseRouter"
    ]
  },
  {
    "__docId__": 251,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/here/transit-router.js~HereTransitRouter",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/here/transit-router.js~HereTransitRouter#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 22,
    "undocument": true
  },
  {
    "__docId__": 252,
    "kind": "member",
    "name": "type",
    "memberof": "src/here/transit-router.js~HereTransitRouter",
    "static": false,
    "longname": "src/here/transit-router.js~HereTransitRouter#type",
    "access": "public",
    "description": "Returns \"here\" for this router.",
    "lineNumber": 29,
    "unknown": [
      {
        "tagName": "@const",
        "tagValue": ""
      }
    ],
    "type": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 253,
    "kind": "member",
    "name": "server",
    "memberof": "src/here/transit-router.js~HereTransitRouter",
    "static": false,
    "longname": "src/here/transit-router.js~HereTransitRouter#server",
    "access": "public",
    "description": null,
    "lineNumber": 31,
    "type": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 254,
    "kind": "method",
    "name": "buildRequest",
    "memberof": "src/here/transit-router.js~HereTransitRouter",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/here/transit-router.js~HereTransitRouter#buildRequest",
    "access": "public",
    "description": null,
    "lineNumber": 34,
    "undocument": true,
    "params": [
      {
        "name": "start",
        "types": [
          "*"
        ]
      },
      {
        "name": "dest",
        "types": [
          "*"
        ]
      },
      {
        "name": "time",
        "optional": true,
        "types": [
          "*"
        ],
        "defaultRaw": "undefined",
        "defaultValue": "undefined"
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 255,
    "kind": "method",
    "name": "route",
    "memberof": "src/here/transit-router.js~HereTransitRouter",
    "generator": false,
    "async": true,
    "static": false,
    "longname": "src/here/transit-router.js~HereTransitRouter#route",
    "access": "public",
    "description": "Perform a route request.",
    "lineNumber": 58,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Response, Error>} - route response"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Request"
        ],
        "spread": false,
        "optional": false,
        "name": "request",
        "description": "route request."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Response, Error>"
      ],
      "spread": false,
      "description": "route response"
    }
  },
  {
    "__docId__": 256,
    "kind": "file",
    "name": "src/index.js",
    "content": "import {BaseRouter} from './generics.js';\nimport {HereMap} from './here/map.js';\nimport {HerePlatform} from './here/platform.js';\nexport {\n    BaseRouter,\n    HereMap,\n    HerePlatform\n}\n",
    "static": true,
    "longname": "/src/src/index.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 257,
    "kind": "file",
    "name": "src/mapbox/_tools.js",
    "content": "import {loadScript, loadStyle} from '../generics.js';\n\n\n// singleton: load mapbox javascript resources\nlet _resources = {};\n/**\n * Load mapbox resources\n * @param {string} token - mapbox access token\n * @return {Promise<{L:L}>}\n */\n\nfunction loadResources(token) {\n    if (_resources[token]) return _resources[token];\n\n    return _resources[token] = Promise.all([\n        loadScript(\"https://api.mapbox.com/mapbox.js/v3.1.1/mapbox.js\"),\n        loadStyle(\"https://api.mapbox.com/mapbox.js/v3.1.1/mapbox.css\")\n    ]).then(_ => {\n        L.mapbox.accessToken = token;\n        return {L:L};\n    });\n}\n\n\n// singleton: load mapbox javascript resources\nlet _resources3d = {}\n/**\n * Load mapboxgl resources\n * @param {string} token - mapbox access token\n * @return {Promise<{L:L, mapboxgl:mapboxgl}>}\n */\nfunction loadResources3d(token) {\n    if (_resources3d[token]) return _resources3d[token];\n\n    return _resources3d[token] = Promise.all([\n        loadResources(token),\n        loadScript(\"https://api.tiles.mapbox.com/mapbox-gl-js/v0.52.0/mapbox-gl.js\"),\n        loadStyle(\"https://api.tiles.mapbox.com/mapbox-gl-js/v0.52.0/mapbox-gl.css\")\n    ]).then(([{L},,]) => {\n        mapboxgl.accessToken = token;\n        return {L:L, mapboxgl:mapboxgl};\n    })\n}\n\n\nexport { loadResources, loadResources3d }\n",
    "static": true,
    "longname": "/src/src/mapbox/_tools.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 258,
    "kind": "variable",
    "name": "_resources",
    "memberof": "src/mapbox/_tools.js",
    "static": true,
    "longname": "src/mapbox/_tools.js~_resources",
    "access": "private",
    "export": false,
    "importPath": "@proddi/map-components/src/mapbox/_tools.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 5,
    "undocument": true,
    "type": {
      "types": [
        "{}"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 259,
    "kind": "variable",
    "name": "_resources3d",
    "memberof": "src/mapbox/_tools.js",
    "static": true,
    "longname": "src/mapbox/_tools.js~_resources3d",
    "access": "private",
    "export": false,
    "importPath": "@proddi/map-components/src/mapbox/_tools.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 26,
    "undocument": true,
    "type": {
      "types": [
        "{}"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 260,
    "kind": "function",
    "name": "loadResources",
    "memberof": "src/mapbox/_tools.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/mapbox/_tools.js~loadResources",
    "access": "public",
    "export": true,
    "importPath": "@proddi/map-components/src/mapbox/_tools.js",
    "importStyle": "{loadResources}",
    "description": "Load mapbox resources",
    "lineNumber": 12,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "token",
        "description": "mapbox access token"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<{L:L}>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 261,
    "kind": "function",
    "name": "loadResources3d",
    "memberof": "src/mapbox/_tools.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/mapbox/_tools.js~loadResources3d",
    "access": "public",
    "export": true,
    "importPath": "@proddi/map-components/src/mapbox/_tools.js",
    "importStyle": "{loadResources3d}",
    "description": "Load mapboxgl resources",
    "lineNumber": 32,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "token",
        "description": "mapbox access token"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<{L:L, mapboxgl:mapboxgl}>"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 262,
    "kind": "file",
    "name": "src/mapbox/index.js",
    "content": "import {MapboxPlatform} from './platform.js';\nimport {MapboxMap} from './map.js';\nimport {MapboxMapRoutes} from './map-routes.js';\nimport {MapboxMapRoutePicker} from './map-route-picker.js';\nimport {MapboxMap3d} from './map3d.js';\nimport {MapboxMap3dRoutes} from './map3d-routes.js';\nimport {MapboxMap3dRoutePicker} from './map3d-route-picker.js';\n\n\nexport {\n    MapboxPlatform,\n    MapboxMap,\n    MapboxMapRoutes,\n    MapboxMapRoutePicker,\n    Mapbox3dMap,\n    Mapbox3dMapRoutes,\n    Mapbox3dMapRoutePicker\n}\n",
    "static": true,
    "longname": "/src/src/mapbox/index.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 263,
    "kind": "file",
    "name": "src/mapbox/map-route-picker.js",
    "content": "import {BaseRouter, findRootElement} from '../generics.js';\nimport {MapboxMap} from './map.js';\n\n/**\n * Adds start+stop map-marker to map and bind them to the router. When markers dragged the router gets updated.\n *\n * @example\n * <here-platform app-id=\"...\" app-code=\"...\"></here-platform>\n * <router id=\"router\"></router>\n *\n * <here-map platform=\"here-platform\" center=\"13.5,52.5\" zoom=\"11\">\n *   <here-map-route-picker router=\"#router\"></here-map-route-picker>\n * </here-map>\n **/\nclass MapboxMapRoutePicker extends HTMLElement {\n    connectedCallback() {\n        let mapComp = findRootElement(this, this.getAttribute(\"map\"), MapboxMap);\n        let router  = findRootElement(this, this.getAttribute(\"router\"), BaseRouter);\n\n        mapComp.whenReady.then(({L, map}) => {\n            let startMarker = L.marker(new L.LatLng(52.5, 13.5), {\n                icon: L.mapbox.marker.icon({ 'marker-color': 'ff8888' }),\n                draggable: true\n            });\n            let destMarker = L.marker(new L.LatLng(52.5, 13.5), {\n                icon: L.mapbox.marker.icon({ 'marker-color': '8888ff' }),\n                draggable: true\n            });\n            startMarker.addTo(map);\n            destMarker.addTo(map);\n\n            function update() {\n                router.update(startMarker.getLatLng(), destMarker.getLatLng());\n            }\n\n            startMarker.on('dragend', update);\n            destMarker.on('dragend', update);\n\n\n            // Router\n            router.addEventListener(\"request\", ev => {\n                let request = ev.detail;\n                startMarker.setLatLng(request.start);\n                destMarker.setLatLng(request.dest);\n                map.fitBounds([request.start, request.dest]);\n            });\n            if (router.currentRequest) {\n                startMarker.setLatLng(router.currentRequest.start);\n                destMarker.setLatLng(router.currentRequest.dest);\n            }\n\n        });\n    }\n}\n\n\ncustomElements.define(\"mapbox-map-route-picker\", MapboxMapRoutePicker);\n\n\nexport { MapboxMapRoutePicker }\n",
    "static": true,
    "longname": "/src/src/mapbox/map-route-picker.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 264,
    "kind": "class",
    "name": "MapboxMapRoutePicker",
    "memberof": "src/mapbox/map-route-picker.js",
    "static": true,
    "longname": "src/mapbox/map-route-picker.js~MapboxMapRoutePicker",
    "access": "public",
    "export": true,
    "importPath": "@proddi/map-components/src/mapbox/map-route-picker.js",
    "importStyle": "{MapboxMapRoutePicker}",
    "description": "Adds start+stop map-marker to map and bind them to the router. When markers dragged the router gets updated.",
    "examples": [
      "<here-platform app-id=\"...\" app-code=\"...\"></here-platform>\n<router id=\"router\"></router>\n\n<here-map platform=\"here-platform\" center=\"13.5,52.5\" zoom=\"11\">\n  <here-map-route-picker router=\"#router\"></here-map-route-picker>\n</here-map>"
    ],
    "lineNumber": 15,
    "interface": false,
    "extends": [
      "HTMLElement"
    ]
  },
  {
    "__docId__": 265,
    "kind": "method",
    "name": "connectedCallback",
    "memberof": "src/mapbox/map-route-picker.js~MapboxMapRoutePicker",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/mapbox/map-route-picker.js~MapboxMapRoutePicker#connectedCallback",
    "access": "public",
    "description": null,
    "lineNumber": 16,
    "undocument": true,
    "params": [],
    "return": null
  },
  {
    "__docId__": 266,
    "kind": "file",
    "name": "src/mapbox/map-routes.js",
    "content": "import {findRootElement} from '../generics.js';\n\n\nclass MapboxMapRoutes extends HTMLElement {\n    constructor() {\n        super();\n        this._routes = {}\n    }\n\n    connectedCallback() {\n        let mapComp = findRootElement(this, this.getAttribute(\"map\"), customElements.get(\"mapbox-map\"));\n        let router = document.querySelector(this.getAttribute(\"router\"));\n        let styler = document.querySelector(this.getAttribute(\"styler\"));\n\n        mapComp.whenReady.then(({L, map}) => {\n            router.addEventListener(\"request\", (ev) => {\n                this.clearRoutes(map);\n            });\n            router.addEventListener(\"routes\", (ev) => {\n                this.addRoutes(map, ev.detail.routes);\n            });\n            if (styler) {\n                styler.addEventListener(\"styles\", (ev) => {\n                    let styles = ev.detail;\n                    for (let id in styles) {\n                        let state = styles[id].length > 0 ? styles[id][styles[id].length-1] : \"passive\";\n                        this._applyRouteStyleUi(this._routes[id], state);\n                    }\n                });\n            }\n            router.currentRoutes && this.addRoutes(map, router.currentRoutes);\n        });\n        this._router = router;\n    }\n\n    clearRoutes(map) {\n        for (let route_id in this._routes) {\n            for (let uiPair of this._routes[route_id][1]) {\n                uiPair.forEach(ui => map.removeLayer(ui));\n            }\n        }\n        this._routes = {};\n    }\n\n    addRoutes(map, routes, style=undefined) {\n        for (let route of routes) {\n            this.addRoute(map, route, style);\n        }\n    }\n\n    addRoute(map, route, styles=undefined) {\n        console.log(route);\n        let uis = route.legs.map(leg => this._buildLeg(leg));\n        for (let uipair of uis) uipair.forEach(ui => ui.addTo(map));\n        this._routes[route.uid] = [route, uis];\n    }\n\n    _buildLeg(leg) {\n        let path = [[leg.departure.lat, leg.departure.lng]].concat(leg.geometry).concat([[leg.arrival.lat, leg.arrival.lng]]);\n        let style = buildLegStyle(leg, \"passive\");\n        return [\n            L.polyline(path, cycleStyle(style, \"outline\")),\n            L.polyline(path, cycleStyle(style, \"inline\"))\n        ];\n    }\n\n//    _applyRouteStyle(route, styleName) {\n//        this._applyRouteStyleUi(this._routes[route.uid], styleName);\n//    }\n\n    _applyRouteStyleUi([route, uis], state) {\n        route.legs.forEach((leg, index) => {\n            let transport = leg.transport;\n            let [uiOutline, uiInline] = uis[index];\n            let style = buildLegStyle(leg, state);\n\n            if (state === \"passive\") {\n                uiInline.bringToBack();\n                uiOutline.bringToBack();\n            }\n\n            if (state === \"selected\") {\n                uiOutline.bringToFront();\n                uiInline.bringToFront();\n            }\n\n            uiInline.setStyle(cycleStyle(style, \"inline\"));\n//            style.front && uiInline.bringToFront();\n//            style.back && uiInline.bringToBack();\n            uiOutline.setStyle(cycleStyle(style, \"outline\"));\n//            style.front && uiOutline.bringToFront();\n//            style.back && uiOutline.bringToBack();\n        });\n    }\n}\n\n\nfunction mergeColor(color, merging, weight) {\n    if (!color.startsWith(\"#\") || !merging.startsWith(\"#\")) return color;\n\n    let _merge = [1,3,5].map(ofs => merging.slice(ofs, ofs+2))               // hex pieces\n                        .map(hex => parseInt(hex, 16));                    // to dec\n\n    return \"#\" +  [1,3,5].map(ofs => color.slice(ofs, ofs+2))               // hex pieces\n                         .map(hex => parseInt(hex, 16))                     // to dec and add delta\n                         .map((val, idx) => val+(_merge[idx]-val)*weight)        // apply limits\n                         .map(val => (\"0\" + Math.round(val).toString(16)).slice(-2))    // to hex\n                         .join(\"\");\n}\n\n\nfunction mergeWithColor(color, weight) {\n    return function(prev) {\n        if (!prev) return color;\n        return mergeColor(prev, color, weight);\n    }\n}\n\nconst TRANSPORT_STYLES = {\n    default:    {},\n    walk:       { dash: [3, 10], },\n}\n\nconst STATE_STYLES = {\n    default:    { width: 5, border: 2, },\n    passive:    { color: mergeWithColor(\"#cccccc\", .9), outline: mergeWithColor(\"#888888\", .4), width: 5, border: 2, back: true, },\n    selected:   { color: mergeWithColor(\"#cccccc\", .2), outline: mergeWithColor(\"#444444\", .4), width: 6, border: 4, front: true, },\n    highlighted:{ color: mergeWithColor(\"#cccccc\", .6), outline: mergeWithColor(\"#666666\", .4), width: 5, border: 3, front: true, },\n}\n\n\nfunction combineStyles(...styles) {\n    return styles.reduce((style, add) => {\n        let computed = {};\n        for (let key in add) {\n            let val = add[key];\n            computed[key] = val.call ? val(style[key]) : val;\n        }\n        return Object.assign({}, style, computed);\n    }, {});\n}\n\n\nfunction buildLegStyle(leg, state) {\n    let transport = leg.transport;\n    return combineStyles(\n        { color: transport.color || \"#888888\", outline: transport.color || \"#888888\", lineJoin: \"round\", },   // color layer\n        TRANSPORT_STYLES[transport.type] || TRANSPORT_STYLES.default,\n        STATE_STYLES[state] || STATE_STYLES.default,\n    );\n}\n\nfunction cycleStyle(style, cycle) {\n    if (cycle === \"outline\") {\n        return {\n            color: style.outline,\n            weight: style.width + style.border,\n            opacity: style.opacity,\n            lineJoin: style.lineJoin,\n            dashArray: style.dash,\n        };\n    } else if (cycle === \"inline\") {\n        return {\n            color: style.color,\n            weight: style.width,\n            opacity: style.opacity,\n            lineJoin: style.lineJoin,\n            dashArray: style.dash,\n        }\n    }\n    return style;\n};\n\n\ncustomElements.define(\"mapbox-map-routes\", MapboxMapRoutes);\n\n\nexport { MapboxMapRoutes }\n",
    "static": true,
    "longname": "/src/src/mapbox/map-routes.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 267,
    "kind": "function",
    "name": "mergeColor",
    "memberof": "src/mapbox/map-routes.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/mapbox/map-routes.js~mergeColor",
    "access": "public",
    "export": false,
    "importPath": "@proddi/map-components/src/mapbox/map-routes.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 98,
    "undocument": true,
    "params": [
      {
        "name": "color",
        "types": [
          "*"
        ]
      },
      {
        "name": "merging",
        "types": [
          "*"
        ]
      },
      {
        "name": "weight",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 268,
    "kind": "function",
    "name": "mergeWithColor",
    "memberof": "src/mapbox/map-routes.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/mapbox/map-routes.js~mergeWithColor",
    "access": "public",
    "export": false,
    "importPath": "@proddi/map-components/src/mapbox/map-routes.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 112,
    "undocument": true,
    "params": [
      {
        "name": "color",
        "types": [
          "*"
        ]
      },
      {
        "name": "weight",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 269,
    "kind": "variable",
    "name": "TRANSPORT_STYLES",
    "memberof": "src/mapbox/map-routes.js",
    "static": true,
    "longname": "src/mapbox/map-routes.js~TRANSPORT_STYLES",
    "access": "public",
    "export": false,
    "importPath": "@proddi/map-components/src/mapbox/map-routes.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 119,
    "undocument": true,
    "type": {
      "types": [
        "{\"default\": *, \"walk\": *}"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 270,
    "kind": "variable",
    "name": "STATE_STYLES",
    "memberof": "src/mapbox/map-routes.js",
    "static": true,
    "longname": "src/mapbox/map-routes.js~STATE_STYLES",
    "access": "public",
    "export": false,
    "importPath": "@proddi/map-components/src/mapbox/map-routes.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 124,
    "undocument": true,
    "type": {
      "types": [
        "{\"default\": *, \"passive\": *, \"selected\": *, \"highlighted\": *}"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 271,
    "kind": "function",
    "name": "combineStyles",
    "memberof": "src/mapbox/map-routes.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/mapbox/map-routes.js~combineStyles",
    "access": "public",
    "export": false,
    "importPath": "@proddi/map-components/src/mapbox/map-routes.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 132,
    "undocument": true,
    "params": [
      {
        "name": "styles",
        "types": [
          "...*"
        ],
        "spread": true
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 272,
    "kind": "function",
    "name": "buildLegStyle",
    "memberof": "src/mapbox/map-routes.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/mapbox/map-routes.js~buildLegStyle",
    "access": "public",
    "export": false,
    "importPath": "@proddi/map-components/src/mapbox/map-routes.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 144,
    "undocument": true,
    "params": [
      {
        "name": "leg",
        "types": [
          "*"
        ]
      },
      {
        "name": "state",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 273,
    "kind": "function",
    "name": "cycleStyle",
    "memberof": "src/mapbox/map-routes.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/mapbox/map-routes.js~cycleStyle",
    "access": "public",
    "export": false,
    "importPath": "@proddi/map-components/src/mapbox/map-routes.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 153,
    "undocument": true,
    "params": [
      {
        "name": "style",
        "types": [
          "*"
        ]
      },
      {
        "name": "cycle",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 274,
    "kind": "class",
    "name": "MapboxMapRoutes",
    "memberof": "src/mapbox/map-routes.js",
    "static": true,
    "longname": "src/mapbox/map-routes.js~MapboxMapRoutes",
    "access": "public",
    "export": true,
    "importPath": "@proddi/map-components/src/mapbox/map-routes.js",
    "importStyle": "{MapboxMapRoutes}",
    "description": null,
    "lineNumber": 4,
    "undocument": true,
    "interface": false,
    "extends": [
      "HTMLElement"
    ]
  },
  {
    "__docId__": 275,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/mapbox/map-routes.js~MapboxMapRoutes",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/mapbox/map-routes.js~MapboxMapRoutes#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 5,
    "undocument": true
  },
  {
    "__docId__": 276,
    "kind": "member",
    "name": "_routes",
    "memberof": "src/mapbox/map-routes.js~MapboxMapRoutes",
    "static": false,
    "longname": "src/mapbox/map-routes.js~MapboxMapRoutes#_routes",
    "access": "private",
    "description": null,
    "lineNumber": 7,
    "undocument": true,
    "type": {
      "types": [
        "{}"
      ]
    }
  },
  {
    "__docId__": 277,
    "kind": "method",
    "name": "connectedCallback",
    "memberof": "src/mapbox/map-routes.js~MapboxMapRoutes",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/mapbox/map-routes.js~MapboxMapRoutes#connectedCallback",
    "access": "public",
    "description": null,
    "lineNumber": 10,
    "undocument": true,
    "params": [],
    "return": null
  },
  {
    "__docId__": 278,
    "kind": "member",
    "name": "_router",
    "memberof": "src/mapbox/map-routes.js~MapboxMapRoutes",
    "static": false,
    "longname": "src/mapbox/map-routes.js~MapboxMapRoutes#_router",
    "access": "private",
    "description": null,
    "lineNumber": 33,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 279,
    "kind": "method",
    "name": "clearRoutes",
    "memberof": "src/mapbox/map-routes.js~MapboxMapRoutes",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/mapbox/map-routes.js~MapboxMapRoutes#clearRoutes",
    "access": "public",
    "description": null,
    "lineNumber": 36,
    "undocument": true,
    "params": [
      {
        "name": "map",
        "types": [
          "*"
        ]
      }
    ],
    "return": null
  },
  {
    "__docId__": 281,
    "kind": "method",
    "name": "addRoutes",
    "memberof": "src/mapbox/map-routes.js~MapboxMapRoutes",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/mapbox/map-routes.js~MapboxMapRoutes#addRoutes",
    "access": "public",
    "description": null,
    "lineNumber": 45,
    "undocument": true,
    "params": [
      {
        "name": "map",
        "types": [
          "*"
        ]
      },
      {
        "name": "routes",
        "types": [
          "*"
        ]
      },
      {
        "name": "style",
        "optional": true,
        "types": [
          "*"
        ],
        "defaultRaw": "undefined",
        "defaultValue": "undefined"
      }
    ],
    "return": null
  },
  {
    "__docId__": 282,
    "kind": "method",
    "name": "addRoute",
    "memberof": "src/mapbox/map-routes.js~MapboxMapRoutes",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/mapbox/map-routes.js~MapboxMapRoutes#addRoute",
    "access": "public",
    "description": null,
    "lineNumber": 51,
    "undocument": true,
    "params": [
      {
        "name": "map",
        "types": [
          "*"
        ]
      },
      {
        "name": "route",
        "types": [
          "*"
        ]
      },
      {
        "name": "styles",
        "optional": true,
        "types": [
          "*"
        ],
        "defaultRaw": "undefined",
        "defaultValue": "undefined"
      }
    ],
    "return": null
  },
  {
    "__docId__": 283,
    "kind": "method",
    "name": "_buildLeg",
    "memberof": "src/mapbox/map-routes.js~MapboxMapRoutes",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/mapbox/map-routes.js~MapboxMapRoutes#_buildLeg",
    "access": "private",
    "description": null,
    "lineNumber": 58,
    "undocument": true,
    "params": [
      {
        "name": "leg",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "undefined[]"
      ]
    }
  },
  {
    "__docId__": 284,
    "kind": "method",
    "name": "_applyRouteStyleUi",
    "memberof": "src/mapbox/map-routes.js~MapboxMapRoutes",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/mapbox/map-routes.js~MapboxMapRoutes#_applyRouteStyleUi",
    "access": "private",
    "description": null,
    "lineNumber": 71,
    "undocument": true,
    "params": [
      {
        "name": "arrayPattern",
        "types": [
          "*[]"
        ],
        "defaultRaw": [
          "null",
          "null"
        ],
        "defaultValue": "[null, null]"
      },
      {
        "name": "state",
        "types": [
          "*"
        ]
      }
    ],
    "return": null
  },
  {
    "__docId__": 285,
    "kind": "file",
    "name": "src/mapbox/map.js",
    "content": "import { parseCoordString, findRootElement} from '../generics.js';\nimport { MapboxPlatform } from './platform.js';\n\n\n/**\n * Shows HERE map. This is the base canvas for other visualisation elements.\n * It requires a {@link MapboxPlatform} component to handle credentials.\n *\n * @example\n * <mapbox-platform token=\"...\"></mapbox-platform>\n *\n * <mapbox-map platform=\"mapbox-platform\" center=\"13.5,52.5\" zoom=\"11\">\n * </mapbox-map>\n *\n * @see https://www.mapbox.com/mapbox.js/api/v3.1.1/\n **/\nclass MapboxMap extends HTMLElement {\n    constructor() {\n        super();\n        let platform = findRootElement(this, this.getAttribute(\"platform\"), MapboxPlatform);\n        let center = parseCoordString(this.getAttribute(\"center\"));\n        let zoom   = this.getAttribute(\"zoom\");\n\n        /** @type {Promise<{L: L, map:L.mapbox.map}>} */\n        this.whenReady = platform.whenReady.then(({L}) => {\n            let map = L.mapbox.map(this, 'mapbox.streets', {\n                zoomControl: false\n            }).setView(center, zoom);\n            return {L:L, map:map};\n        });\n    }\n}\n\n\n/**\n * @external {L.mapbox.map} https://www.mapbox.com/mapbox.js/api/v3.1.1/l-mapbox-map/\n */\n\n\ncustomElements.define(\"mapbox-map\", MapboxMap);\n\n\nexport { MapboxMap }\n",
    "static": true,
    "longname": "/src/src/mapbox/map.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 286,
    "kind": "external",
    "name": "L.mapbox.map",
    "externalLink": "https://www.mapbox.com/mapbox.js/api/v3.1.1/l-mapbox-map/",
    "memberof": "src/mapbox/map.js",
    "static": true,
    "longname": "src/mapbox/map.js~L.mapbox.map",
    "access": "public",
    "description": "",
    "lineNumber": 40
  },
  {
    "__docId__": 287,
    "kind": "class",
    "name": "MapboxMap",
    "memberof": "src/mapbox/map.js",
    "static": true,
    "longname": "src/mapbox/map.js~MapboxMap",
    "access": "public",
    "export": true,
    "importPath": "@proddi/map-components/src/mapbox/map.js",
    "importStyle": "{MapboxMap}",
    "description": "Shows HERE map. This is the base canvas for other visualisation elements.\nIt requires a {@link MapboxPlatform} component to handle credentials.",
    "examples": [
      "<mapbox-platform token=\"...\"></mapbox-platform>\n\n<mapbox-map platform=\"mapbox-platform\" center=\"13.5,52.5\" zoom=\"11\">\n</mapbox-map>"
    ],
    "see": [
      "https://www.mapbox.com/mapbox.js/api/v3.1.1/"
    ],
    "lineNumber": 17,
    "interface": false,
    "extends": [
      "HTMLElement"
    ]
  },
  {
    "__docId__": 288,
    "kind": "external",
    "name": "L.mapbox.map",
    "externalLink": "https://www.mapbox.com/mapbox.js/api/v3.1.1/l-mapbox-map/",
    "memberof": "src/mapbox/map.js",
    "static": true,
    "longname": "src/mapbox/map.js~L.mapbox.map",
    "access": "public",
    "description": ""
  },
  {
    "__docId__": 289,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/mapbox/map.js~MapboxMap",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/mapbox/map.js~MapboxMap#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 18,
    "undocument": true
  },
  {
    "__docId__": 290,
    "kind": "member",
    "name": "whenReady",
    "memberof": "src/mapbox/map.js~MapboxMap",
    "static": false,
    "longname": "src/mapbox/map.js~MapboxMap#whenReady",
    "access": "public",
    "description": null,
    "lineNumber": 25,
    "type": {
      "nullable": null,
      "types": [
        "Promise<{L: L, map:L.mapbox.map}>"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 291,
    "kind": "file",
    "name": "src/mapbox/map3d-route-picker.js",
    "content": "import {findRootElement} from '../generics.js';\n\n\n/**\n * Adds start+stop map-marker to map and bind them to the router. When markers dragged the router gets updated.\n *\n * @example\n * <here-platform app-id=\"...\" app-code=\"...\"></here-platform>\n * <router id=\"router\"></router>\n *\n * <here-map platform=\"here-platform\" center=\"13.5,52.5\" zoom=\"11\">\n *   <here-map-route-picker router=\"#router\"></here-map-route-picker>\n * </here-map>\n **/\nclass MapboxMap3dRoutePicker extends HTMLElement {\n    constructor() {\n        super();\n        let mapComp = findRootElement(this, this.getAttribute(\"map\"), customElements.get(\"mapbox-map3d\"));\n        let router = document.querySelector(this.getAttribute(\"router\"));\n\n        mapComp.whenReady.then(({L, map, mapboxgl}) => {\n            let startMarker = new mapboxgl.Marker({ color: \"ff8888\", draggable: true }).setLngLat([13.5, 52.5]);\n            let destMarker = new mapboxgl.Marker({ color: \"8888ff\", draggable: true }).setLngLat([13.45, 52.5]);\n            startMarker.addTo(map);\n            destMarker.addTo(map);\n\n            function update() {\n                router.update(startMarker.getLngLat(), destMarker.getLngLat());\n            }\n\n            startMarker.on('dragend', update);\n            destMarker.on('dragend', update);\n\n\n            // Router\n            router.addEventListener(\"request\", ev => {\n                let request = ev.detail;\n                startMarker.setLngLat(request.start);\n                destMarker.setLngLat(request.dest);\n            });\n            if (router.currentRequest) {\n                startMarker.setLngLat(router.currentRequest.start);\n                destMarker.setLngLat(router.currentRequest.dest);\n            }\n\n        });\n    }\n}\n\n\ncustomElements.define(\"mapbox-map3d-route-picker\", MapboxMap3dRoutePicker);\n\n\nexport { MapboxMap3dRoutePicker }\n",
    "static": true,
    "longname": "/src/src/mapbox/map3d-route-picker.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 292,
    "kind": "class",
    "name": "MapboxMap3dRoutePicker",
    "memberof": "src/mapbox/map3d-route-picker.js",
    "static": true,
    "longname": "src/mapbox/map3d-route-picker.js~MapboxMap3dRoutePicker",
    "access": "public",
    "export": true,
    "importPath": "@proddi/map-components/src/mapbox/map3d-route-picker.js",
    "importStyle": "{MapboxMap3dRoutePicker}",
    "description": "Adds start+stop map-marker to map and bind them to the router. When markers dragged the router gets updated.",
    "examples": [
      "<here-platform app-id=\"...\" app-code=\"...\"></here-platform>\n<router id=\"router\"></router>\n\n<here-map platform=\"here-platform\" center=\"13.5,52.5\" zoom=\"11\">\n  <here-map-route-picker router=\"#router\"></here-map-route-picker>\n</here-map>"
    ],
    "lineNumber": 15,
    "interface": false,
    "extends": [
      "HTMLElement"
    ]
  },
  {
    "__docId__": 293,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/mapbox/map3d-route-picker.js~MapboxMap3dRoutePicker",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/mapbox/map3d-route-picker.js~MapboxMap3dRoutePicker#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 16,
    "undocument": true
  },
  {
    "__docId__": 294,
    "kind": "file",
    "name": "src/mapbox/map3d-routes.js",
    "content": "import {findRootElement} from '../generics.js';\n\n\nfunction mergeColor(color, merging, weight) {\n    if (!color.startsWith(\"#\") || !merging.startsWith(\"#\")) return color;\n\n    let _merge = [1,3,5].map(ofs => merging.slice(ofs, ofs+2))               // hex pieces\n                        .map(hex => parseInt(hex, 16));                    // to dec\n\n    return \"#\" +  [1,3,5].map(ofs => color.slice(ofs, ofs+2))               // hex pieces\n                         .map(hex => parseInt(hex, 16))                     // to dec and add delta\n                         .map((val, idx) => val+(_merge[idx]-val)*weight)        // apply limits\n                         .map(val => (\"0\" + Math.round(val).toString(16)).slice(-2))    // to hex\n                         .join(\"\");\n}\n\nfunction adoptColor(color, delta) {\n    if (!color.startsWith(\"#\")) return color;\n    return \"#\" +  [1,3,5].map(ofs => color.slice(ofs, ofs+2))               // hex pieces\n                         .map(hex => parseInt(hex, 16) + delta)             // to dec and add delta\n                         .map(val => Math.min(255, Math.max(0, val)))       // apply limits\n                         .map(val => (\"0\" + val.toString(16)).slice(-2))    // to hex\n                         .join(\"\");\n}\n\nfunction addToColor(delta) {\n    return (color) => adoptColor(color, delta);\n}\n\nconst _ROUTE_STYLES = {\n    \"selected\": {\n        default:    [{ strokeColor: \"black\",  lineWidth: 7 }, { strokeColor: \"white\",  lineWidth: 5, x:1 }],\n//            \"walk\":     [{ strokeColor: \"black\",  lineWidth: 3, lineDash: [3, 6] }, {}],\n//            \"bus\":      [{ strokeColor: \"purple\", lineWidth: 3 }, {}],\n//            \"bus\":      [{ strokeColor: \"white\"  }, { strokeColor: \"purple\" }],   // sbahn\n//            \"metro\":    [{ strokeColor: \"#222266\" }, { strokeColor: \"#8888FF\" }],   // sbahn\n//            \"subway\":   [{ strokeColor: \"brown\",  lineWidth: 6 }, {}],   // ubahn\n//            \"train\":    [{ strokeColor: \"red\",    lineWidth: 8 }, {}],   // train\n    },\n    \"passive\": {\n        default:    [{ strokeColor: \"#888888\", lineWidth: 7 }, { strokeColor: \"#cccccc\", lineWidth: 5 }],\n        \"walk\":     [{ strokeColor: \"#888888\",  lineWidth: 7, lineDash: [3, 10] }, { strokeColor: \"#cccccc\",  lineWidth: 5, lineDash: [3, 10] }],\n        \"bus\":      [{ strokeColor: \"#804080\", lineWidth: 7 }, { strokeColor: \"#a36aa3\",   lineWidth: 5 }],\n    },\n    \"highlighed\": {\n        default:    [{ strokeColor: addToColor(-16), lineWidth: 8 }, { strokeColor: addToColor(16), l_ineWidth: 4 }],\n    },\n}\n\nconst _ROUTE_ZINDICES = {\n    \"passive\": 0,\n    \"selected\": 10,\n    \"highlighed\": 5,\n}\n\nclass MapboxMap3dRoutes extends HTMLElement {\n    constructor() {\n        super();\n        this._routeUi = {}\n        this._legId = 0;\n    }\n\n    connectedCallback() {\n        let mapComp = findRootElement(this, this.getAttribute(\"map\"), customElements.get(\"mapbox3d-map\"));\n        let router = document.querySelector(this.getAttribute(\"router\"));\n\n        mapComp.whenReady.then(({L, map, mapboxgl}) => {\n            router.addEventListener(\"request\", (ev) => {\n                this.clearRoutes(map);\n            });\n            router.addEventListener(\"routes\", (ev) => {\n                this.addRoutes(map, ev.detail.routes);\n            });\n            router.addEventListener(\"styles\", (ev) => {\n                let styles = ev.detail;\n                for (let id in styles) {\n                    this._applyRouteStyleUi(this._routeUi[id], styles[id]);\n                }\n            });\n\n            router.currentRoutes && this.addRoutes(map, router.currentRoutes);\n        });\n        this._router = router;\n    }\n\n    clearRoutes(map) {\n        for (let route_id in this._routeUi) {\n            for (let id of this._routeUi[route_id]) {\n                map.removeLayer(id);\n            }\n        }\n        this._routeUi = {};\n    }\n\n    addRoutes(map, routes, style=undefined) {\n        for (let route of routes) {\n            this.addRoute(map, route, style);\n        }\n    }\n\n    addRoute(map, route, styles=undefined) {\n//        let ui = new H.map.Group();\n        let ids = this._routeUi[route.uid] = [];\n        for (let leg of route.legs) {\n            let layer = this._buildLeg(leg);\n            ids.push(layer.id);\n            map.addLayer(layer);\n        }\n//        this._routeUi[route.uid] = ui;\n//        this._applyRouteStyleUi(ui, styles);\n//        map.addObject(ui);\n    }\n\n    _buildLeg(leg) {\n        let path = [[leg.departure.lng, leg.departure.lat]].concat(leg.geometry.map(coord => coord.reverse())).concat([[leg.arrival.lng, leg.arrival.lat]]);\n\n        return {\n            \"id\": \"route-\"+(this._legId++),\n            \"type\": \"line\",\n            \"source\": {\n                \"type\": \"geojson\",\n                \"data\": {\n                    \"type\": \"Feature\",\n                    \"properties\": {},\n                    \"geometry\": {\n                        \"type\": \"LineString\",\n                        \"coordinates\": path,\n                    }\n                }\n            },\n            \"layout\": {\n                \"line-join\": \"round\",\n                \"line-cap\": \"round\"\n            },\n            \"paint\": {\n                \"line-color\": leg.transport.color || \"#000\",\n                \"line-width\": 6,\n            }\n        };\n    }\n\n    _applyRouteStyle(route, styleName) {\n        this._applyRouteStyleUi(this._routeUi[route.uid], styleName);\n    }\n\n    _applyRouteStyleUi(uiRoot, styleNames) {\n        styleNames = [\"passive\"].concat(styleNames || []);\n        let zIndex = styleNames.map(name => _ROUTE_ZINDICES[name]).reduce((prev, val) => Math.max(prev, val), 0);\n        uiRoot.setZIndex(zIndex);\n        uiRoot.getObjects().forEach((ui, index) => {\n            index = index % 2;\n            let leg = ui.getData();\n            let type = leg.transport.type;\n            let style = this._combineStyles(\n                styleNames.map(\n                    setName => _ROUTE_STYLES[setName][type] || _ROUTE_STYLES[setName].default\n                ).map(pair => pair[index])\n            );\n            if (style.x && leg.transport.color) style.strokeColor = leg.transport.color;\n            ui.setStyle(style);\n        });\n    }\n\n    _combineStyles(styles) {\n        let result = {};\n        for (let style of styles) {\n            for (let key in style) {\n                let value = style[key];\n                result[key] = value.call ? style[key](result[key]) : value;\n            }\n        }\n        return result;\n    }\n\n}\n\n\ncustomElements.define(\"mapbox-map3d-routes\", MapboxMap3dRoutes);\n\n\nexport { MapboxMap3dRoutes }\n",
    "static": true,
    "longname": "/src/src/mapbox/map3d-routes.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 295,
    "kind": "function",
    "name": "mergeColor",
    "memberof": "src/mapbox/map3d-routes.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/mapbox/map3d-routes.js~mergeColor",
    "access": "public",
    "export": false,
    "importPath": "@proddi/map-components/src/mapbox/map3d-routes.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 4,
    "undocument": true,
    "params": [
      {
        "name": "color",
        "types": [
          "*"
        ]
      },
      {
        "name": "merging",
        "types": [
          "*"
        ]
      },
      {
        "name": "weight",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 296,
    "kind": "function",
    "name": "adoptColor",
    "memberof": "src/mapbox/map3d-routes.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/mapbox/map3d-routes.js~adoptColor",
    "access": "public",
    "export": false,
    "importPath": "@proddi/map-components/src/mapbox/map3d-routes.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 17,
    "undocument": true,
    "params": [
      {
        "name": "color",
        "types": [
          "*"
        ]
      },
      {
        "name": "delta",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 297,
    "kind": "function",
    "name": "addToColor",
    "memberof": "src/mapbox/map3d-routes.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/mapbox/map3d-routes.js~addToColor",
    "access": "public",
    "export": false,
    "importPath": "@proddi/map-components/src/mapbox/map3d-routes.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 26,
    "undocument": true,
    "params": [
      {
        "name": "delta",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 298,
    "kind": "variable",
    "name": "_ROUTE_STYLES",
    "memberof": "src/mapbox/map3d-routes.js",
    "static": true,
    "longname": "src/mapbox/map3d-routes.js~_ROUTE_STYLES",
    "access": "private",
    "export": false,
    "importPath": "@proddi/map-components/src/mapbox/map3d-routes.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 30,
    "undocument": true,
    "type": {
      "types": [
        "{\"selected\": *, \"passive\": *, \"highlighed\": *}"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 299,
    "kind": "variable",
    "name": "_ROUTE_ZINDICES",
    "memberof": "src/mapbox/map3d-routes.js",
    "static": true,
    "longname": "src/mapbox/map3d-routes.js~_ROUTE_ZINDICES",
    "access": "private",
    "export": false,
    "importPath": "@proddi/map-components/src/mapbox/map3d-routes.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 50,
    "undocument": true,
    "type": {
      "types": [
        "{\"passive\": *, \"selected\": number, \"highlighed\": number}"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 300,
    "kind": "class",
    "name": "MapboxMap3dRoutes",
    "memberof": "src/mapbox/map3d-routes.js",
    "static": true,
    "longname": "src/mapbox/map3d-routes.js~MapboxMap3dRoutes",
    "access": "public",
    "export": true,
    "importPath": "@proddi/map-components/src/mapbox/map3d-routes.js",
    "importStyle": "{MapboxMap3dRoutes}",
    "description": null,
    "lineNumber": 56,
    "undocument": true,
    "interface": false,
    "extends": [
      "HTMLElement"
    ]
  },
  {
    "__docId__": 301,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/mapbox/map3d-routes.js~MapboxMap3dRoutes",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/mapbox/map3d-routes.js~MapboxMap3dRoutes#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 57,
    "undocument": true
  },
  {
    "__docId__": 302,
    "kind": "member",
    "name": "_routeUi",
    "memberof": "src/mapbox/map3d-routes.js~MapboxMap3dRoutes",
    "static": false,
    "longname": "src/mapbox/map3d-routes.js~MapboxMap3dRoutes#_routeUi",
    "access": "private",
    "description": null,
    "lineNumber": 59,
    "undocument": true,
    "type": {
      "types": [
        "{}"
      ]
    }
  },
  {
    "__docId__": 303,
    "kind": "member",
    "name": "_legId",
    "memberof": "src/mapbox/map3d-routes.js~MapboxMap3dRoutes",
    "static": false,
    "longname": "src/mapbox/map3d-routes.js~MapboxMap3dRoutes#_legId",
    "access": "private",
    "description": null,
    "lineNumber": 60,
    "undocument": true,
    "type": {
      "types": [
        "number"
      ]
    }
  },
  {
    "__docId__": 304,
    "kind": "method",
    "name": "connectedCallback",
    "memberof": "src/mapbox/map3d-routes.js~MapboxMap3dRoutes",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/mapbox/map3d-routes.js~MapboxMap3dRoutes#connectedCallback",
    "access": "public",
    "description": null,
    "lineNumber": 63,
    "undocument": true,
    "params": [],
    "return": null
  },
  {
    "__docId__": 305,
    "kind": "member",
    "name": "_router",
    "memberof": "src/mapbox/map3d-routes.js~MapboxMap3dRoutes",
    "static": false,
    "longname": "src/mapbox/map3d-routes.js~MapboxMap3dRoutes#_router",
    "access": "private",
    "description": null,
    "lineNumber": 83,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 306,
    "kind": "method",
    "name": "clearRoutes",
    "memberof": "src/mapbox/map3d-routes.js~MapboxMap3dRoutes",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/mapbox/map3d-routes.js~MapboxMap3dRoutes#clearRoutes",
    "access": "public",
    "description": null,
    "lineNumber": 86,
    "undocument": true,
    "params": [
      {
        "name": "map",
        "types": [
          "*"
        ]
      }
    ],
    "return": null
  },
  {
    "__docId__": 308,
    "kind": "method",
    "name": "addRoutes",
    "memberof": "src/mapbox/map3d-routes.js~MapboxMap3dRoutes",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/mapbox/map3d-routes.js~MapboxMap3dRoutes#addRoutes",
    "access": "public",
    "description": null,
    "lineNumber": 95,
    "undocument": true,
    "params": [
      {
        "name": "map",
        "types": [
          "*"
        ]
      },
      {
        "name": "routes",
        "types": [
          "*"
        ]
      },
      {
        "name": "style",
        "optional": true,
        "types": [
          "*"
        ],
        "defaultRaw": "undefined",
        "defaultValue": "undefined"
      }
    ],
    "return": null
  },
  {
    "__docId__": 309,
    "kind": "method",
    "name": "addRoute",
    "memberof": "src/mapbox/map3d-routes.js~MapboxMap3dRoutes",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/mapbox/map3d-routes.js~MapboxMap3dRoutes#addRoute",
    "access": "public",
    "description": null,
    "lineNumber": 101,
    "undocument": true,
    "params": [
      {
        "name": "map",
        "types": [
          "*"
        ]
      },
      {
        "name": "route",
        "types": [
          "*"
        ]
      },
      {
        "name": "styles",
        "optional": true,
        "types": [
          "*"
        ],
        "defaultRaw": "undefined",
        "defaultValue": "undefined"
      }
    ],
    "return": null
  },
  {
    "__docId__": 310,
    "kind": "method",
    "name": "_buildLeg",
    "memberof": "src/mapbox/map3d-routes.js~MapboxMap3dRoutes",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/mapbox/map3d-routes.js~MapboxMap3dRoutes#_buildLeg",
    "access": "private",
    "description": null,
    "lineNumber": 114,
    "undocument": true,
    "params": [
      {
        "name": "leg",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "{\"id\": *, \"type\": string, \"source\": *, \"layout\": *, \"paint\": *}"
      ]
    }
  },
  {
    "__docId__": 311,
    "kind": "method",
    "name": "_applyRouteStyle",
    "memberof": "src/mapbox/map3d-routes.js~MapboxMap3dRoutes",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/mapbox/map3d-routes.js~MapboxMap3dRoutes#_applyRouteStyle",
    "access": "private",
    "description": null,
    "lineNumber": 142,
    "undocument": true,
    "params": [
      {
        "name": "route",
        "types": [
          "*"
        ]
      },
      {
        "name": "styleName",
        "types": [
          "*"
        ]
      }
    ],
    "return": null
  },
  {
    "__docId__": 312,
    "kind": "method",
    "name": "_applyRouteStyleUi",
    "memberof": "src/mapbox/map3d-routes.js~MapboxMap3dRoutes",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/mapbox/map3d-routes.js~MapboxMap3dRoutes#_applyRouteStyleUi",
    "access": "private",
    "description": null,
    "lineNumber": 146,
    "undocument": true,
    "params": [
      {
        "name": "uiRoot",
        "types": [
          "*"
        ]
      },
      {
        "name": "styleNames",
        "types": [
          "*"
        ]
      }
    ],
    "return": null
  },
  {
    "__docId__": 313,
    "kind": "method",
    "name": "_combineStyles",
    "memberof": "src/mapbox/map3d-routes.js~MapboxMap3dRoutes",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/mapbox/map3d-routes.js~MapboxMap3dRoutes#_combineStyles",
    "access": "private",
    "description": null,
    "lineNumber": 164,
    "undocument": true,
    "params": [
      {
        "name": "styles",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 314,
    "kind": "file",
    "name": "src/mapbox/map3d.js",
    "content": "import {parseCoordString, parseString, loadScript, loadStyle} from '../generics.js';\nimport {loadResources3d} from './_tools.js'\n\n\n/**\n * Shows HERE map. This is the base canvas for other visualisation elements.\n * It requires a {@link MapboxPlatform} component to handle credentials.\n *\n * @example\n * <mapbox-platform token=\"...\"></mapbox-platform>\n *\n * <mapbox-map3d platform=\"mapbox-platform\" center=\"13.5,52.5\" zoom=\"11\">\n * </mapbox-map3d>\n *\n * @see https://developer.here.com/documentation/maps/\n **/\nclass MapboxMap3d extends HTMLElement {\n    constructor() {\n        super();\n        let platform = document.querySelector(this.getAttribute(\"platform\"));\n        let center = parseCoordString(this.getAttribute(\"center\"));\n        let zoom   = this.getAttribute(\"zoom\");\n\n        /** @type {Promise<{L:L, mapboxgl:mapboxgl, map:mapboxgl.Map}>} */\n        this.whenReady = loadResources3d(parseString(this.getAttribute(\"token\"), window)).then(({L, mapboxgl}) => {\n            let map = new mapboxgl.Map({\n                style: 'mapbox://styles/mapbox/streets-v10',\n                center: center,\n                zoom: zoom,\n                pitch: 45,\n                bearing: -17.6,\n                container: this,\n            });\n            return new Promise((resolve, reject) => {\n                map.on('load', function () {\n                    resolve({L:L, mapboxgl:mapboxgl, map:map});\n                });\n            });\n        });\n    }\n}\n\n\n/**\n * @external {mapboxgl.Map} https://www.mapbox.com/mapbox-gl-js/api/#map\n */\n\n/**\n * @external {mapboxgl} https://www.mapbox.com/mapbox-gl-js/api/\n */\n\n\ncustomElements.define(\"mapbox-map3d\", MapboxMap3d);\n\n\nexport { MapboxMap3d }\n",
    "static": true,
    "longname": "/src/src/mapbox/map3d.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 315,
    "kind": "external",
    "name": "mapboxgl.Map",
    "externalLink": "https://www.mapbox.com/mapbox-gl-js/api/#map",
    "memberof": "src/mapbox/map3d.js",
    "static": true,
    "longname": "src/mapbox/map3d.js~mapboxgl.Map",
    "access": "public",
    "description": ""
  },
  {
    "__docId__": 316,
    "kind": "external",
    "name": "mapboxgl",
    "externalLink": "https://www.mapbox.com/mapbox-gl-js/api/",
    "memberof": "src/mapbox/map3d.js",
    "static": true,
    "longname": "src/mapbox/map3d.js~mapboxgl",
    "access": "public",
    "description": "",
    "lineNumber": 53
  },
  {
    "__docId__": 317,
    "kind": "class",
    "name": "MapboxMap3d",
    "memberof": "src/mapbox/map3d.js",
    "static": true,
    "longname": "src/mapbox/map3d.js~MapboxMap3d",
    "access": "public",
    "export": true,
    "importPath": "@proddi/map-components/src/mapbox/map3d.js",
    "importStyle": "{MapboxMap3d}",
    "description": "Shows HERE map. This is the base canvas for other visualisation elements.\nIt requires a {@link MapboxPlatform} component to handle credentials.",
    "examples": [
      "<mapbox-platform token=\"...\"></mapbox-platform>\n\n<mapbox-map3d platform=\"mapbox-platform\" center=\"13.5,52.5\" zoom=\"11\">\n</mapbox-map3d>"
    ],
    "see": [
      "https://developer.here.com/documentation/maps/"
    ],
    "lineNumber": 17,
    "interface": false,
    "extends": [
      "HTMLElement"
    ]
  },
  {
    "__docId__": 318,
    "kind": "external",
    "name": "mapboxgl.Map",
    "externalLink": "https://www.mapbox.com/mapbox-gl-js/api/#map",
    "memberof": "src/mapbox/map3d.js",
    "static": true,
    "longname": "src/mapbox/map3d.js~mapboxgl.Map",
    "access": "public",
    "description": ""
  },
  {
    "__docId__": 319,
    "kind": "external",
    "name": "mapboxgl",
    "externalLink": "https://www.mapbox.com/mapbox-gl-js/api/",
    "memberof": "src/mapbox/map3d.js",
    "static": true,
    "longname": "src/mapbox/map3d.js~mapboxgl",
    "access": "public",
    "description": ""
  },
  {
    "__docId__": 320,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/mapbox/map3d.js~MapboxMap3d",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/mapbox/map3d.js~MapboxMap3d#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 18,
    "undocument": true
  },
  {
    "__docId__": 321,
    "kind": "member",
    "name": "whenReady",
    "memberof": "src/mapbox/map3d.js~MapboxMap3d",
    "static": false,
    "longname": "src/mapbox/map3d.js~MapboxMap3d#whenReady",
    "access": "public",
    "description": null,
    "lineNumber": 25,
    "type": {
      "nullable": null,
      "types": [
        "Promise<{L:L, mapboxgl:mapboxgl, map:mapboxgl.Map}>"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 322,
    "kind": "file",
    "name": "src/mapbox/platform.js",
    "content": "import {loadScript, loadStyle, parseString} from '../generics.js';\n\n\n// singleton: load mapbox javascript resources\nconst resources = Promise.all([\n    loadScript(\"https://api.mapbox.com/mapbox.js/v3.1.1/mapbox.js\"),\n    loadStyle(\"https://api.mapbox.com/mapbox.js/v3.1.1/mapbox.css\")\n]);\n\n/**\n * The platform element is required to handle credentials for HERE services.\n *\n * @example\n * <here-platform app-id=\"...\" app-code=\"...\"></here-platform>\n *\n * <here-map platform=\"here-platform\" center=\"13.5,52.5\" zoom=\"11\">\n * </here-map>\n *\n * @see https://developer.here.com/documentation/maps/\n **/\nclass MapboxPlatform extends HTMLElement {\n    constructor() {\n        super();\n\n        /** @type {Promise<{platform:H.service.Platform, maptypes:object}>} */\n//        this.whenReady = loadResources(parseString(this.getAttribute(\"token\"), window));\n\n        this.whenReady = resources.then(_ => {\n                L.mapbox.accessToken = parseString(this.getAttribute(\"token\"), window);\n                return {L:L};\n            });\n    }\n}\n\n\n/**\n * @external {L} https://www.mapbox.com/mapbox.js/api/v3.1.1/\n */\n\n\ncustomElements.define(\"mapbox-platform\", MapboxPlatform);\n\n\nexport { MapboxPlatform }\n",
    "static": true,
    "longname": "/src/src/mapbox/platform.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 323,
    "kind": "variable",
    "name": "resources",
    "memberof": "src/mapbox/platform.js",
    "static": true,
    "longname": "src/mapbox/platform.js~resources",
    "access": "public",
    "export": false,
    "importPath": "@proddi/map-components/src/mapbox/platform.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 5,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 324,
    "kind": "external",
    "name": "L",
    "externalLink": "https://www.mapbox.com/mapbox.js/api/v3.1.1/",
    "memberof": "src/mapbox/platform.js",
    "static": true,
    "longname": "src/mapbox/platform.js~L",
    "access": "public",
    "description": "",
    "lineNumber": 41
  },
  {
    "__docId__": 325,
    "kind": "class",
    "name": "MapboxPlatform",
    "memberof": "src/mapbox/platform.js",
    "static": true,
    "longname": "src/mapbox/platform.js~MapboxPlatform",
    "access": "public",
    "export": true,
    "importPath": "@proddi/map-components/src/mapbox/platform.js",
    "importStyle": "{MapboxPlatform}",
    "description": "The platform element is required to handle credentials for HERE services.",
    "examples": [
      "<here-platform app-id=\"...\" app-code=\"...\"></here-platform>\n\n<here-map platform=\"here-platform\" center=\"13.5,52.5\" zoom=\"11\">\n</here-map>"
    ],
    "see": [
      "https://developer.here.com/documentation/maps/"
    ],
    "lineNumber": 21,
    "interface": false,
    "extends": [
      "HTMLElement"
    ]
  },
  {
    "__docId__": 326,
    "kind": "external",
    "name": "L",
    "externalLink": "https://www.mapbox.com/mapbox.js/api/v3.1.1/",
    "memberof": "src/mapbox/platform.js",
    "static": true,
    "longname": "src/mapbox/platform.js~L",
    "access": "public",
    "description": ""
  },
  {
    "__docId__": 327,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/mapbox/platform.js~MapboxPlatform",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/mapbox/platform.js~MapboxPlatform#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 22,
    "undocument": true
  },
  {
    "__docId__": 328,
    "kind": "member",
    "name": "whenReady",
    "memberof": "src/mapbox/platform.js~MapboxPlatform",
    "static": false,
    "longname": "src/mapbox/platform.js~MapboxPlatform#whenReady",
    "access": "public",
    "description": null,
    "lineNumber": 28,
    "type": {
      "nullable": null,
      "types": [
        "Promise<{platform:H.service.Platform, maptypes:object}>"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 329,
    "kind": "file",
    "name": "src/maps/example.js",
    "content": "class MapsExample extends HTMLElement {\n\n    constructor() {\n        super();\n        this.code = this.innerHTML;\n//        this.code = this.textContent;\n        this._ensureBaseStyles();\n\n        // move elements into subelement\n        /* */\n        let demoDiv = document.createElement('div');\n        demoDiv.classList.add(\"example\");\n        for (let el; el = this.childNodes[0];) {\n            demoDiv.appendChild(el);\n        }\n        this.appendChild(demoDiv);\n        /* */\n\n        let pre = document.createElement('pre');\n        let code = document.createElement('code')\n        code.textContent = this.code;\n        pre.appendChild(code);\n        this.appendChild(pre);\n    }\n\n    connectedCallback() {\n    }\n\n\n    _ensureBaseStyles() {\n        MapsExample.prototype._ensureBaseStyles = () => {};\n        let style = document.createElement('style');\n        style.textContent=`\nmaps-example {\n    display:block;\n    margin: 0 10%;\n    border: 1px solid #888;\n    box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2);\n    margin-bottom: 40px;\n}\n\nmaps-example > div {\n    padding: 5px;\n}\n\nmaps-example > pre {\n    margin: 0;\n    border-top: 1px solid #888;\n    background: #eee;\n    font-size: 0.7em;\n}\n`;\n        document.head.appendChild(style);\n    }\n\n}\ncustomElements.define(\"maps-example\", MapsExample);\n\n\nexport { MapsExample }\n",
    "static": true,
    "longname": "/src/src/maps/example.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 330,
    "kind": "class",
    "name": "MapsExample",
    "memberof": "src/maps/example.js",
    "static": true,
    "longname": "src/maps/example.js~MapsExample",
    "access": "public",
    "export": true,
    "importPath": "@proddi/map-components/src/maps/example.js",
    "importStyle": "{MapsExample}",
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "interface": false,
    "extends": [
      "HTMLElement"
    ]
  },
  {
    "__docId__": 331,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/maps/example.js~MapsExample",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/maps/example.js~MapsExample#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 3,
    "undocument": true
  },
  {
    "__docId__": 332,
    "kind": "member",
    "name": "code",
    "memberof": "src/maps/example.js~MapsExample",
    "static": false,
    "longname": "src/maps/example.js~MapsExample#code",
    "access": "public",
    "description": null,
    "lineNumber": 5,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 333,
    "kind": "method",
    "name": "connectedCallback",
    "memberof": "src/maps/example.js~MapsExample",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/maps/example.js~MapsExample#connectedCallback",
    "access": "public",
    "description": null,
    "lineNumber": 26,
    "undocument": true,
    "params": [],
    "return": null
  },
  {
    "__docId__": 334,
    "kind": "method",
    "name": "_ensureBaseStyles",
    "memberof": "src/maps/example.js~MapsExample",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/maps/example.js~MapsExample#_ensureBaseStyles",
    "access": "private",
    "description": null,
    "lineNumber": 30,
    "undocument": true,
    "params": [],
    "return": null
  },
  {
    "__docId__": 335,
    "kind": "file",
    "name": "src/maps/route-details.js",
    "content": "import {html, render} from 'https://unpkg.com/lit-html?module';\nimport {repeat} from \"https://unpkg.com/lit-html/directives/repeat?module\";\nimport {BaseRouter} from '../generics.js';\n\nimport 'https://unpkg.com/@polymer/paper-item/paper-icon-item.js?module';\nimport 'https://unpkg.com/@polymer/paper-item/paper-item-body.js?module';\nimport 'https://unpkg.com/@polymer/iron-icons@3.0.1/iron-icons.js?module';\nimport 'https://unpkg.com/@polymer/iron-icons@3.0.1/maps-icons.js?module';\n\n\n/**\n * Selector watches a router and emits style events according to user input (mouse)\n *\n * @example\n * <router id=\"router\" ...></router>\n *\n * <route-details router=\"#router\"></route-details>\n *\n * @listens {BaseRouter#request} to clear the list (loading state).\n * @listens {BaseRouter#response} to update the list.\n * @emits {RouteSelector#RouteLegSelected} when a route gets selected.\n * @emits {RouteSelector#RouteLegUnselected} when a route gets selected.\n *\n **/\nclass RouteDetails extends HTMLElement {\n\n    constructor() {\n        super();\n\n        // get templates\n        this._baseRenderer  = getBaseRenderer(this);\n\n        let defaultRenderer = getDefaultRenderer(this);\n        let transitRenderer = getTransitRenderer(this);\n        let carRenderer     = getCarRenderer(this);\n        let walkRenderer    = getWalkRenderer(this);\n        let arrivalRenderer = getArrivalRenderer(this);\n\n        this._legTypeTemplates = {\n            default:    defaultRenderer,\n            walk:       walkRenderer,\n            car:        carRenderer,\n            bus:        transitRenderer,\n            subway:     transitRenderer,\n            metro:      transitRenderer,\n            train:      transitRenderer,\n            highspeed_train:      transitRenderer,\n            bus_rapid:  transitRenderer,\n            arrival:    arrivalRenderer,\n        }\n        this._legRenderer = (leg, route) => (this._legTypeTemplates[leg.transport.type] || defaultRenderer)(leg, route);\n\n        // prepare root\n        this.attachShadow({mode: 'open'});\n        this.clear();\n\n        this._routeRequestHandler  = (ev) => this.showLoading(ev.detail);\n        this._routeResponseHandler = (ev) => this.showResponse(ev.detail);\n    }\n\n    connectedCallback() {\n        if (this.router === undefined) this.setRouter(this.getAttribute(\"router\"));\n    }\n\n    showLoading(request) {\n        this.clear();\n    }\n\n    showRoute(route) {\n        render(this._baseRenderer(route, this._legRenderer), this.shadowRoot);\n    }\n\n    showResponse(response) {\n        this.showRoute(response.routes[0]);\n    }\n\n    clear() {\n        render(this._baseRenderer({}), this.shadowRoot);\n    }\n\n    /**\n     * sets a new router source\n     * @param {BaseRouter|DOMSelector} router - The new routes source\n     */\n    setRouter(router) {\n        // ensure a BaseRouter instance\n        if (!(router instanceof BaseRouter)) router = document.querySelector(router);\n\n        // unregister events @old router\n        if (this.router) {\n            this.router.removeEventListener(\"request\", this._routeRequestHandler);\n            this.router.removeEventListener(\"response\", this._routeResponseHandler);\n            this.clear();\n        }\n\n        this.router = router;\n\n        // register events @new router\n        if (this.router) {\n            this.router.addEventListener(\"request\", this._routeRequestHandler);\n            this.router.addEventListener(\"response\", this._routeResponseHandler);\n        // set current state\n//          this.showLoading(router.currentRequest);\n//            router.currentRoutes && this.addRoutes(router.currentRoutes);\n//            router.currentError && this.showError(router.currentError);\n        }\n    }\n}\n\n\nimport {Leg, Transport} from '../generics.js';\n\nfunction bar(route) {\n    if ((route.legs || []).length) {\n        return [new Leg(undefined, route.arrival, new Transport({type:\"arrival\"}), [])];\n    }\n    return [];\n}\n\n\nfunction getBaseRenderer() {\n    return (route, legTemplate) => html`\n    <style>\n        :host {\n            display: block;\n        }\n        :host paper-icon-item {\n            position: relative;\n        }\n        :host paper-icon-item .line{\n            position: absolute;\n            top: -8px;\n            left: 26px;\n            bottom: -7px;\n            border-left: 4px solid rgb(75, 81, 89);\n        }\n        :host paper-icon-item .line-walk {\n            border-color: rgb(44, 72, 161);\n            border-left-style: dotted;\n        }\n        :host paper-icon-item.leg-walk .distance {\n            color: rgb(44, 72, 161);\n        }\n        :host paper-icon-item .line-car {\n            border-color: #2c48a1;\n            border-left-style: dotted;\n        }\n    </style>\n\n    <div role=\"listbox\">\n        ${repeat((route.legs || []).concat(bar(route)), (leg) => leg.id, (leg, index) => legTemplate(leg, route))}\n    </div>\n`;\n}\n\n\nimport {formatDuration, formatTime, formatDistance} from './tools.js';\n\n\nfunction getTransitRenderer(self) {\n    return (leg, route) => html`\n      <paper-icon-item data-leg=\"${leg.id}\">\n        <iron-icon icon=\"${foo(leg)}\" slot=\"item-icon\" style=\"fill:${leg.transport.color}\"></iron-icon>\n        <paper-item-body>\n          <div>\n            <span style=\"float:right\">${leg.departure.timeString}</span>\n            <div>${leg.departure.name}</div>\n          </div>\n        </paper-item-body>\n      </paper-icon-item>\n\n      <paper-icon-item data-leg=\"${leg.id}\">\n        <div class=\"line ${leg.transport.type}\" style=\"border-color: ${leg.transport.color}\"></div>\n        <paper-item-body two-line>\n          <div>\n            <div class=\"leg-details\" style=\"color:${leg.transport.color}\">\n                ${leg.transport.name} → ${leg.transport.headsign}<br>\n            </div>\n          </div>\n          <div secondary>\n            Stops: ${leg.steps.length} &nbsp; (${formatDuration(leg.departure.time, leg.arrival.time)})\n          </div>\n\n        ${leg.steps.length>4 ? html`<div secondary>...</div>` : ``}\n        ${repeat(leg.steps.slice(-4) || [], (step, index) => html`\n          <div secondary><span style=\"float:right\">${formatTime(step.time)}</span>${step.name}</div>\n        `)}\n\n        </paper-item-body>\n      </paper-icon-item>\n`;\n}\n\n\nfunction getDefaultRenderer(self) {\n    return (leg, route) => html`\n      <paper-icon-item data-leg=\"${route.uid}\">\n        <iron-icon icon=\"${foo(leg)}\" slot=\"item-icon\"></iron-icon>\n        <paper-item-body two-line>\n          <div>\n            <span style=\"float:right\">${leg.departure.timeString}</span>\n            <div>${leg.summary}</div>\n          </div>\n          <div secondary>\n            <div class=\"leg-details\">\n                type: ${leg.transport.type} ${foo(leg)} - color: ${leg.transport.color} - name: ${leg.transport.name}\n            </div>\n          </div>\n        </paper-item-body>\n      </paper-icon-item>\n`;\n}\n\n\nfunction getWalkRenderer(self) {\n    return (leg, route) => html`\n      <paper-icon-item data-leg=\"${leg.id}\">\n        <iron-icon icon=\"maps:directions-walk\" slot=\"item-icon\" style=\"fill:rgb(44, 72, 161);\"></iron-icon>\n        <paper-item-body>\n          <div>\n            <span style=\"float:right\">${leg.departure.timeString}</span>\n            <div>${leg.summary}</div>\n          </div>\n        </paper-item-body>\n      </paper-icon-item>\n\n      <paper-icon-item data-leg=\"${leg.id}\" class=\"leg-walk\">\n        <div class=\"line line-walk\"></div>\n        <paper-item-body>\n          <div secondary><span class=\"distance\">${formatDistance(leg.distance)}</span> &nbsp; (${formatDuration(leg.departure.time, leg.arrival.time)})</div>\n          <div secondary>Steps: ${leg.steps.length}</div>\n        </paper-item-body>\n      </paper-icon-item>\n`;\n}\n\n\nfunction getCarRenderer(self) {\n    return (leg, route) => html`\n      <paper-icon-item data-leg=\"${leg.id}\">\n        <iron-icon icon=\"maps:directions-car\" slot=\"item-icon\"></iron-icon>\n        <paper-item-body two-line>\n          <div>\n            <span style=\"float:right\">${leg.departure.timeString}</span>\n            <div>Drive from at ${leg.departure.name}</div>\n          </div>\n          <div secondary><span class=\"distance\">${formatDistance(leg.distance)}</span> &nbsp; (${formatDuration(leg.departure.time, leg.arrival.time)})</div>\n          <div secondary>Manuevers: ${leg.steps.length}</div>\n        </paper-item-body>\n      </paper-icon-item>\n        ${repeat(leg.steps || [], (step, index) => html`\n\n      <paper-icon-item data-leg-step=\"${leg.id}-1\">\n        <div class=\"line line-car\"></div>\n        <iron-icon icon=\"maps:near-me\" slot=\"item-icon\"></iron-icon>\n        <paper-item-body>\n          <div secondary>\n            <span style=\"float:right\">${formatTime(leg.departure.time)}</span>\n            <div>${step.name}</div>\n          </div>\n        </paper-item-body>\n      </paper-icon-item>\n\n        `)}\n`;\n}\n\n\nfunction getArrivalRenderer(self) {\n    return (leg, route) => html`\n      <paper-icon-item>\n        <iron-icon icon=\"maps:place\" slot=\"item-icon\"></iron-icon>\n        <paper-item-body>\n          <div>\n            <span style=\"float:right\">${formatTime(leg.arrival.time)}</span>\n            <div>Arrive at ${leg.arrival.name}</div>\n          </div>\n        </paper-item-body>\n      </paper-icon-item>\n`;\n}\n\n\nconst _TYPE_MAP = {\n    walk:       \"maps:directions-walk\",\n    bike:       \"maps:directions-bike\",\n    car:        \"maps:directions-car\",\n    bus:        \"maps:directions-bus\",\n    bus_rapid:  \"maps:directions-bus\",\n    tram:       \"maps:tram\",\n    subway:     \"maps:directions-subway\",\n    metro:      \"maps:directions-railway\",\n    highspeed_train:    \"maps:train\",\n    train:      \"maps:train\",\n}\nfunction foo(leg) {\n    return _TYPE_MAP[leg.transport.type] || \"maps:directions-transit\";\n}\n\ncustomElements.define('route-details', RouteDetails);\n\n\nexport { RouteDetails }\n",
    "static": true,
    "longname": "/src/src/maps/route-details.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 336,
    "kind": "function",
    "name": "bar",
    "memberof": "src/maps/route-details.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/maps/route-details.js~bar",
    "access": "public",
    "export": false,
    "importPath": "@proddi/map-components/src/maps/route-details.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 113,
    "undocument": true,
    "params": [
      {
        "name": "route",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*[]"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 337,
    "kind": "function",
    "name": "getBaseRenderer",
    "memberof": "src/maps/route-details.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/maps/route-details.js~getBaseRenderer",
    "access": "public",
    "export": false,
    "importPath": "@proddi/map-components/src/maps/route-details.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 121,
    "undocument": true,
    "params": [],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 338,
    "kind": "function",
    "name": "getTransitRenderer",
    "memberof": "src/maps/route-details.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/maps/route-details.js~getTransitRenderer",
    "access": "public",
    "export": false,
    "importPath": "@proddi/map-components/src/maps/route-details.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 160,
    "undocument": true,
    "params": [
      {
        "name": "self",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 339,
    "kind": "function",
    "name": "getDefaultRenderer",
    "memberof": "src/maps/route-details.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/maps/route-details.js~getDefaultRenderer",
    "access": "public",
    "export": false,
    "importPath": "@proddi/map-components/src/maps/route-details.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 195,
    "undocument": true,
    "params": [
      {
        "name": "self",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 340,
    "kind": "function",
    "name": "getWalkRenderer",
    "memberof": "src/maps/route-details.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/maps/route-details.js~getWalkRenderer",
    "access": "public",
    "export": false,
    "importPath": "@proddi/map-components/src/maps/route-details.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 215,
    "undocument": true,
    "params": [
      {
        "name": "self",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 341,
    "kind": "function",
    "name": "getCarRenderer",
    "memberof": "src/maps/route-details.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/maps/route-details.js~getCarRenderer",
    "access": "public",
    "export": false,
    "importPath": "@proddi/map-components/src/maps/route-details.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 238,
    "undocument": true,
    "params": [
      {
        "name": "self",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 342,
    "kind": "function",
    "name": "getArrivalRenderer",
    "memberof": "src/maps/route-details.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/maps/route-details.js~getArrivalRenderer",
    "access": "public",
    "export": false,
    "importPath": "@proddi/map-components/src/maps/route-details.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 269,
    "undocument": true,
    "params": [
      {
        "name": "self",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 343,
    "kind": "variable",
    "name": "_TYPE_MAP",
    "memberof": "src/maps/route-details.js",
    "static": true,
    "longname": "src/maps/route-details.js~_TYPE_MAP",
    "access": "private",
    "export": false,
    "importPath": "@proddi/map-components/src/maps/route-details.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 284,
    "undocument": true,
    "type": {
      "types": [
        "{\"walk\": string, \"bike\": string, \"car\": string, \"bus\": string, \"bus_rapid\": string, \"tram\": string, \"subway\": string, \"metro\": string, \"highspeed_train\": string, \"train\": string}"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 344,
    "kind": "function",
    "name": "foo",
    "memberof": "src/maps/route-details.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/maps/route-details.js~foo",
    "access": "public",
    "export": false,
    "importPath": "@proddi/map-components/src/maps/route-details.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 296,
    "undocument": true,
    "params": [
      {
        "name": "leg",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 345,
    "kind": "class",
    "name": "RouteDetails",
    "memberof": "src/maps/route-details.js",
    "static": true,
    "longname": "src/maps/route-details.js~RouteDetails",
    "access": "public",
    "export": true,
    "importPath": "@proddi/map-components/src/maps/route-details.js",
    "importStyle": "{RouteDetails}",
    "description": "Selector watches a router and emits style events according to user input (mouse)",
    "examples": [
      "<router id=\"router\" ...></router>\n\n<route-details router=\"#router\"></route-details>"
    ],
    "lineNumber": 25,
    "emits": [
      {
        "types": [
          "RouteSelector#RouteLegSelected"
        ],
        "description": "when a route gets selected."
      },
      {
        "types": [
          "RouteSelector#RouteLegUnselected"
        ],
        "description": "when a route gets selected."
      }
    ],
    "listens": [
      {
        "types": [
          "BaseRouter#request"
        ],
        "description": "to clear the list (loading state)."
      },
      {
        "types": [
          "BaseRouter#response"
        ],
        "description": "to update the list."
      }
    ],
    "interface": false,
    "extends": [
      "HTMLElement"
    ]
  },
  {
    "__docId__": 346,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/maps/route-details.js~RouteDetails",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/maps/route-details.js~RouteDetails#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 27,
    "undocument": true
  },
  {
    "__docId__": 347,
    "kind": "member",
    "name": "_baseRenderer",
    "memberof": "src/maps/route-details.js~RouteDetails",
    "static": false,
    "longname": "src/maps/route-details.js~RouteDetails#_baseRenderer",
    "access": "private",
    "description": null,
    "lineNumber": 31,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 348,
    "kind": "member",
    "name": "_legTypeTemplates",
    "memberof": "src/maps/route-details.js~RouteDetails",
    "static": false,
    "longname": "src/maps/route-details.js~RouteDetails#_legTypeTemplates",
    "access": "private",
    "description": null,
    "lineNumber": 39,
    "undocument": true,
    "type": {
      "types": [
        "{\"default\": *, \"walk\": *, \"car\": *, \"bus\": *, \"subway\": *, \"metro\": *, \"train\": *, \"highspeed_train\": *, \"bus_rapid\": *, \"arrival\": *}"
      ]
    }
  },
  {
    "__docId__": 349,
    "kind": "member",
    "name": "_legRenderer",
    "memberof": "src/maps/route-details.js~RouteDetails",
    "static": false,
    "longname": "src/maps/route-details.js~RouteDetails#_legRenderer",
    "access": "private",
    "description": null,
    "lineNumber": 51,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 350,
    "kind": "member",
    "name": "_routeRequestHandler",
    "memberof": "src/maps/route-details.js~RouteDetails",
    "static": false,
    "longname": "src/maps/route-details.js~RouteDetails#_routeRequestHandler",
    "access": "private",
    "description": null,
    "lineNumber": 57,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 351,
    "kind": "member",
    "name": "_routeResponseHandler",
    "memberof": "src/maps/route-details.js~RouteDetails",
    "static": false,
    "longname": "src/maps/route-details.js~RouteDetails#_routeResponseHandler",
    "access": "private",
    "description": null,
    "lineNumber": 58,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 352,
    "kind": "method",
    "name": "connectedCallback",
    "memberof": "src/maps/route-details.js~RouteDetails",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/maps/route-details.js~RouteDetails#connectedCallback",
    "access": "public",
    "description": null,
    "lineNumber": 61,
    "undocument": true,
    "params": [],
    "return": null
  },
  {
    "__docId__": 353,
    "kind": "method",
    "name": "showLoading",
    "memberof": "src/maps/route-details.js~RouteDetails",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/maps/route-details.js~RouteDetails#showLoading",
    "access": "public",
    "description": null,
    "lineNumber": 65,
    "undocument": true,
    "params": [
      {
        "name": "request",
        "types": [
          "*"
        ]
      }
    ],
    "return": null
  },
  {
    "__docId__": 354,
    "kind": "method",
    "name": "showRoute",
    "memberof": "src/maps/route-details.js~RouteDetails",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/maps/route-details.js~RouteDetails#showRoute",
    "access": "public",
    "description": null,
    "lineNumber": 69,
    "undocument": true,
    "params": [
      {
        "name": "route",
        "types": [
          "*"
        ]
      }
    ],
    "return": null
  },
  {
    "__docId__": 355,
    "kind": "method",
    "name": "showResponse",
    "memberof": "src/maps/route-details.js~RouteDetails",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/maps/route-details.js~RouteDetails#showResponse",
    "access": "public",
    "description": null,
    "lineNumber": 73,
    "undocument": true,
    "params": [
      {
        "name": "response",
        "types": [
          "*"
        ]
      }
    ],
    "return": null
  },
  {
    "__docId__": 356,
    "kind": "method",
    "name": "clear",
    "memberof": "src/maps/route-details.js~RouteDetails",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/maps/route-details.js~RouteDetails#clear",
    "access": "public",
    "description": null,
    "lineNumber": 77,
    "undocument": true,
    "params": [],
    "return": null
  },
  {
    "__docId__": 357,
    "kind": "method",
    "name": "setRouter",
    "memberof": "src/maps/route-details.js~RouteDetails",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/maps/route-details.js~RouteDetails#setRouter",
    "access": "public",
    "description": "sets a new router source",
    "lineNumber": 85,
    "params": [
      {
        "nullable": null,
        "types": [
          "BaseRouter",
          "DOMSelector"
        ],
        "spread": false,
        "optional": false,
        "name": "router",
        "description": "The new routes source"
      }
    ],
    "return": null
  },
  {
    "__docId__": 358,
    "kind": "member",
    "name": "router",
    "memberof": "src/maps/route-details.js~RouteDetails",
    "static": false,
    "longname": "src/maps/route-details.js~RouteDetails#router",
    "access": "public",
    "description": null,
    "lineNumber": 96,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 359,
    "kind": "file",
    "name": "src/maps/route-selector.js",
    "content": "import {html, render} from 'https://unpkg.com/lit-html?module';\nimport {repeat} from \"https://unpkg.com/lit-html/directives/repeat?module\";\nimport {BaseRouter} from '../generics.js';\n\nimport 'https://unpkg.com/@polymer/paper-item/paper-icon-item.js?module';\nimport 'https://unpkg.com/@polymer/paper-item/paper-item-body.js?module';\nimport 'https://unpkg.com/@polymer/iron-icons@3.0.1/iron-icons.js?module';\nimport 'https://unpkg.com/@polymer/iron-icons@3.0.1/maps-icons.js?module';\n\n\n/**\n * Selector watches a router and emits style events according to user input (mouse)\n *\n * @example\n * <router id=\"router\" ...></router>\n *\n * <route-selector router=\"#router\"></route-selector>\n *\n * @listens {BaseRouter#request} to clear the list (loading state).\n * @listens {BaseRouter#response} to update the list.\n * @emits {RouteSelector#RouteSelected} when a route gets selected.\n * @emits {RouteSelector#RouteUnselected} when a route gets selected.\n * @emits {RouteSelector#RouteLegSelected} when a route gets selected.\n * @emits {RouteSelector#RouteLegUnselected} when a route gets selected.\n *\n **/\nclass RouteSelector extends HTMLElement {\n\n    constructor() {\n        super();\n\n        // get templates\n        this._rootTemplate = getBaseRenderer(this);\n        this._routeTemplate = getDefaultRouteTemplate(this);\n\n        // prepare root\n        this.attachShadow({mode: 'open'});\n        this.clearRoutes();\n\n        /** @type {Response|undefined} */\n        this.response = undefined;\n\n        /** @type {Route|undefined} */\n        this.selectedRoute = undefined;\n\n        // router event handler\n        this._routeRequestHandler  = (ev) => this.showLoading(ev.detail);\n        this._routeResponseHandler = (ev) => this.showResponse(ev.detail);\n        this._routeRoutesHandler   = (ev) => this.addRoutes(ev.detail.routes);\n        this._routeErrorHandler    = (ev) => this.showError(ev.detail);\n/*\n        // mouse events\n        this.shadowRoot.addEventListener(\"mouseover\", (ev) => {\n            let route = this._findRouteByNode(ev.target);\n            route && this.highlightRoute(route);\n        });\n        this.shadowRoot.addEventListener(\"mouseout\", (ev)  => {\n            let route = this._findRouteByNode(ev.target);\n            route && this.unhighlightRoute(route);\n        });\n        this.shadowRoot.addEventListener(\"click\", (ev) => {\n            let route = this._findRouteByNode(ev.target);\n            route && this.toggleSelectRoute(route);\n        });\n*/\n    }\n\n    connectedCallback() {\n        if (this.router === undefined) this.setRouter(this.getAttribute(\"router\"));\n    }\n\n    clearRoutes() {\n        render(this._rootTemplate({}, this._routeTemplate), this.shadowRoot);\n    }\n\n    addRoutes(routes) {\n        console.warn(\"NOT IMPLEMENTED\");\n    }\n\n    showLoading(request) {\n        this.clearRoutes();\n    }\n\n    showResponse(response) {\n        render(this._rootTemplate(response, this._routeTemplate), this.shadowRoot);\n    }\n\n    showError(error) {\n        console.trace(\"NOT IMPLEMENTED\");\n    }\n\n    /**\n     * sets a new router source\n     * @param {BaseRouter|DOMSelector} router - The new routes source\n     */\n    setRouter(router) {\n        // ensure a BaseRouter instance\n        if (!(router instanceof BaseRouter)) router = document.querySelector(router);\n\n        // unregister events @old router\n        if (this.router) {\n            this.router.removeEventListener(\"request\", this._routeRequestHandler);\n            this.router.removeEventListener(\"response\", this._routeResponseHandler);\n            this.router.removeEventListener(\"routes\", this._routeRoutesHandler);\n            this.router.removeEventListener(\"error\", this._routeErrorHandler);\n            this.clearRoutes();\n        }\n\n        this.router = router;\n\n        // register events @new router\n        if (this.router) {\n            this.router.addEventListener(\"request\", this._routeRequestHandler);\n            this.router.addEventListener(\"response\", this._routeResponseHandler);\n            this.router.addEventListener(\"routes\", this._routeRoutesHandler);\n            this.router.addEventListener(\"error\", this._routeErrorHandler);\n        // set current state\n//          this.showLoading(router.currentRequest);\n            router.currentRoutes && this.addRoutes(router.currentRoutes);\n            router.currentError && this.showError(router.currentError);\n        }\n    }\n\n    highlightRoute(route) {\n        this.dispatchEvent(new CustomEvent('highlighted', { detail: route }));\n    }\n\n    unhighlightRoute(route) {\n        this.dispatchEvent(new CustomEvent('unhighlighted', { detail: route }));\n    }\n\n    selectRoute(route) {\n        if (route === this.selectedRoute) return;\n        this.selectedRoute && this.dispatchEvent(new CustomEvent('unselected', { detail: this.selectedRoute }));\n        this.selectedRoute = route;\n        this.selectedRoute && this.dispatchEvent(new CustomEvent('selected', { detail: this.selectedRoute }));\n    }\n\n    toggleSelectedRoute(route) {\n        this.selectRoute(route === this.selectedRoute ? undefined : route);\n    }\n}\n\n\n/**\n * Extracts a template content from {DOMNode} specified via {DOMSelector}\n */\nfunction elementTemplate(node, ...fields) {\n    let data_as = node.getAttribute(\"data-as\") || \"data\";\n    let markup = node.innerHTML.trim()\n        .replace(\"=&gt;\", \"=>\");\n    node.parentNode.removeChild(node);\n    let fn = Function.apply(null, [\"html\", data_as].concat(fields.map(([name, lookup]) => name)).concat([`return html\\`${markup}\\`;`]));\n    return (...args) => fn(html, args[0], ...fields.map(([name, lookup]) => lookup(...args)));\n}\n\n\nfunction getBaseRenderer(scope) {\n    return (response, routeTemplate) => html`\n    <style>\n        :host {\n            display: block;\n        }\n        :host .route-lines {\n            background-color: #f0f0f0;\n            width: 100%;\n            border-radius: 0.9rem;\n            height: 0.3rem;\n            margin: 0.2rem 0 0.3rem 0;\n        }\n        :host .route-lines > span {\n            display: inline-block;\n            vertical-align: top;\n            borde_r-radius: 0.9rem;\n            height: 0.3rem;\n            b_order-left: 2px solid white;\n            border-right: 2px solid white;\n            background-color: #b7b9bc;\n        }\n        :host .route-lines > span.walk {\n            background-color: #b7b9bc;\n        }\n        :host .route-lines > span.car {\n            background-color: #2c48a1;\n        }\n        :host .provider {\n            float: right;\n        }\n        :host paper-icon-item {\n            cursor: pointer;\n        }\n        :host paper-icon-item:hover {\n            background-color: #f0f0f0;\n        }\n    </style>\n\n    <div role=\"listbox\">\n        <div>${response.error}</div>\n        ${repeat(response.routes || [], (route) => route.id, (route, index) => routeTemplate(route, response))}\n    <p></p>\n    </div>\n`;\n}\n\n\nfunction getDefaultRouteTemplate(self) {\n    return (route, response) => html`\n      <paper-icon-item data-route=\"${route.uid}\"\n            @click=${_ => self.toggleSelectedRoute(route)}\n            @mouseenter=${_ => self.highlightRoute(route)}\n            @mouseleave=${_ => self.unhighlightRoute(route)}>\n        <iron-icon icon=\"maps:directions-transit\" slot=\"item-icon\"></iron-icon>\n        <paper-item-body three-line>\n          <div>${route.duration}</div>\n          <div secondary>\n            <div class=\"route-modes\">\n                ${route.legs.filter(leg => leg.transport.type !== \"walk\").map(leg => html`<span class=\"leg leg-${leg.transport.type}\" title=\"${leg.summary || ''}\" style=\"color: ${leg.transport.color};\">${leg.transport.name}</span>  &rsaquo; `)}\n            </div>\n            <div class=\"route-lines\">\n                ${foo(response, route).map(([leg, width]) => html`<span class=\"${leg.transport.type}\" title=\"${leg.summary || ''}\" style=\"width: ${width}%; background-color: ${leg.transport.color};\"></span>`)}\n            </div>\n            <div class=\"route-details\">\n                <span class=\"provider\">${route.router.name}</span>\n                Leave: ${route.departure.timeString} -&gt; ${route.arrival.timeString}\n            </div>\n          </div>\n        </paper-item-body>\n      </paper-icon-item>\n`;\n}\n\nimport {Leg, Transport} from '../generics.js';\nimport {formatTime} from './tools.js';\n\n\nconst WAITING = new Transport({type: \"wait\", name: \"wait\", color: \"transparent\", summary: \"Waiting...\"});\n\nfunction foo(response, route) {\n    let departure = response.routes.map(route => route.departure).reduce((prev, curr) => curr.time < prev.time ? curr : prev);\n    let arrival = response.routes.map(route => route.arrival).reduce((prev, curr) => curr.time > prev.time ? curr : prev);\n    let duration = (arrival.time - departure.time) / 100;\n//    console.log(route.id, formatTime(departure.time), formatTime(arrival.time), duration);\n    let waiting = new Leg(departure, route.legs[0].departure, WAITING, [], {id:\"0\", summary: \"wait here\"});\n    return [waiting].concat(route.legs).map(leg => [leg, (leg.arrival.time - leg.departure.time)/duration]);\n}\n\n\n\ncustomElements.define('route-selector', RouteSelector);\n\n\nexport { RouteSelector }\n",
    "static": true,
    "longname": "/src/src/maps/route-selector.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 360,
    "kind": "function",
    "name": "elementTemplate",
    "memberof": "src/maps/route-selector.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/maps/route-selector.js~elementTemplate",
    "access": "public",
    "export": false,
    "importPath": "@proddi/map-components/src/maps/route-selector.js",
    "importStyle": null,
    "description": "Extracts a template content from {DOMNode} specified via {DOMSelector}",
    "lineNumber": 148,
    "params": [
      {
        "name": "node",
        "types": [
          "*"
        ]
      },
      {
        "name": "fields",
        "types": [
          "...*"
        ],
        "spread": true
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 361,
    "kind": "function",
    "name": "getBaseRenderer",
    "memberof": "src/maps/route-selector.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/maps/route-selector.js~getBaseRenderer",
    "access": "public",
    "export": false,
    "importPath": "@proddi/map-components/src/maps/route-selector.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 158,
    "undocument": true,
    "params": [
      {
        "name": "scope",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 362,
    "kind": "function",
    "name": "getDefaultRouteTemplate",
    "memberof": "src/maps/route-selector.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/maps/route-selector.js~getDefaultRouteTemplate",
    "access": "public",
    "export": false,
    "importPath": "@proddi/map-components/src/maps/route-selector.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 206,
    "undocument": true,
    "params": [
      {
        "name": "self",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 363,
    "kind": "variable",
    "name": "WAITING",
    "memberof": "src/maps/route-selector.js",
    "static": true,
    "longname": "src/maps/route-selector.js~WAITING",
    "access": "public",
    "export": false,
    "importPath": "@proddi/map-components/src/maps/route-selector.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 236,
    "undocument": true,
    "type": {
      "types": [
        "src/generics.js~Transport"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 364,
    "kind": "function",
    "name": "foo",
    "memberof": "src/maps/route-selector.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/maps/route-selector.js~foo",
    "access": "public",
    "export": false,
    "importPath": "@proddi/map-components/src/maps/route-selector.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 238,
    "undocument": true,
    "params": [
      {
        "name": "response",
        "types": [
          "*"
        ]
      },
      {
        "name": "route",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 365,
    "kind": "class",
    "name": "RouteSelector",
    "memberof": "src/maps/route-selector.js",
    "static": true,
    "longname": "src/maps/route-selector.js~RouteSelector",
    "access": "public",
    "export": true,
    "importPath": "@proddi/map-components/src/maps/route-selector.js",
    "importStyle": "{RouteSelector}",
    "description": "Selector watches a router and emits style events according to user input (mouse)",
    "examples": [
      "<router id=\"router\" ...></router>\n\n<route-selector router=\"#router\"></route-selector>"
    ],
    "lineNumber": 27,
    "emits": [
      {
        "types": [
          "RouteSelector#RouteSelected"
        ],
        "description": "when a route gets selected."
      },
      {
        "types": [
          "RouteSelector#RouteUnselected"
        ],
        "description": "when a route gets selected."
      },
      {
        "types": [
          "RouteSelector#RouteLegSelected"
        ],
        "description": "when a route gets selected."
      },
      {
        "types": [
          "RouteSelector#RouteLegUnselected"
        ],
        "description": "when a route gets selected."
      }
    ],
    "listens": [
      {
        "types": [
          "BaseRouter#request"
        ],
        "description": "to clear the list (loading state)."
      },
      {
        "types": [
          "BaseRouter#response"
        ],
        "description": "to update the list."
      }
    ],
    "interface": false,
    "extends": [
      "HTMLElement"
    ]
  },
  {
    "__docId__": 366,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/maps/route-selector.js~RouteSelector",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/maps/route-selector.js~RouteSelector#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 29,
    "undocument": true
  },
  {
    "__docId__": 367,
    "kind": "member",
    "name": "_rootTemplate",
    "memberof": "src/maps/route-selector.js~RouteSelector",
    "static": false,
    "longname": "src/maps/route-selector.js~RouteSelector#_rootTemplate",
    "access": "private",
    "description": null,
    "lineNumber": 33,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 368,
    "kind": "member",
    "name": "_routeTemplate",
    "memberof": "src/maps/route-selector.js~RouteSelector",
    "static": false,
    "longname": "src/maps/route-selector.js~RouteSelector#_routeTemplate",
    "access": "private",
    "description": null,
    "lineNumber": 34,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 369,
    "kind": "member",
    "name": "response",
    "memberof": "src/maps/route-selector.js~RouteSelector",
    "static": false,
    "longname": "src/maps/route-selector.js~RouteSelector#response",
    "access": "public",
    "description": null,
    "lineNumber": 41,
    "type": {
      "nullable": null,
      "types": [
        "Response",
        "undefined"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 370,
    "kind": "member",
    "name": "selectedRoute",
    "memberof": "src/maps/route-selector.js~RouteSelector",
    "static": false,
    "longname": "src/maps/route-selector.js~RouteSelector#selectedRoute",
    "access": "public",
    "description": null,
    "lineNumber": 44,
    "type": {
      "nullable": null,
      "types": [
        "Route",
        "undefined"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 371,
    "kind": "member",
    "name": "_routeRequestHandler",
    "memberof": "src/maps/route-selector.js~RouteSelector",
    "static": false,
    "longname": "src/maps/route-selector.js~RouteSelector#_routeRequestHandler",
    "access": "private",
    "description": null,
    "lineNumber": 47,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 372,
    "kind": "member",
    "name": "_routeResponseHandler",
    "memberof": "src/maps/route-selector.js~RouteSelector",
    "static": false,
    "longname": "src/maps/route-selector.js~RouteSelector#_routeResponseHandler",
    "access": "private",
    "description": null,
    "lineNumber": 48,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 373,
    "kind": "member",
    "name": "_routeRoutesHandler",
    "memberof": "src/maps/route-selector.js~RouteSelector",
    "static": false,
    "longname": "src/maps/route-selector.js~RouteSelector#_routeRoutesHandler",
    "access": "private",
    "description": null,
    "lineNumber": 49,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 374,
    "kind": "member",
    "name": "_routeErrorHandler",
    "memberof": "src/maps/route-selector.js~RouteSelector",
    "static": false,
    "longname": "src/maps/route-selector.js~RouteSelector#_routeErrorHandler",
    "access": "private",
    "description": null,
    "lineNumber": 50,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 375,
    "kind": "method",
    "name": "connectedCallback",
    "memberof": "src/maps/route-selector.js~RouteSelector",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/maps/route-selector.js~RouteSelector#connectedCallback",
    "access": "public",
    "description": null,
    "lineNumber": 68,
    "undocument": true,
    "params": [],
    "return": null
  },
  {
    "__docId__": 376,
    "kind": "method",
    "name": "clearRoutes",
    "memberof": "src/maps/route-selector.js~RouteSelector",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/maps/route-selector.js~RouteSelector#clearRoutes",
    "access": "public",
    "description": null,
    "lineNumber": 72,
    "undocument": true,
    "params": [],
    "return": null
  },
  {
    "__docId__": 377,
    "kind": "method",
    "name": "addRoutes",
    "memberof": "src/maps/route-selector.js~RouteSelector",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/maps/route-selector.js~RouteSelector#addRoutes",
    "access": "public",
    "description": null,
    "lineNumber": 76,
    "undocument": true,
    "params": [
      {
        "name": "routes",
        "types": [
          "*"
        ]
      }
    ],
    "return": null
  },
  {
    "__docId__": 378,
    "kind": "method",
    "name": "showLoading",
    "memberof": "src/maps/route-selector.js~RouteSelector",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/maps/route-selector.js~RouteSelector#showLoading",
    "access": "public",
    "description": null,
    "lineNumber": 80,
    "undocument": true,
    "params": [
      {
        "name": "request",
        "types": [
          "*"
        ]
      }
    ],
    "return": null
  },
  {
    "__docId__": 379,
    "kind": "method",
    "name": "showResponse",
    "memberof": "src/maps/route-selector.js~RouteSelector",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/maps/route-selector.js~RouteSelector#showResponse",
    "access": "public",
    "description": null,
    "lineNumber": 84,
    "undocument": true,
    "params": [
      {
        "name": "response",
        "types": [
          "*"
        ]
      }
    ],
    "return": null
  },
  {
    "__docId__": 380,
    "kind": "method",
    "name": "showError",
    "memberof": "src/maps/route-selector.js~RouteSelector",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/maps/route-selector.js~RouteSelector#showError",
    "access": "public",
    "description": null,
    "lineNumber": 88,
    "undocument": true,
    "params": [
      {
        "name": "error",
        "types": [
          "*"
        ]
      }
    ],
    "return": null
  },
  {
    "__docId__": 381,
    "kind": "method",
    "name": "setRouter",
    "memberof": "src/maps/route-selector.js~RouteSelector",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/maps/route-selector.js~RouteSelector#setRouter",
    "access": "public",
    "description": "sets a new router source",
    "lineNumber": 96,
    "params": [
      {
        "nullable": null,
        "types": [
          "BaseRouter",
          "DOMSelector"
        ],
        "spread": false,
        "optional": false,
        "name": "router",
        "description": "The new routes source"
      }
    ],
    "return": null
  },
  {
    "__docId__": 382,
    "kind": "member",
    "name": "router",
    "memberof": "src/maps/route-selector.js~RouteSelector",
    "static": false,
    "longname": "src/maps/route-selector.js~RouteSelector#router",
    "access": "public",
    "description": null,
    "lineNumber": 109,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 383,
    "kind": "method",
    "name": "highlightRoute",
    "memberof": "src/maps/route-selector.js~RouteSelector",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/maps/route-selector.js~RouteSelector#highlightRoute",
    "access": "public",
    "description": null,
    "lineNumber": 124,
    "undocument": true,
    "params": [
      {
        "name": "route",
        "types": [
          "*"
        ]
      }
    ],
    "return": null
  },
  {
    "__docId__": 384,
    "kind": "method",
    "name": "unhighlightRoute",
    "memberof": "src/maps/route-selector.js~RouteSelector",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/maps/route-selector.js~RouteSelector#unhighlightRoute",
    "access": "public",
    "description": null,
    "lineNumber": 128,
    "undocument": true,
    "params": [
      {
        "name": "route",
        "types": [
          "*"
        ]
      }
    ],
    "return": null
  },
  {
    "__docId__": 385,
    "kind": "method",
    "name": "selectRoute",
    "memberof": "src/maps/route-selector.js~RouteSelector",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/maps/route-selector.js~RouteSelector#selectRoute",
    "access": "public",
    "description": null,
    "lineNumber": 132,
    "undocument": true,
    "params": [
      {
        "name": "route",
        "types": [
          "*"
        ]
      }
    ],
    "return": null
  },
  {
    "__docId__": 389,
    "kind": "method",
    "name": "toggleSelectedRoute",
    "memberof": "src/maps/route-selector.js~RouteSelector",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/maps/route-selector.js~RouteSelector#toggleSelectedRoute",
    "access": "public",
    "description": null,
    "lineNumber": 139,
    "undocument": true,
    "params": [
      {
        "name": "route",
        "types": [
          "*"
        ]
      }
    ],
    "return": null
  },
  {
    "__docId__": 390,
    "kind": "file",
    "name": "src/maps/tools.js",
    "content": "/**\n * Create a Promise that can be resolved later.\n * @example\n * let p = new OpenPromose((resolve, reject) => {\n *   // usually you can only solve that Promise inside.\n * });\n * p.resolve(\"Yay!\");  // but this can be resolved/reject from outside as well.\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise\n */\nclass OpenPromise extends Promise {\n\n    /**\n     * create instance\n     * @param {function(resolve:function, reject:function)} executor\n     */\n    constructor(executor) {\n        let _resolve, _reject;\n        super((resolve, reject) => {\n            [_resolve, _reject] = [resolve, reject];\n            executor(resolve, reject);\n        });\n\n        /**\n         * @type {function}\n         * @param {any} value\n         */\n        this.resolve = _resolve;\n\n        /**\n         * @type {function}\n         * @param {any} reason\n         */\n        this.reject = _reject;\n    }\n\n}\n\n\nfunction formatTime(time) {\n    return time.getHours() + \":\" + (\"0\"+time.getMinutes()).slice(-2);\n}\n\n\nfunction formatDuration(time1, time2) {\n    const FOO = [[60*60*1000, \"hr\", \"hrs\"], [60*1000, \"min\", \"mins\"], [1000, \"sec\", \"secs\"]];\n    let ms = time2 - time1;\n    let parts = [];\n    for (let [factor, sn, pl] of FOO) {\n        let val = Math.floor(ms/factor);\n        if (val) {\n            let unit = val==1 ? sn : pl;\n            parts.push(`${val} ${unit}`);\n            ms -= val * factor;\n        }\n    }\n    return parts.join(\" \") || \"0 secs\";\n}\n\n\nfunction formatDistance(distance) {\n    return `${distance} m`;\n}\n\n\nexport {\n    OpenPromise,\n    formatDuration, formatTime, formatDistance\n}\n",
    "static": true,
    "longname": "/src/src/maps/tools.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 391,
    "kind": "class",
    "name": "OpenPromise",
    "memberof": "src/maps/tools.js",
    "static": true,
    "longname": "src/maps/tools.js~OpenPromise",
    "access": "public",
    "export": true,
    "importPath": "@proddi/map-components/src/maps/tools.js",
    "importStyle": "{OpenPromise}",
    "description": "Create a Promise that can be resolved later.",
    "examples": [
      "let p = new OpenPromose((resolve, reject) => {\n  // usually you can only solve that Promise inside.\n});\np.resolve(\"Yay!\");  // but this can be resolved/reject from outside as well."
    ],
    "see": [
      "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"
    ],
    "lineNumber": 11,
    "interface": false,
    "extends": [
      "Promise"
    ]
  },
  {
    "__docId__": 392,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/maps/tools.js~OpenPromise",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/maps/tools.js~OpenPromise#constructor",
    "access": "public",
    "description": "create instance",
    "lineNumber": 17,
    "params": [
      {
        "nullable": null,
        "types": [
          "function(resolve:function, reject:function)"
        ],
        "spread": false,
        "optional": false,
        "name": "executor",
        "description": ""
      }
    ]
  },
  {
    "__docId__": 393,
    "kind": "member",
    "name": "resolve",
    "memberof": "src/maps/tools.js~OpenPromise",
    "static": false,
    "longname": "src/maps/tools.js~OpenPromise#resolve",
    "access": "public",
    "description": "",
    "lineNumber": 28,
    "params": [
      {
        "nullable": null,
        "types": [
          "any"
        ],
        "spread": false,
        "optional": false,
        "name": "value",
        "description": ""
      }
    ],
    "type": {
      "nullable": null,
      "types": [
        "function"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 394,
    "kind": "member",
    "name": "reject",
    "memberof": "src/maps/tools.js~OpenPromise",
    "static": false,
    "longname": "src/maps/tools.js~OpenPromise#reject",
    "access": "public",
    "description": "",
    "lineNumber": 34,
    "params": [
      {
        "nullable": null,
        "types": [
          "any"
        ],
        "spread": false,
        "optional": false,
        "name": "reason",
        "description": ""
      }
    ],
    "type": {
      "nullable": null,
      "types": [
        "function"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 395,
    "kind": "function",
    "name": "formatDuration",
    "memberof": "src/maps/tools.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/maps/tools.js~formatDuration",
    "access": "public",
    "export": true,
    "importPath": "@proddi/map-components/src/maps/tools.js",
    "importStyle": "{formatDuration}",
    "description": null,
    "lineNumber": 45,
    "undocument": true,
    "params": [
      {
        "name": "time1",
        "types": [
          "*"
        ]
      },
      {
        "name": "time2",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 396,
    "kind": "function",
    "name": "formatTime",
    "memberof": "src/maps/tools.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/maps/tools.js~formatTime",
    "access": "public",
    "export": true,
    "importPath": "@proddi/map-components/src/maps/tools.js",
    "importStyle": "{formatTime}",
    "description": null,
    "lineNumber": 40,
    "undocument": true,
    "params": [
      {
        "name": "time",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 397,
    "kind": "function",
    "name": "formatDistance",
    "memberof": "src/maps/tools.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/maps/tools.js~formatDistance",
    "access": "public",
    "export": true,
    "importPath": "@proddi/map-components/src/maps/tools.js",
    "importStyle": "{formatDistance}",
    "description": null,
    "lineNumber": 61,
    "undocument": true,
    "params": [
      {
        "name": "distance",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "string"
      ]
    }
  },
  {
    "__docId__": 398,
    "kind": "file",
    "name": "src/route-debug.js",
    "content": "import {html, render} from 'https://unpkg.com/lit-html?module';\n\n\n/**\n * Displays an ugly but copyable string about the current route.\n *\n * @example\n * <router id=\"router\" ...></router>\n *\n * <route-debug router=\"#router\"></route-debug>\n **/\nclass RouteDebug extends HTMLElement {\n    constructor() {\n        super();\n        this.attachShadow({mode: 'open'});\n    }\n\n    connectedCallback() {\n        let router = document.querySelector(this.getAttribute(\"router\"));\n        if (router) {\n            // router events\n            router.addEventListener(\"request\", (ev) => {\n                this.showDebug(ev.detail);\n            });\n\n            // set current state\n            router.currentRequest && this.showDebug(router.currentRequest);\n        }\n    }\n\n    showDebug(request) {\n        render(TEMPLATE(request), this.shadowRoot);\n    }\n}\n\n\nconst TEMPLATE = (request) => html`\n        <style>\n            :host {\n                border: 2px solid blue;\n                d_isplay: block;\n                background-color: rgba(255, 0, 0, .8);\n            }\n        </style>\n        <div>start=<span>\"${request.start.lng},${request.start.lat}\"</span> dest=<span>\"${request.dest.lng},${request.dest.lat}\"</span> time=<span>\"${request.time}\"</span></div>\n    `;\n\n\ncustomElements.define(\"route-debug\", RouteDebug);\n\n\nexport { RouteDebug }\n",
    "static": true,
    "longname": "/src/src/route-debug.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 399,
    "kind": "function",
    "name": "TEMPLATE",
    "memberof": "src/route-debug.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/route-debug.js~TEMPLATE",
    "access": "public",
    "export": false,
    "importPath": "@proddi/map-components/src/route-debug.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 37,
    "undocument": true,
    "params": [
      {
        "name": "request",
        "types": [
          "*"
        ]
      }
    ],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 400,
    "kind": "class",
    "name": "RouteDebug",
    "memberof": "src/route-debug.js",
    "static": true,
    "longname": "src/route-debug.js~RouteDebug",
    "access": "public",
    "export": true,
    "importPath": "@proddi/map-components/src/route-debug.js",
    "importStyle": "{RouteDebug}",
    "description": "Displays an ugly but copyable string about the current route.",
    "examples": [
      "<router id=\"router\" ...></router>\n\n<route-debug router=\"#router\"></route-debug>"
    ],
    "lineNumber": 12,
    "interface": false,
    "extends": [
      "HTMLElement"
    ]
  },
  {
    "__docId__": 401,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/route-debug.js~RouteDebug",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/route-debug.js~RouteDebug#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 13,
    "undocument": true
  },
  {
    "__docId__": 402,
    "kind": "method",
    "name": "connectedCallback",
    "memberof": "src/route-debug.js~RouteDebug",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/route-debug.js~RouteDebug#connectedCallback",
    "access": "public",
    "description": null,
    "lineNumber": 18,
    "undocument": true,
    "params": [],
    "return": null
  },
  {
    "__docId__": 403,
    "kind": "method",
    "name": "showDebug",
    "memberof": "src/route-debug.js~RouteDebug",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/route-debug.js~RouteDebug#showDebug",
    "access": "public",
    "description": null,
    "lineNumber": 31,
    "undocument": true,
    "params": [
      {
        "name": "request",
        "types": [
          "*"
        ]
      }
    ],
    "return": null
  },
  {
    "__docId__": 404,
    "kind": "file",
    "name": "src/route-link.js",
    "content": "import {BaseRouter, parseCoordString, findRootElement} from './generics.js';\n\n\n/**\n * Contains a clickable route\n *\n * @example\n * <router id=\"router\" ...></router>\n *\n * <route-link router=\"#router\" start=\"lat,lng\" dest=\"lat,lng\" time=\"..\"></route-link>\n **/\nclass RouteLink extends HTMLElement {\n    constructor() {\n        super();\n\n        this.addEventListener(\"click\", (ev) => {\n            let router = findRootElement(this, this.getAttribute(\"router\"), BaseRouter);\n            router.update(parseCoordString(this.getAttribute(\"start\")), parseCoordString(this.getAttribute(\"dest\")), this.getAttribute(\"time\"));\n        });\n    }\n}\n\n\ncustomElements.define(\"route-link\", RouteLink);\n\n\nexport { RouteLink }\n",
    "static": true,
    "longname": "/src/src/route-link.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 405,
    "kind": "class",
    "name": "RouteLink",
    "memberof": "src/route-link.js",
    "static": true,
    "longname": "src/route-link.js~RouteLink",
    "access": "public",
    "export": true,
    "importPath": "@proddi/map-components/src/route-link.js",
    "importStyle": "{RouteLink}",
    "description": "Contains a clickable route",
    "examples": [
      "<router id=\"router\" ...></router>\n\n<route-link router=\"#router\" start=\"lat,lng\" dest=\"lat,lng\" time=\"..\"></route-link>"
    ],
    "lineNumber": 12,
    "interface": false,
    "extends": [
      "HTMLElement"
    ]
  },
  {
    "__docId__": 406,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/route-link.js~RouteLink",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/route-link.js~RouteLink#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 13,
    "undocument": true
  },
  {
    "__docId__": 407,
    "kind": "file",
    "name": "src/route-selector.js",
    "content": "import {html, render} from 'https://unpkg.com/lit-html?module';\nimport {repeat} from \"https://unpkg.com/lit-html/directives/repeat?module\";\nimport {BaseRouter} from './generics.js';\n\n\n/**\n * Selector watches a router and emits style events according to user input (mouse)\n *\n * @example\n * <router id=\"router\" ...></router>\n *\n * <route-selector router=\"#router></route-selector>\n *\n * @emits\n * styles\n *\n **/\nclass RouteSelector extends HTMLElement {\n    constructor() {\n        super();\n        this.attachShadow({mode: 'open'});\n        render(MARKUP(), this.shadowRoot);\n        this._root = this.shadowRoot.querySelector(\"div\");\n\n        /** @type {?BaseRouter} */\n        this.router = undefined;\n\n        this._routes = [];\n        this._error = undefined;\n        this._selectedRoute = undefined;\n        this._highlightedRoutes = [];\n\n        // router event handler\n        this._routeRequestHandler  = (ev) => this.showLoading(ev.detail);\n        this._routeResponseHandler = (ev) => { this.response = ev.detail; window.response = this.response; }\n        this._routeRoutesHandler   = (ev) => this.addRoutes(ev.detail.routes);\n        this._routeErrorHandler    = (ev) => this.showError(ev.detail);\n\n        // mouse events\n        this.shadowRoot.addEventListener(\"mouseover\", (ev) => {\n            let route = this._findRouteByNode(ev.target);\n            route && this.highlightRoute(route);\n        });\n        this.shadowRoot.addEventListener(\"mouseout\", (ev)  => {\n            let route = this._findRouteByNode(ev.target);\n            route && this.unhighlightRoute(route);\n        });\n        this.shadowRoot.addEventListener(\"click\", (ev) => {\n            let route = this._findRouteByNode(ev.target);\n            route && this.toggleSelectRoute(route);\n        });\n    }\n\n    /**\n     * sets a new router source\n     * @param {BaseRouter|DOMSelector} router - The new routes source\n     */\n    setRouter(router) {\n        // ensure a BaseRouter instance\n        if (!(router instanceof BaseRouter)) router = document.querySelector(router);\n\n        // unregister events @old router\n        if (this.router) {\n            this.router.removeEventListener(\"request\", this._routeRequestHandler);\n            this.router.removeEventListener(\"response\", this._routeResponseHandler);\n            this.router.removeEventListener(\"routes\", this._routeRoutesHandler);\n            this.router.removeEventListener(\"error\", this._routeErrorHandler);\n            this.clearRoutes();\n        }\n\n        this.router = router;\n\n        // register events @new router\n        if (this.router) {\n            this.router.addEventListener(\"request\", this._routeRequestHandler);\n            this.router.addEventListener(\"response\", this._routeResponseHandler);\n            this.router.addEventListener(\"routes\", this._routeRoutesHandler);\n            this.router.addEventListener(\"error\", this._routeErrorHandler);\n        // set current state\n//          this.showLoading(router.currentRequest);\n            router.currentRoutes && this.addRoutes(router.currentRoutes);\n            router.currentError && this.showError(router.currentError);\n        }\n    }\n\n    connectedCallback() {\n        if (this.router === undefined) this.setRouter(this.getAttribute(\"router\"));\n        let router = this.router;\n        if (router) {\n            // router events\n            router.addEventListener(\"request\", (ev) => {\n                this.showLoading(ev.detail);\n            });\n            router.addEventListener(\"routes\", (ev) => {\n                this.addRoutes(ev.detail.routes);\n            });\n            router.addEventListener(\"error\", (ev) => {\n                this.showError(ev.detail);\n            });\n\n            // set current state\n            router.currentRequest && this.showLoading(router.currentRequest);\n            router.currentRoutes && this.addRoutes(router.currentRoutes);\n            router.currentError && this.showError(router.currentError);\n        }\n    }\n\n    _findNodeByRoute(route) {\n\n    }\n\n    _findRouteByNode(node) {\n        while (node && node.getAttribute) {\n            let uid = node.getAttribute(\"data-route\");  // fails if node = shadowRoot\n            if (uid) return this._routeLookup[uid];\n            node = node.parentNode;\n        }\n    }\n\n    showResponse(routes, status) {\n        render(ROUTES(routes), this._root);\n    }\n\n    showLoading(request) {\n        render(LOADING(request), this._root);\n    }\n\n    showError(error) {\n        render(ERROR(error), this._root);\n    }\n\n    // DATA api\n    clearRoutes() {\n        console.warn(\"NOT IMPLEMENTED: clearRoutes()\");\n    }\n\n    /**\n     * adds routes to show.\n     * @param {Array<Route>} routes\n     */\n    addRoutes(routes) {\n        this._routes = routes;\n        this._routeLookup = {};\n        for (let route of routes) this._routeLookup[route.uid] = route;\n        this.dispatchEvent(new CustomEvent('routes', { detail: { routes: routes, status: {}, }}));\n        this.showResponse(routes, {});\n    }\n\n    toggleSelectRoute(route) {\n        this._selectedRoute == route ? this.unselectRoute(route) : this.selectRoute(route);\n    }\n\n    /**\n     * select route.\n     * @param {Route} route - route to be selected\n     * @param {boolean} exclusive - if true other selected routes will be unselected\n     */\n    selectRoute(route, exclusive=true) {\n        if (this._selectedRoute) {\n            this._emitRouteStyle(this._selectedRoute);\n        }\n        this._selectedRoute = route;\n        this._emitRouteStyle(this._selectedRoute, \"selected\");\n    }\n\n    /**\n     * unselect route.\n     * @param {Route} route - route to be unselected\n     */\n    unselectRoute(route) {\n        if (route && this._selectedRoute == route) {\n            this._selectedRoute = undefined;\n            this._emitRouteStyle(route);\n        }\n    }\n\n    highlightRoute(route) {\n        this._emitRouteStyle(route, this._selectedRoute == route && \"selected\", \"highlighted\");\n    }\n\n    unhighlightRoute(route) {\n        this._emitRouteStyle(route, route == this._selectedRoute && \"selected\");\n    }\n\n    _emitRouteStyle(route, ...styles) {\n        let allStyles = {};\n        allStyles[route.uid] = styles.filter((style) => style);\n        this.dispatchEvent(new CustomEvent('styles', { detail: allStyles }));\n    }\n}\n\n\nconst MARKUP = () => html`\n        <style>\n            :host {\n                border: 2px solid blue;\n                display: block;\n            }\n            :host .route {\n                border-top: 1px solid #999;\n                padding: 8px 8px 12px 8px;\n                position: relative;\n            }\n            :host .route:hover {\n                background: #DDD;\n                cursor: pointer;\n            }\n            :host .leg {\n                padding: 2px 3px;\n                border: 1px solid #555;\n                border-radius: 2px;\n                margin: 0 2px 0 0;\n                font-size: .7em;\n                font-weight: bold;\n            }\n            :host .provider {\n                position: absolute;\n                right:5px;\n                bottom:2px;\n                padding: 0px 3px;\n                font-size: .65em;\n                color: #000;\n                background: rgba(128, 128, 128, .3);\n            }\n            :host .loading {\n                background-color: rgba(192, 128, 96, .8);\n            }\n            :host .error {\n                background-color: rgba(255, 0, 0, .8);\n            }\n        </style>\n        <div></div>\n    `;\n\n\nconst ROUTES = (routes) => html`\n    ${routes.map(route => html`\n    <div class=\"route\" data-route=\"${route.uid}\">\n        ${route.departure.timeString} -&gt; ${route.arrival.timeString} (${route.duration})<br>\n        <span>${route.legs.map(leg => html`<span class=\"leg leg-${leg.transport.type}\" title=\"${leg.summary || ''}\" style=\"background-color: ${leg.transport.color};\">${leg.transport.name}</span>`)}</span>\n        <span class=\"provider\">${route.router.name}</span>\n    </div>\n    `)}\n    `;\n\nconst ERROR = (error) => html`\n    <div class=\"error\">${error}</div>\n    `;\n\nconst LOADING = (request) => html`\n    <div class=\"loading\">loading <span class=\"loc\">${request.start.name}</span> -&gt; <span class=\"loc\">${request.dest.name}</span></div>\n    `;\n\n\ncustomElements.define(\"route-selector\", RouteSelector);\n\n\nexport { RouteSelector }\n\n\n\n\n\nclass SampleElement extends HTMLElement {\n    _rootTemplate(response, itemTemplate) { return html`\n    <style>\n      :host {\n        display: block;\n      }\n\n      @media only screen and (-webkit-max-device-pixel-ratio: 1) {\n        :host {\n          will-change: transform;\n        }\n      }\n\n      #routes {\n        @apply --iron-list-items-container;\n        position: relative;\n      }\n\n      :host(:not([grid])) #routes > ::slotted(*) {\n        width: 100%;\n      }\n\n      #items > ::slotted(*) {\n        box-sizing: border-box;\n        margin: 0;\n        position: absolute;\n        top: 0;\n        will-change: transform;\n      }\n\n\n\n            :host .route {\n                @apply --iron-list-items-container;\n                border-bottom: 1px solid #999;\n                padding: 8px 8px 8px 8px;\n                position: relative;\n                display: block;\n            }\n            :host .route:hover {\n                background: #DDD;\n                cursor: pointer;\n            }\n            :host .legs {\n            }\n            :host .leg {\n                padding: 2px 3px;\n                border: 1px solid #555;\n                border-radius: 2px;\n                margin: 0 2px 0 0;\n                font-size: .7em;\n                font-weight: bold;\n            }\n            :host .leg:hover {\n                border-color: #000;\n            }\n            :host .provider {\n                position: absolute;\n                right:5px;\n                bottom:2px;\n                padding: 3px 5px;\n                font-size: .65em;\n                line-height: 1em;\n                color: #000;\n                background: rgba(128, 128, 128, .3);\n            }\n            :host .loading {\n                background-color: rgba(192, 128, 96, .8);\n            }\n            :host .error {\n                background-color: rgba(255, 0, 0, .8);\n            }\n    </style>\n\n    <array-2-selector id=\"selector\" items=\"{ {items} }\" selected=\"{ {selectedItems} }\" selected-item=\"{ {selectedItem} }\"></array-2-selector>\n\n    <div id=\"routes\">\n        <div>${response.error}</div>\n        ${repeat(response.routes || [], (route) => route.id, (route, index) => itemTemplate(route))}\n    </div>\n    `; }\n\n    constructor() {\n        super();\n\n        // prepare templates\n        // +native this._rootTemplate\n        this._itemTemplate = elementTemplate(this.querySelector(\"template\"), [\"route\", (route) => route]);\n\n        // prepare root\n        this.attachShadow({mode: 'open'});\n        this.clearRoutes();\n//        this._listParent = this.shadowRoot.querySelector(\"div\");\n\n//        render(this.itemTemplate(\"foo\", this), this._listParent);\n//        render(this.itemTemplate(\"bar\", this), this._listParent);\n        // router event handler\n        this._routeRequestHandler  = (ev) => this.showLoading(ev.detail);\n        this._routeResponseHandler = (ev) => this.showResponse(ev.detail);\n        this._routeRoutesHandler   = (ev) => this.addRoutes(ev.detail.routes);\n        this._routeErrorHandler    = (ev) => this.showError(ev.detail);\n/*\n        // mouse events\n        this.shadowRoot.addEventListener(\"mouseover\", (ev) => {\n            let route = this._findRouteByNode(ev.target);\n            route && this.highlightRoute(route);\n        });\n        this.shadowRoot.addEventListener(\"mouseout\", (ev)  => {\n            let route = this._findRouteByNode(ev.target);\n            route && this.unhighlightRoute(route);\n        });\n        this.shadowRoot.addEventListener(\"click\", (ev) => {\n            let route = this._findRouteByNode(ev.target);\n            route && this.toggleSelectRoute(route);\n        });\n*/\n    }\n\n    connectedCallback() {\n        if (this.router === undefined) this.setRouter(this.getAttribute(\"router\"));\n    }\n\n    clearRoutes() {\n        render(this._rootTemplate({}, this._itemTemplate), this.shadowRoot);\n    }\n\n    addRoutes(routes) {\n        console.warn(\"NOT IMPLEMENTED\");\n    }\n\n    showResponse(response) {\n        render(this._rootTemplate(response, this._itemTemplate), this.shadowRoot);\n    }\n\n    showLoading(request) {\n        this.clearRoutes();\n    }\n\n    showError(error) {\n        console.trace(\"NOT IMPLEMENTED\");\n    }\n\n    /**\n     * sets a new router source\n     * @param {BaseRouter|DOMSelector} router - The new routes source\n     */\n    setRouter(router) {\n        // ensure a BaseRouter instance\n        if (!(router instanceof BaseRouter)) router = document.querySelector(router);\n\n        // unregister events @old router\n        if (this.router) {\n            this.router.removeEventListener(\"request\", this._routeRequestHandler);\n            this.router.removeEventListener(\"response\", this._routeResponseHandler);\n            this.router.removeEventListener(\"routes\", this._routeRoutesHandler);\n            this.router.removeEventListener(\"error\", this._routeErrorHandler);\n            this.clearRoutes();\n        }\n\n        this.router = router;\n\n        // register events @new router\n        if (this.router) {\n            this.router.addEventListener(\"request\", this._routeRequestHandler);\n            this.router.addEventListener(\"response\", this._routeResponseHandler);\n            this.router.addEventListener(\"routes\", this._routeRoutesHandler);\n            this.router.addEventListener(\"error\", this._routeErrorHandler);\n        // set current state\n//          this.showLoading(router.currentRequest);\n            router.currentRoutes && this.addRoutes(router.currentRoutes);\n            router.currentError && this.showError(router.currentError);\n        }\n    }\n\n}\n\n\n/**\n * Extracts a template content from {DOMNode} specified via {DOMSelector}\n */\nfunction elementTemplate(node, ...fields) {\n    let as = node.getAttribute(\"as\") || \"data\";\n    let markup = node.innerHTML.trim()  // .content.firstElementChild.innerHTML.trim()\n        .replace(\"=&gt;\", \"=>\");\n    node.parentNode.removeChild(node);\n    let fn = Function.apply(null, [\"html\", as].concat(fields.map(([name, lookup]) => name)).concat([`return html\\`${markup}\\`;`]));\n//    console.log(fn);\n    return (...args) => fn(html, args[0], ...fields.map(([name, lookup]) => lookup(...args)));\n}\n\n\ncustomElements.define('route-selector-2', SampleElement);\n",
    "static": true,
    "longname": "/src/src/route-selector.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 408,
    "kind": "function",
    "name": "MARKUP",
    "memberof": "src/route-selector.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/route-selector.js~MARKUP",
    "access": "public",
    "export": false,
    "importPath": "@proddi/map-components/src/route-selector.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 193,
    "undocument": true,
    "params": [],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 409,
    "kind": "function",
    "name": "ROUTES",
    "memberof": "src/route-selector.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/route-selector.js~ROUTES",
    "access": "public",
    "export": false,
    "importPath": "@proddi/map-components/src/route-selector.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 236,
    "undocument": true,
    "params": [
      {
        "name": "routes",
        "types": [
          "*"
        ]
      }
    ],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 410,
    "kind": "function",
    "name": "ERROR",
    "memberof": "src/route-selector.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/route-selector.js~ERROR",
    "access": "public",
    "export": false,
    "importPath": "@proddi/map-components/src/route-selector.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 246,
    "undocument": true,
    "params": [
      {
        "name": "error",
        "types": [
          "*"
        ]
      }
    ],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 411,
    "kind": "function",
    "name": "LOADING",
    "memberof": "src/route-selector.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/route-selector.js~LOADING",
    "access": "public",
    "export": false,
    "importPath": "@proddi/map-components/src/route-selector.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 250,
    "undocument": true,
    "params": [
      {
        "name": "request",
        "types": [
          "*"
        ]
      }
    ],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 412,
    "kind": "class",
    "name": "SampleElement",
    "memberof": "src/route-selector.js",
    "static": true,
    "longname": "src/route-selector.js~SampleElement",
    "access": "public",
    "export": false,
    "importPath": "@proddi/map-components/src/route-selector.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 264,
    "undocument": true,
    "interface": false,
    "extends": [
      "HTMLElement"
    ],
    "ignore": true
  },
  {
    "__docId__": 413,
    "kind": "method",
    "name": "_rootTemplate",
    "memberof": "src/route-selector.js~SampleElement",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/route-selector.js~SampleElement#_rootTemplate",
    "access": "private",
    "description": null,
    "lineNumber": 265,
    "undocument": true,
    "params": [
      {
        "name": "response",
        "types": [
          "*"
        ]
      },
      {
        "name": "itemTemplate",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 414,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/route-selector.js~SampleElement",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/route-selector.js~SampleElement#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 346,
    "undocument": true
  },
  {
    "__docId__": 415,
    "kind": "member",
    "name": "_itemTemplate",
    "memberof": "src/route-selector.js~SampleElement",
    "static": false,
    "longname": "src/route-selector.js~SampleElement#_itemTemplate",
    "access": "private",
    "description": null,
    "lineNumber": 351,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 416,
    "kind": "member",
    "name": "_routeRequestHandler",
    "memberof": "src/route-selector.js~SampleElement",
    "static": false,
    "longname": "src/route-selector.js~SampleElement#_routeRequestHandler",
    "access": "private",
    "description": null,
    "lineNumber": 361,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 417,
    "kind": "member",
    "name": "_routeResponseHandler",
    "memberof": "src/route-selector.js~SampleElement",
    "static": false,
    "longname": "src/route-selector.js~SampleElement#_routeResponseHandler",
    "access": "private",
    "description": null,
    "lineNumber": 362,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 418,
    "kind": "member",
    "name": "_routeRoutesHandler",
    "memberof": "src/route-selector.js~SampleElement",
    "static": false,
    "longname": "src/route-selector.js~SampleElement#_routeRoutesHandler",
    "access": "private",
    "description": null,
    "lineNumber": 363,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 419,
    "kind": "member",
    "name": "_routeErrorHandler",
    "memberof": "src/route-selector.js~SampleElement",
    "static": false,
    "longname": "src/route-selector.js~SampleElement#_routeErrorHandler",
    "access": "private",
    "description": null,
    "lineNumber": 364,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 420,
    "kind": "method",
    "name": "connectedCallback",
    "memberof": "src/route-selector.js~SampleElement",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/route-selector.js~SampleElement#connectedCallback",
    "access": "public",
    "description": null,
    "lineNumber": 382,
    "undocument": true,
    "params": [],
    "return": null
  },
  {
    "__docId__": 421,
    "kind": "method",
    "name": "clearRoutes",
    "memberof": "src/route-selector.js~SampleElement",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/route-selector.js~SampleElement#clearRoutes",
    "access": "public",
    "description": null,
    "lineNumber": 386,
    "undocument": true,
    "params": [],
    "return": null
  },
  {
    "__docId__": 422,
    "kind": "method",
    "name": "addRoutes",
    "memberof": "src/route-selector.js~SampleElement",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/route-selector.js~SampleElement#addRoutes",
    "access": "public",
    "description": null,
    "lineNumber": 390,
    "undocument": true,
    "params": [
      {
        "name": "routes",
        "types": [
          "*"
        ]
      }
    ],
    "return": null
  },
  {
    "__docId__": 423,
    "kind": "method",
    "name": "showResponse",
    "memberof": "src/route-selector.js~SampleElement",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/route-selector.js~SampleElement#showResponse",
    "access": "public",
    "description": null,
    "lineNumber": 394,
    "undocument": true,
    "params": [
      {
        "name": "response",
        "types": [
          "*"
        ]
      }
    ],
    "return": null
  },
  {
    "__docId__": 424,
    "kind": "method",
    "name": "showLoading",
    "memberof": "src/route-selector.js~SampleElement",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/route-selector.js~SampleElement#showLoading",
    "access": "public",
    "description": null,
    "lineNumber": 398,
    "undocument": true,
    "params": [
      {
        "name": "request",
        "types": [
          "*"
        ]
      }
    ],
    "return": null
  },
  {
    "__docId__": 425,
    "kind": "method",
    "name": "showError",
    "memberof": "src/route-selector.js~SampleElement",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/route-selector.js~SampleElement#showError",
    "access": "public",
    "description": null,
    "lineNumber": 402,
    "undocument": true,
    "params": [
      {
        "name": "error",
        "types": [
          "*"
        ]
      }
    ],
    "return": null
  },
  {
    "__docId__": 426,
    "kind": "method",
    "name": "setRouter",
    "memberof": "src/route-selector.js~SampleElement",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/route-selector.js~SampleElement#setRouter",
    "access": "public",
    "description": "sets a new router source",
    "lineNumber": 410,
    "params": [
      {
        "nullable": null,
        "types": [
          "BaseRouter",
          "DOMSelector"
        ],
        "spread": false,
        "optional": false,
        "name": "router",
        "description": "The new routes source"
      }
    ],
    "return": null
  },
  {
    "__docId__": 427,
    "kind": "member",
    "name": "router",
    "memberof": "src/route-selector.js~SampleElement",
    "static": false,
    "longname": "src/route-selector.js~SampleElement#router",
    "access": "public",
    "description": null,
    "lineNumber": 423,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 428,
    "kind": "function",
    "name": "elementTemplate",
    "memberof": "src/route-selector.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/route-selector.js~elementTemplate",
    "access": "public",
    "export": false,
    "importPath": "@proddi/map-components/src/route-selector.js",
    "importStyle": null,
    "description": "Extracts a template content from {DOMNode} specified via {DOMSelector}",
    "lineNumber": 444,
    "params": [
      {
        "name": "node",
        "types": [
          "*"
        ]
      },
      {
        "name": "fields",
        "types": [
          "...*"
        ],
        "spread": true
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 429,
    "kind": "class",
    "name": "RouteSelector",
    "memberof": "src/route-selector.js",
    "static": true,
    "longname": "src/route-selector.js~RouteSelector",
    "access": "public",
    "export": true,
    "importPath": "@proddi/map-components/src/route-selector.js",
    "importStyle": "{RouteSelector}",
    "description": "Selector watches a router and emits style events according to user input (mouse)",
    "examples": [
      "<router id=\"router\" ...></router>\n\n<route-selector router=\"#router></route-selector>"
    ],
    "lineNumber": 18,
    "emits": [
      {
        "types": [
          "*"
        ],
        "description": "styles"
      }
    ],
    "interface": false,
    "extends": [
      "HTMLElement"
    ]
  },
  {
    "__docId__": 430,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/route-selector.js~RouteSelector",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/route-selector.js~RouteSelector#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 19,
    "undocument": true
  },
  {
    "__docId__": 431,
    "kind": "member",
    "name": "_root",
    "memberof": "src/route-selector.js~RouteSelector",
    "static": false,
    "longname": "src/route-selector.js~RouteSelector#_root",
    "access": "private",
    "description": null,
    "lineNumber": 23,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 432,
    "kind": "member",
    "name": "router",
    "memberof": "src/route-selector.js~RouteSelector",
    "static": false,
    "longname": "src/route-selector.js~RouteSelector#router",
    "access": "public",
    "description": null,
    "lineNumber": 26,
    "type": {
      "nullable": true,
      "types": [
        "BaseRouter"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 433,
    "kind": "member",
    "name": "_routes",
    "memberof": "src/route-selector.js~RouteSelector",
    "static": false,
    "longname": "src/route-selector.js~RouteSelector#_routes",
    "access": "private",
    "description": null,
    "lineNumber": 28,
    "undocument": true,
    "type": {
      "types": [
        "*[]"
      ]
    }
  },
  {
    "__docId__": 434,
    "kind": "member",
    "name": "_error",
    "memberof": "src/route-selector.js~RouteSelector",
    "static": false,
    "longname": "src/route-selector.js~RouteSelector#_error",
    "access": "private",
    "description": null,
    "lineNumber": 29,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 435,
    "kind": "member",
    "name": "_selectedRoute",
    "memberof": "src/route-selector.js~RouteSelector",
    "static": false,
    "longname": "src/route-selector.js~RouteSelector#_selectedRoute",
    "access": "private",
    "description": null,
    "lineNumber": 30,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 436,
    "kind": "member",
    "name": "_highlightedRoutes",
    "memberof": "src/route-selector.js~RouteSelector",
    "static": false,
    "longname": "src/route-selector.js~RouteSelector#_highlightedRoutes",
    "access": "private",
    "description": null,
    "lineNumber": 31,
    "undocument": true,
    "type": {
      "types": [
        "*[]"
      ]
    }
  },
  {
    "__docId__": 437,
    "kind": "member",
    "name": "_routeRequestHandler",
    "memberof": "src/route-selector.js~RouteSelector",
    "static": false,
    "longname": "src/route-selector.js~RouteSelector#_routeRequestHandler",
    "access": "private",
    "description": null,
    "lineNumber": 34,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 438,
    "kind": "member",
    "name": "_routeResponseHandler",
    "memberof": "src/route-selector.js~RouteSelector",
    "static": false,
    "longname": "src/route-selector.js~RouteSelector#_routeResponseHandler",
    "access": "private",
    "description": null,
    "lineNumber": 35,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 439,
    "kind": "member",
    "name": "response",
    "memberof": "src/route-selector.js~RouteSelector",
    "static": false,
    "longname": "src/route-selector.js~RouteSelector#response",
    "access": "public",
    "description": null,
    "lineNumber": 35,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 440,
    "kind": "member",
    "name": "_routeRoutesHandler",
    "memberof": "src/route-selector.js~RouteSelector",
    "static": false,
    "longname": "src/route-selector.js~RouteSelector#_routeRoutesHandler",
    "access": "private",
    "description": null,
    "lineNumber": 36,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 441,
    "kind": "member",
    "name": "_routeErrorHandler",
    "memberof": "src/route-selector.js~RouteSelector",
    "static": false,
    "longname": "src/route-selector.js~RouteSelector#_routeErrorHandler",
    "access": "private",
    "description": null,
    "lineNumber": 37,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 442,
    "kind": "method",
    "name": "setRouter",
    "memberof": "src/route-selector.js~RouteSelector",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/route-selector.js~RouteSelector#setRouter",
    "access": "public",
    "description": "sets a new router source",
    "lineNumber": 58,
    "params": [
      {
        "nullable": null,
        "types": [
          "BaseRouter",
          "DOMSelector"
        ],
        "spread": false,
        "optional": false,
        "name": "router",
        "description": "The new routes source"
      }
    ],
    "return": null
  },
  {
    "__docId__": 444,
    "kind": "method",
    "name": "connectedCallback",
    "memberof": "src/route-selector.js~RouteSelector",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/route-selector.js~RouteSelector#connectedCallback",
    "access": "public",
    "description": null,
    "lineNumber": 86,
    "undocument": true,
    "params": [],
    "return": null
  },
  {
    "__docId__": 445,
    "kind": "method",
    "name": "_findNodeByRoute",
    "memberof": "src/route-selector.js~RouteSelector",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/route-selector.js~RouteSelector#_findNodeByRoute",
    "access": "private",
    "description": null,
    "lineNumber": 108,
    "undocument": true,
    "params": [
      {
        "name": "route",
        "types": [
          "*"
        ]
      }
    ],
    "return": null
  },
  {
    "__docId__": 446,
    "kind": "method",
    "name": "_findRouteByNode",
    "memberof": "src/route-selector.js~RouteSelector",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/route-selector.js~RouteSelector#_findRouteByNode",
    "access": "private",
    "description": null,
    "lineNumber": 112,
    "undocument": true,
    "params": [
      {
        "name": "node",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 447,
    "kind": "method",
    "name": "showResponse",
    "memberof": "src/route-selector.js~RouteSelector",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/route-selector.js~RouteSelector#showResponse",
    "access": "public",
    "description": null,
    "lineNumber": 120,
    "undocument": true,
    "params": [
      {
        "name": "routes",
        "types": [
          "*"
        ]
      },
      {
        "name": "status",
        "types": [
          "*"
        ]
      }
    ],
    "return": null
  },
  {
    "__docId__": 448,
    "kind": "method",
    "name": "showLoading",
    "memberof": "src/route-selector.js~RouteSelector",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/route-selector.js~RouteSelector#showLoading",
    "access": "public",
    "description": null,
    "lineNumber": 124,
    "undocument": true,
    "params": [
      {
        "name": "request",
        "types": [
          "*"
        ]
      }
    ],
    "return": null
  },
  {
    "__docId__": 449,
    "kind": "method",
    "name": "showError",
    "memberof": "src/route-selector.js~RouteSelector",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/route-selector.js~RouteSelector#showError",
    "access": "public",
    "description": null,
    "lineNumber": 128,
    "undocument": true,
    "params": [
      {
        "name": "error",
        "types": [
          "*"
        ]
      }
    ],
    "return": null
  },
  {
    "__docId__": 450,
    "kind": "method",
    "name": "clearRoutes",
    "memberof": "src/route-selector.js~RouteSelector",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/route-selector.js~RouteSelector#clearRoutes",
    "access": "public",
    "description": null,
    "lineNumber": 133,
    "undocument": true,
    "params": [],
    "return": null
  },
  {
    "__docId__": 451,
    "kind": "method",
    "name": "addRoutes",
    "memberof": "src/route-selector.js~RouteSelector",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/route-selector.js~RouteSelector#addRoutes",
    "access": "public",
    "description": "adds routes to show.",
    "lineNumber": 141,
    "params": [
      {
        "nullable": null,
        "types": [
          "Array<Route>"
        ],
        "spread": false,
        "optional": false,
        "name": "routes",
        "description": ""
      }
    ],
    "return": null
  },
  {
    "__docId__": 453,
    "kind": "member",
    "name": "_routeLookup",
    "memberof": "src/route-selector.js~RouteSelector",
    "static": false,
    "longname": "src/route-selector.js~RouteSelector#_routeLookup",
    "access": "private",
    "description": null,
    "lineNumber": 143,
    "undocument": true,
    "type": {
      "types": [
        "{}"
      ]
    }
  },
  {
    "__docId__": 454,
    "kind": "method",
    "name": "toggleSelectRoute",
    "memberof": "src/route-selector.js~RouteSelector",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/route-selector.js~RouteSelector#toggleSelectRoute",
    "access": "public",
    "description": null,
    "lineNumber": 149,
    "undocument": true,
    "params": [
      {
        "name": "route",
        "types": [
          "*"
        ]
      }
    ],
    "return": null
  },
  {
    "__docId__": 455,
    "kind": "method",
    "name": "selectRoute",
    "memberof": "src/route-selector.js~RouteSelector",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/route-selector.js~RouteSelector#selectRoute",
    "access": "public",
    "description": "select route.",
    "lineNumber": 158,
    "params": [
      {
        "nullable": null,
        "types": [
          "Route"
        ],
        "spread": false,
        "optional": false,
        "name": "route",
        "description": "route to be selected"
      },
      {
        "nullable": null,
        "types": [
          "boolean"
        ],
        "spread": false,
        "optional": false,
        "name": "exclusive",
        "description": "if true other selected routes will be unselected"
      }
    ],
    "return": null
  },
  {
    "__docId__": 457,
    "kind": "method",
    "name": "unselectRoute",
    "memberof": "src/route-selector.js~RouteSelector",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/route-selector.js~RouteSelector#unselectRoute",
    "access": "public",
    "description": "unselect route.",
    "lineNumber": 170,
    "params": [
      {
        "nullable": null,
        "types": [
          "Route"
        ],
        "spread": false,
        "optional": false,
        "name": "route",
        "description": "route to be unselected"
      }
    ],
    "return": null
  },
  {
    "__docId__": 459,
    "kind": "method",
    "name": "highlightRoute",
    "memberof": "src/route-selector.js~RouteSelector",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/route-selector.js~RouteSelector#highlightRoute",
    "access": "public",
    "description": null,
    "lineNumber": 177,
    "undocument": true,
    "params": [
      {
        "name": "route",
        "types": [
          "*"
        ]
      }
    ],
    "return": null
  },
  {
    "__docId__": 460,
    "kind": "method",
    "name": "unhighlightRoute",
    "memberof": "src/route-selector.js~RouteSelector",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/route-selector.js~RouteSelector#unhighlightRoute",
    "access": "public",
    "description": null,
    "lineNumber": 181,
    "undocument": true,
    "params": [
      {
        "name": "route",
        "types": [
          "*"
        ]
      }
    ],
    "return": null
  },
  {
    "__docId__": 461,
    "kind": "method",
    "name": "_emitRouteStyle",
    "memberof": "src/route-selector.js~RouteSelector",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/route-selector.js~RouteSelector#_emitRouteStyle",
    "access": "private",
    "description": null,
    "lineNumber": 185,
    "undocument": true,
    "params": [
      {
        "name": "route",
        "types": [
          "*"
        ]
      },
      {
        "name": "styles",
        "types": [
          "...*"
        ],
        "spread": true
      }
    ],
    "return": null
  },
  {
    "__docId__": 462,
    "kind": "file",
    "name": "src/union-router.js",
    "content": "import {BaseRouter, Request, Response} from './generics.js';\n\n\n/**\n * Element for combining multiple routers {BaseRouter}s into one.\n *\n * @example\n * <router1 id=\"router1\"></router1>\n * <router2 id=\"router2\"></router2>\n *\n * <union-router routers=\"#router1,#router2\"\n *     start=\"lat,lon\"\n *     dest=\"lat,lon\"\n *     time=\"now\">\n * </union-router>\n */\nclass UnionRouter extends BaseRouter {\n    /**\n     * create instance.\n     */\n    constructor() {\n        super();\n\n        /** @type {string} */\n        this.type   = \"union\";\n        /** @type {BaseRouter[]} */\n        this.routers = undefined;\n    }\n\n    connectedCallback() {\n        if (!this.routers) this.setRouters(this.getAttribute(\"routers\"));\n        super.connectedCallback();\n    }\n\n    /**\n     * Sets a list of routers\n     * @param {BaseRouter[]|string} routers - A list of routers or a comma-separated {@link DOMSelector} string.\n     */\n    setRouters(routers) {\n        // currently just domselectors supported\n        this.routers = (routers && routers.split(\",\") || [])\n            .map(selector => document.querySelector(selector))\n            .filter(router => {\n                    if (router instanceof BaseRouter) return true;\n                    console.warn(router, \"is not a valid Router object. Did you include html-tag support?\");\n                });\n    }\n\n    buildRequest(start, dest, time=undefined) {\n        return new Request(this, start, dest, time, { routers: this.routers, });\n    }\n\n    /**\n     * Perform a route request.\n     * @async\n     * @param {Request} request - route request.\n     * @returns {Promise<Response, Error>} - route response\n     */\n    async route(request) {\n        return Promise.all(\n            request.routers.map(router => router.route(router.buildRequest(request.start, request.dest, request.time)))//.catch(error => undefined))\n        ).then(responses => {\n            let errors = responses.filter(response => response.error).map(response => response.error).join(\"; \");\n            let routes = responses.map(response => response.routes).reduce((prev, curr) => prev.concat(curr), []);\n            return new Response(request, ...routes).setError(errors);\n        }); // error will be te first error occurred\n    }\n}\n\n\ncustomElements.define(\"union-router\", UnionRouter);\n\n\nexport {UnionRouter}\n",
    "static": true,
    "longname": "/src/src/union-router.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 463,
    "kind": "class",
    "name": "UnionRouter",
    "memberof": "src/union-router.js",
    "static": true,
    "longname": "src/union-router.js~UnionRouter",
    "access": "public",
    "export": true,
    "importPath": "@proddi/map-components/src/union-router.js",
    "importStyle": "{UnionRouter}",
    "description": "Element for combining multiple routers {BaseRouter}s into one.",
    "examples": [
      "<router1 id=\"router1\"></router1>\n<router2 id=\"router2\"></router2>\n\n<union-router routers=\"#router1,#router2\"\n    start=\"lat,lon\"\n    dest=\"lat,lon\"\n    time=\"now\">\n</union-router>"
    ],
    "lineNumber": 17,
    "interface": false,
    "extends": [
      "src/generics.js~BaseRouter"
    ]
  },
  {
    "__docId__": 464,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/union-router.js~UnionRouter",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/union-router.js~UnionRouter#constructor",
    "access": "public",
    "description": "create instance.",
    "lineNumber": 21
  },
  {
    "__docId__": 465,
    "kind": "member",
    "name": "type",
    "memberof": "src/union-router.js~UnionRouter",
    "static": false,
    "longname": "src/union-router.js~UnionRouter#type",
    "access": "public",
    "description": null,
    "lineNumber": 25,
    "type": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 466,
    "kind": "member",
    "name": "routers",
    "memberof": "src/union-router.js~UnionRouter",
    "static": false,
    "longname": "src/union-router.js~UnionRouter#routers",
    "access": "public",
    "description": null,
    "lineNumber": 27,
    "type": {
      "nullable": null,
      "types": [
        "BaseRouter[]"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 467,
    "kind": "method",
    "name": "connectedCallback",
    "memberof": "src/union-router.js~UnionRouter",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/union-router.js~UnionRouter#connectedCallback",
    "access": "public",
    "description": null,
    "lineNumber": 30,
    "undocument": true,
    "params": [],
    "return": null
  },
  {
    "__docId__": 468,
    "kind": "method",
    "name": "setRouters",
    "memberof": "src/union-router.js~UnionRouter",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/union-router.js~UnionRouter#setRouters",
    "access": "public",
    "description": "Sets a list of routers",
    "lineNumber": 39,
    "params": [
      {
        "nullable": null,
        "types": [
          "BaseRouter[]",
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "routers",
        "description": "A list of routers or a comma-separated {@link DOMSelector} string."
      }
    ],
    "return": null
  },
  {
    "__docId__": 470,
    "kind": "method",
    "name": "buildRequest",
    "memberof": "src/union-router.js~UnionRouter",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/union-router.js~UnionRouter#buildRequest",
    "access": "public",
    "description": null,
    "lineNumber": 49,
    "undocument": true,
    "params": [
      {
        "name": "start",
        "types": [
          "*"
        ]
      },
      {
        "name": "dest",
        "types": [
          "*"
        ]
      },
      {
        "name": "time",
        "optional": true,
        "types": [
          "*"
        ],
        "defaultRaw": "undefined",
        "defaultValue": "undefined"
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 471,
    "kind": "method",
    "name": "route",
    "memberof": "src/union-router.js~UnionRouter",
    "generator": false,
    "async": true,
    "static": false,
    "longname": "src/union-router.js~UnionRouter#route",
    "access": "public",
    "description": "Perform a route request.",
    "lineNumber": 59,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise<Response, Error>} - route response"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Request"
        ],
        "spread": false,
        "optional": false,
        "name": "request",
        "description": "route request."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise<Response, Error>"
      ],
      "spread": false,
      "description": "route response"
    }
  },
  {
    "kind": "index",
    "content": "MAPS Web Components\n===================\n\nThis is a prototype to use maps out there in an easy and declarative way.\n\nExamples are located in _examples/_ folder.\n\n\n\nConcepts\n--------\n\n- normalized `Maps`, `Router`, `Search` from different providers (Google, HERE, MapBox).\n- declarative compositing of scenarios.\n\nSupport:\n--------\n\n- Google: routing\n- HERE: Map, Transit routing, Route picking, Route rendering\n- MapBox: Map, Route picking, Route rendering\n\n\nExample\n=======\n\nA fully functional map with transit route and drag'n'drop markers to change the route.\n\n    <body>\n        <here-platform id=\"here-platform\" app-id=\"${HERE_APP_ID}\" app-code=\"${HERE_APP_CODE}\"></here-platform>\n\n        <here-transit-router id=\"here-router\"\n            app-id=\"${HERE_APP_ID}\"\n            app-code=\"${HERE_APP_CODE}\"\n            start=\"13.40,52.53\"\n            dest=\"13.56,52.41\"\n            time=\"2018-12-22T19:17:07\">\n        </here-transit-router>\n\n        <here-map center=\"13.5,52.5\" zoom=\"11\" style=\"height:500px\" platform=\"#here-platform\">\n            <!-- picker is the input tool -->\n            <here-map-route-picker id=\"picker\" router=\"#here-router\"></here-map-route-picker>\n            <!-- visualize router's routes -->\n            <here-map-routes router=\"#here-router\" styles=\"#picker\"></here-map-routes>\n        </here-map>\n\n        <div style=\"position:fixed;right:0;top:0;width:300px;background:rgba(255,255,255,.8)\">\n            <route-selector id=\"route-selector\" router=\"#here-router\"></route-selector>\n        </div>\n    </body>\n\n\nUsage\n=====\n\nBuild the build:\n\n_not yet implemented_ (What is a good packaging? Webpack?)\n\nBuild docs:\n\n    make docs\n\nClean workspace:\n\n    make clean\n",
    "longname": "/src/README.md",
    "name": "./README.md",
    "static": true,
    "access": "public"
  },
  {
    "kind": "packageJSON",
    "content": "{\n    \"name\": \"@proddi/map-components\",\n    \"version\": \"0.0.1\",\n    \"license\": \"MIT\",\n    \"module\": \"src/index.js\",\n    \"main\": \"build/dist/map-components.js\",\n    \"repository\": {\n        \"type\": \"git\",\n        \"url\": \"https://github.com/proddi/map-components.git\"\n    },\n    \"scripts\": {\n        \"build\": \"./node_modules/.bin/webpack --config webpack.config.js\",\n        \"build:prod\": \"NODE_ENV=production npm run build\",\n        \"build:docs\": \"rm -rf build/docs; ./node_modules/.bin/esdoc -c docs/conf.json\",\n        \"push:docs\": \"./node_modules/.bin/gh-pages -d build/docs/ -m \\\"Auto-generated commit for documentation\\\"\"\n    },\n    \"dependencies\": {\n        \"@polymer/app-layout\": \"^3.0.2\",\n        \"@polymer/font-roboto-local\": \"^3.0.2\",\n        \"@polymer/iron-demo-helpers\": \"^3.0.2\",\n        \"@polymer/iron-icons\": \"^3.0.1\",\n        \"@polymer/iron-pages\": \"^3.0.1\",\n        \"@polymer/paper-card\": \"^3.0.1\",\n        \"@polymer/paper-icon-button\": \"^3.0.1\",\n        \"@polymer/paper-item\": \"^3.0.1\",\n        \"@polymer/paper-progress\": \"^3.0.1\",\n        \"@polymer/paper-tabs\": \"^3.0.1\",\n        \"esdoc-external-events-plugin\": \"^1.0.0\",\n        \"lit-html\": \"^0.14.0\"\n    },\n    \"devDependencies\": {\n        \"esdoc\": \"^1.1.0\",\n        \"esdoc-ecmascript-proposal-plugin\": \"^1.0.0\",\n        \"esdoc-standard-plugin\": \"^1.0.0\",\n        \"gh-pages\": \"^2.0.1\",\n        \"polymer-cli\": \"^1.9.4\",\n        \"webpack\": \"^4.28.3\",\n        \"webpack-cli\": \"^3.2.0\"\n    }\n}\n",
    "longname": "/src/package.json",
    "name": "package.json",
    "static": true,
    "access": "public"
  }
]